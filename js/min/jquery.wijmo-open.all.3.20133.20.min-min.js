function __wijReadOptionEvents(e,t){for(var i=0;i<e.length;i++)null!==t.options[e[i]]&&t.element.bind(e[i],t.options[e[i]]);for(var i in t.options)if(-1!==i.indexOf(" "))for(var n=i.split(" "),o=0;o<n.length;o++)n[o].length>0&&t.element.bind(n[o],t.options[i])}function wijmoASPNetParseOptionsReviewer(o,k){var a,v=o[k],d;if(v)switch(typeof v){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(v),a&&(d=new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]),d.setFullYear(+a[1]),o[k]=d);break;case"object":if(void 0!==v.needQuotes&&void 0!==v.valueString)v.needQuotes?o[k]=v.valueString:o[k]=eval(v.valueString);else for(k in v)wijmoASPNetParseOptionsReviewer(v,k)}}function wijmoASPNetParseOptions(e){var t;if(!e)return e;for(t in e)wijmoASPNetParseOptionsReviewer(e,t);return e}function wijmoApplyWijTouchUtilEvents(e){return e}!function(e,t){var i,n,o,r,s,a,l,d,c,h,u,p,f,g,m,w,v,b,_,y,C,S,j,x;i=function(e){return new i.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=i:e.Globalize=i,i.cultures={},i.prototype={constructor:i,init:function(e){return this.cultures=i.cultures,this.cultureSelector=e,this}},i.prototype.init.prototype=i.prototype,i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},i.cultures["default"].calendar=i.cultures["default"].calendars.standard,i.cultures.en=i.cultures["default"],i.cultureSelector="en",n=/^0x[a-f0-9]+$/i,o=/^[+-]?infinity$/i,r=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,s=/^\s+|\s+$/g,a=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},l=function(e,t){return e.substr(e.length-t.length)===t},d=function(e){var i,n,o,r,s,a,l=arguments[0]||{},p=1,f=arguments.length,e=!1;for("boolean"==typeof l&&(e=l,l=arguments[1]||{},p=2),"object"==typeof l||h(l)||(l={});f>p;p++)if(null!=(i=arguments[p]))for(n in i)o=l[n],r=i[n],l!==r&&(e&&r&&(u(r)||(s=c(r)))?(s?(s=!1,a=o&&c(o)?o:[]):a=o&&u(o)?o:{},l[n]=d(e,a,r)):r!==t&&(l[n]=r));return l},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e){return"[object Function]"===Object.prototype.toString.call(e)},u=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t){return 0===e.indexOf(t)},f=function(e){return(e+"").replace(s,"")},g=function(e){return isNaN(e)?NaN:0|e},m=function(e,t,i){for(var n=e.length;t>n;n+=1)e=i?"0"+e:e+"0";return e},w=function(e,t){for(var i=0,n=!1,o=0,r=e.length;r>o;o++){var s=e.charAt(o);switch(s){case"'":n?t.push("'"):i++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return i},v=function(e,t){t=t||"F";var i,n=e.patterns,o=t.length;if(1===o){if(i=n[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===o&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,i){function n(e,t){var i,n=e+"";return t>1&&n.length<t?(i=f[t-2]+n,i.substr(i.length-t,t)):i=n}function o(){return g||m?g:(g=_.test(t),m=!0,g)}function r(e,t){if(D)return D[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var s=i.calendar,a=s.convert;if(!t||!t.length||"i"===t){var l;if(i&&i.name.length)if(a)l=b(e,s.patterns.F,i);else{var d=new Date(e.getTime()),c=C(e,s.eras);d.setFullYear(S(e,s,c)),l=d.toLocaleString()}else l=e.toString();return l}var h=s.eras,u="s"===t;t=v(s,t),l=[];var p,f=["0","00","000"],g,m,_=/([^d]|^)(d|dd)([^d]|$)/g,j=0,x=y(),D;for(!u&&a&&(D=a.fromGregorian(e));;){var k=x.lastIndex,T=x.exec(t),M=t.slice(k,T?T.index:t.length);if(j+=w(M,l),!T)break;if(j%2)l.push(T[0]);else{var I=T[0],A=I.length;switch(I){case"ddd":case"dddd":var W=3===A?s.days.namesAbbr:s.days.names;l.push(W[e.getDay()]);break;case"d":case"dd":g=!0,l.push(n(r(e,2),A));break;case"MMM":case"MMMM":var B=r(e,1);l.push(s.monthsGenitive&&o()?s.monthsGenitive[3===A?"namesAbbr":"names"][B]:s.months[3===A?"namesAbbr":"names"][B]);break;case"M":case"MM":l.push(n(r(e,1)+1,A));break;case"y":case"yy":case"yyyy":B=D?D[0]:S(e,s,C(e,h),u),4>A&&(B%=100),l.push(n(B,A));break;case"h":case"hh":p=e.getHours()%12,0===p&&(p=12),l.push(n(p,A));break;case"H":case"HH":l.push(n(e.getHours(),A));break;case"m":case"mm":l.push(n(e.getMinutes(),A));break;case"s":case"ss":l.push(n(e.getSeconds(),A));break;case"t":case"tt":B=e.getHours()<12?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",l.push(1===A?B.charAt(0):B);break;case"f":case"ff":case"fff":l.push(n(e.getMilliseconds(),3).substr(0,A));break;case"z":case"zz":p=e.getTimezoneOffset()/60,l.push((0>=p?"+":"-")+n(Math.floor(Math.abs(p)),A));break;case"zzz":p=e.getTimezoneOffset()/60,l.push((0>=p?"+":"-")+n(Math.floor(Math.abs(p)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&l.push(s.eras[C(e,h)].name);break;case"/":l.push(s["/"]);break;default:throw"Invalid date format pattern '"+I+"'."}}}return l.join("")},function(){var e;e=function(e,t,i){var n=i.groupSizes,o=n[0],r=1,s=Math.pow(10,t),a=Math.round(e*s)/s;isFinite(a)||(a=e),e=a;var l=e+"",d="",c=l.split(/e/i),h=c.length>1?parseInt(c[1],10):0;l=c[0],c=l.split("."),l=c[0],d=c.length>1?c[1]:"";var u;h>0?(d=m(d,h,!1),l+=d.slice(0,h),d=d.substr(h)):0>h&&(h=-h,l=m(l,h+1),d=l.slice(-h,l.length)+d,l=l.slice(0,-h)),d=t>0?i["."]+(d.length>t?d.slice(0,t):m(d,t)):"";for(var p=l.length-1,f=i[","],g="";p>=0;){if(0===o||o>p)return l.slice(0,p+1)+(g.length?f+g+d:d);g=l.slice(p-o+1,p+1)+(g.length?f+g:""),p-=o,r<n.length&&(o=n[r],r++)}return l.slice(0,p+1)+f+g+d},_=function(t,i,n){if(!isFinite(t))return t===1/0?n.numberFormat.positiveInfinity:t===-(1/0)?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!i||"i"===i)return n.name.length?t.toLocaleString():t.toString();i=i||"D";var o=n.numberFormat,r=Math.abs(t),s=-1,a;i.length>1&&(s=parseInt(i.slice(1),10));var l=i.charAt(0).toUpperCase(),d;switch(l){case"D":a="n",r=g(r),-1!==s&&(r=m(""+r,s,!0)),0>t&&(r="-"+r);break;case"N":d=o;case"C":d=d||o.currency;case"P":d=d||o.percent,a=0>t?d.pattern[0]:d.pattern[1]||"n",-1===s&&(s=d.decimals),r=e(r*("P"===l?100:1),s,d);break;default:throw"Bad number format specifier: "+l}for(var c=/n|\$|-|%/g,h="";;){var u=c.lastIndex,p=c.exec(a);if(h+=a.slice(u,p?p.index:a.length),!p)break;switch(p[0]){case"n":h+=r;break;case"$":h+=o.currency.symbol;break;case"-":/[1-9]/.test(r)&&(h+=o["-"]);break;case"%":h+=o.percent.symbol}}return h}}(),y=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},C=function(e,t){if(!t)return 0;for(var i,n=e.getTime(),o=0,r=t.length;r>o;o++)if(i=t[o].start,null===i||n>=i)return o;return 0},S=function(e,t,i,n){var o=e.getFullYear();return!n&&t.eras&&(o-=t.eras[i].offset),o},function(){var e,t,i,n,o,r,s;e=function(e,t){if(100>t){var i=new Date,n=C(i),o=S(i,e,n),r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r,t+=o-o%100,t>r&&(t-=100)}return t},t=function(e,t,i){var n,o=e.days,l=e._upperDays;return l||(e._upperDays=l=[s(o.names),s(o.namesAbbr),s(o.namesShort)]),t=r(t),i?(n=a(l[1],t),-1===n&&(n=a(l[2],t))):n=a(l[0],t),n},i=function(e,t,i){var n=e.months,o=e.monthsGenitive||e.months,l=e._upperMonths,d=e._upperMonthsGen;l||(e._upperMonths=l=[s(n.names),s(n.namesAbbr)],e._upperMonthsGen=d=[s(o.names),s(o.namesAbbr)]),t=r(t);var c=a(i?l[1]:l[0],t);return 0>c&&(c=a(i?d[1]:d[0],t)),c},n=function(e,t){var i=e._parseRegExp;if(i){var n=i[t];if(n)return n}else e._parseRegExp=i={};for(var o=v(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],s=[],a=0,l=0,d=y(),c;null!==(c=d.exec(o));){var h=o.slice(a,c.index);if(a=d.lastIndex,l+=w(h,r),l%2)r.push(c[0]);else{var u=c[0],p=u.length,f;switch(u){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+u+"'."}f&&r.push(f),s.push(c[0])}}w(o.slice(a),r),r.push("$");var g=r.join("").replace(/\s+/g,"\\s+"),m={regExp:g,groups:s};return i[t]=m},o=function(e,t,i){return t>e||e>i},r=function(e){return e.split(" ").join(" ").toUpperCase()},s=function(e){for(var t=[],i=0,n=e.length;n>i;i++)t[i]=r(e[i]);return t},j=function(r,s,a){r=f(r);var l=a.calendar,d=n(l,s),c=new RegExp(d.regExp).exec(r);if(null===c)return null;for(var h=d.groups,u=null,g=null,m=null,w=null,v=null,b=0,_,y=0,C=0,S=0,j=null,x=!1,D=0,k=h.length;k>D;D++){var T=c[D+1];if(T){var M=h[D],I=M.length,A=parseInt(T,10);switch(M){case"dd":case"d":if(w=A,o(w,1,31))return null;break;case"MMM":case"MMMM":if(m=i(l,T,3===I),o(m,0,11))return null;break;case"M":case"MM":if(m=A-1,o(m,0,11))return null;break;case"y":case"yy":case"yyyy":if(g=4>I?e(l,A):A,o(g,0,9999))return null;break;case"h":case"hh":if(b=A,12===b&&(b=0),o(b,0,11))return null;break;case"H":case"HH":if(b=A,o(b,0,23))return null;break;case"m":case"mm":if(y=A,o(y,0,59))return null;break;case"s":case"ss":if(C=A,o(C,0,59))return null;break;case"tt":case"t":if(x=l.PM&&(T===l.PM[0]||T===l.PM[1]||T===l.PM[2]),!x&&(!l.AM||T!==l.AM[0]&&T!==l.AM[1]&&T!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(S=A*Math.pow(10,3-I),o(S,0,999))return null;break;case"ddd":case"dddd":if(v=t(l,T,3===I),o(v,0,6))return null;break;case"zzz":var W=T.split(/:/);if(2!==W.length)return null;if(_=parseInt(W[0],10),o(_,-12,13))return null;var B=parseInt(W[1],10);if(o(B,0,59))return null;j=60*_+(p(T,"-")?-B:B);break;case"z":case"zz":if(_=A,o(_,-12,13))return null;j=60*_;break;case"g":case"gg":var P=T;if(!P||!l.eras)return null;P=f(P.toLowerCase());for(var O=0,z=l.eras.length;z>O;O++)if(P===l.eras[O].name.toLowerCase()){u=O;break}if(null===u)return null}}}var E=new Date,H,L=l.convert;if(H=L?L.fromGregorian(E)[0]:E.getFullYear(),null===g?g=H:l.eras&&(g+=l.eras[u||0].offset),null===m&&(m=0),null===w&&(w=1),L){if(E=L.toGregorian(g,m,w),null===E)return null}else{if(E.setFullYear(g,m,w),E.getDate()!==w)return null;if(null!==v&&E.getDay()!==v)return null}if(x&&12>b&&(b+=12),E.setHours(b,y,C,S),null!==j){var F=E.getMinutes()-(j+E.getTimezoneOffset());E.setHours(E.getHours()+parseInt(F/60,10),F%60)}return E}}(),x=function(e,t,i){var n=t["-"],o=t["+"],r;switch(i){case"n -":n=" "+n,o=" "+o;case"n-":l(e,n)?r=["-",e.substr(0,e.length-n.length)]:l(e,o)&&(r=["+",e.substr(0,e.length-o.length)]);break;case"- n":n+=" ",o+=" ";case"-n":p(e,n)?r=["-",e.substr(n.length)]:p(e,o)&&(r=["+",e.substr(o.length)]);break;case"(n)":p(e,"(")&&l(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},i.prototype.findClosestCulture=function(e){return i.findClosestCulture.call(this,e)},i.prototype.format=function(e,t,n){return i.format.call(this,e,t,n)},i.prototype.localize=function(e,t){return i.localize.call(this,e,t)},i.prototype.parseInt=function(e,t,n){return i.parseInt.call(this,e,t,n)},i.prototype.parseFloat=function(e,t,n){return i.parseFloat.call(this,e,t,n)},i.prototype.culture=function(e){return i.culture.call(this,e)},i.addCultureInfo=function(e,t,i){var n={},o=!1;"string"!=typeof e?(i=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof t?(i=t,o=null==this.cultures[e],n=this.cultures[e]||this.cultures["default"]):(o=!0,n=this.cultures[t]),this.cultures[e]=d(!0,{},n,i),o&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},i.findClosestCulture=function(e){var t;if(!e)return this.cultures[this.cultureSelector]||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),c(e)){for(var i,n=this.cultures,o=e,r=o.length,s=[],a=0;r>a;a++){e=f(o[a]);var l,d=e.split(";");i=f(d[0]),1===d.length?l=1:(e=f(d[1]),0===e.indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1),s.push({lang:i,pri:l})}for(s.sort(function(e,t){return e.pri<t.pri?1:-1}),a=0;r>a;a++)if(i=s[a].lang,t=n[i])return t;for(a=0;r>a;a++)for(i=s[a].lang;;){var h=i.lastIndexOf("-");if(-1===h)break;if(i=i.substr(0,h),t=n[i])return t}for(a=0;r>a;a++){i=s[a].lang;for(var u in n){var p=n[u];if(p.language==i)return p}}}else if("object"==typeof e)return e;return t||null},i.format=function(e,t,i){return culture=this.findClosestCulture(i),e instanceof Date?e=b(e,t,culture):"number"==typeof e&&(e=_(e,t,culture)),e},i.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},i.parseDate=function(e,t,i){i=this.findClosestCulture(i);var n,o,r;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var s=0,a=t.length;a>s;s++){var l=t[s];if(l&&(n=j(e,l,i)))break}}else{r=i.calendar.patterns;for(o in r)if(n=j(e,r[o],i))break}return n||null},i.parseInt=function(e,t,n){return g(i.parseFloat(e,t,n))},i.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10);var s=this.findClosestCulture(i),a=NaN,l=s.numberFormat;if(e.indexOf(s.numberFormat.currency.symbol)>-1&&(e=e.replace(s.numberFormat.currency.symbol,""),e=e.replace(s.numberFormat.currency["."],s.numberFormat["."])),e=f(e),o.test(e))a=parseFloat(e);else if(!t&&n.test(e))a=parseInt(e,16);else{var d=x(e,l,l.pattern[0]),c=d[0],h=d[1];""===c&&"(n)"!==l.pattern[0]&&(d=x(e,l,"(n)"),c=d[0],h=d[1]),""===c&&"-n"!==l.pattern[0]&&(d=x(e,l,"-n"),c=d[0],h=d[1]),c=c||"+";var u,p,g=h.indexOf("e");0>g&&(g=h.indexOf("E")),0>g?(p=h,u=null):(p=h.substr(0,g),u=h.substr(g+1));var m,w,v=l["."],b=p.indexOf(v);0>b?(m=p,w=null):(m=p.substr(0,b),w=p.substr(b+v.length));var _=l[","];m=m.split(_).join("");var y=_.replace(/\u00A0/g," ");_!==y&&(m=m.split(y).join(""));var C=c+m;if(null!==w&&(C+="."+w),null!==u){var S=x(u,l,"-n");C+="e"+(S[0]||"+")+S[1]}r.test(C)&&(a=parseFloat(C))}return a},i.culture=function(e){return"undefined"!=typeof e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.culture["default"]}}(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){function e(e){return e&&e.constructor===Number?e+"px":e}$.fn.bgiframe=function(t){if(t=$.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;",conditional:/MSIE 6.0/.test(navigator.userAgent)},t),!$.isFunction(t.conditional)){var i=t.conditional;t.conditional=function(){return i}}var n=$('<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+t.src+'"style="display:block;position:absolute;z-index:-1;"/>');return this.each(function(){var i=$(this);if(t.conditional(this)!==!1){var o=i.children("iframe.bgiframe"),r=0===o.length?n.clone():o;r.css({top:"auto"==t.top?-1*(parseInt(i.css("borderTopWidth"),10)||0)+"px":e(t.top),left:"auto"==t.left?-1*(parseInt(i.css("borderLeftWidth"),10)||0)+"px":e(t.left),width:"auto"==t.width?this.offsetWidth+"px":e(t.width),height:"auto"==t.height?this.offsetHeight+"px":e(t.height),opacity:t.opacity===!0?0:void 0}),0===o.length&&i.prepend(r)}})},$.fn.bgIframe=$.fn.bgiframe}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function($){function e(e){var t=e||window.event,i=[].slice.call(arguments,1),r=0,s=0,a=0,l=0,d=0,c;return e=$.event.fix(t),e.type="mousewheel",t.wheelDelta&&(r=t.wheelDelta),t.detail&&(r=-1*t.detail),t.deltaY&&(a=-1*t.deltaY,r=a),t.deltaX&&(s=t.deltaX,r=-1*s),void 0!==t.wheelDeltaY&&(a=t.wheelDeltaY),void 0!==t.wheelDeltaX&&(s=-1*t.wheelDeltaX),l=Math.abs(r),(!n||n>l)&&(n=l),d=Math.max(Math.abs(a),Math.abs(s)),(!o||o>d)&&(o=d),c=r>0?"floor":"ceil",r=Math[c](r/n),s=Math[c](s/o),a=Math[c](a/o),i.unshift(e,r,s,a),($.event.dispatch||$.event.handle).apply(this,i)}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],n,o;if($.event.fixHooks)for(var r=t.length;r;)$.event.fixHooks[t[--r]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){function e(e){if(n.raw)return e;try{return decodeURIComponent(e.replace(i," "))}catch(t){}}function t(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t=e(t);try{return n.json?JSON.parse(t):t}catch(i){}}var i=/\+/g,n=$.cookie=function(i,o,r){if(void 0!==o){if(r=$.extend({},n.defaults,r),"number"==typeof r.expires){var s=r.expires,a=r.expires=new Date;a.setDate(a.getDate()+s)}return o=n.json?JSON.stringify(o):String(o),document.cookie=[n.raw?i:encodeURIComponent(i),"=",n.raw?o:encodeURIComponent(o),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var l=i?void 0:{},d=document.cookie?document.cookie.split("; "):[],c=0,h=d.length;h>c;c++){var u=d[c].split("="),p=e(u.shift()),f=u.join("=");if(i&&i===p){l=t(f);break}i||void 0===(f=t(f))||(l[p]=f)}return l};n.defaults={},$.removeCookie=function(e,t){return void 0!==$.cookie(e)?($.cookie(e,"",$.extend({},t,{expires:-1})),!0):!1}}),function(e){var t="0.4.0",i="hasOwnProperty",n=/[\.\/]/,o="*",r=function(){},s=function(e,t){return e-t},a,l,d={n:{}},c=function(e,t){var i=d,n=l,o=Array.prototype.slice.call(arguments,2),r=c.listeners(e),h=0,u=!1,p,f=[],g={},m=[],w=[];a=e,l=0;for(var v=0,b=r.length;b>v;v++)"zIndex"in r[v]&&(f.push(r[v].zIndex),r[v].zIndex<0&&(g[r[v].zIndex]=r[v]));for(f.sort(s);f[h]<0;)if(p=g[f[h++]],m.push(p.apply(t,o)),l)return l=n,m;for(v=0;b>v;v++)if(p=r[v],"zIndex"in p)if(p.zIndex==f[h]){if(m.push(p.apply(t,o)),l)return l=n,m;do if(h++,p=g[f[h]],p&&m.push(p.apply(t,o)),l)return l=n,m;while(p)}else g[p.zIndex]=p;else if(m.push(p.apply(t,o)),l)return l=n,m;return l=n,m.length?m:null};c.listeners=function(e){var t=e.split(n),i=d,r,s,a,l,c,h,u,p,f=[i],g=[];for(l=0,c=t.length;c>l;l++){for(p=[],h=0,u=f.length;u>h;h++)for(i=f[h].n,s=[i[t[l]],i[o]],a=2;a--;)r=s[a],r&&(p.push(r),g=g.concat(r.f||[]));f=p}return g},c.on=function(e,t){for(var i=e.split(n),o=d,s=0,a=i.length;a>s;s++)o=o.n,!o[i[s]]&&(o[i[s]]={n:{}}),o=o[i[s]];for(o.f=o.f||[],s=0,a=o.f.length;a>s;s++)if(o.f[s]==t)return r;return o.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},c.stop=function(){l=1},c.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(a):a},c.unbind=function(e,t){var r=e.split(n),s,a,l,c,h,u,p,f=[d];for(c=0,h=r.length;h>c;c++)for(u=0;u<f.length;u+=l.length-2){if(l=[u,1],s=f[u].n,r[c]!=o)s[r[c]]&&l.push(s[r[c]]);else for(a in s)s[i](a)&&l.push(s[a]);f.splice.apply(f,l)}for(c=0,h=f.length;h>c;c++)for(s=f[c];s.n;){if(t){if(s.f){for(u=0,p=s.f.length;p>u;u++)if(s.f[u]==t){s.f.splice(u,1);break}!s.f.length&&delete s.f}for(a in s.n)if(s.n[i](a)&&s.n[a].f){var g=s.n[a].f;for(u=0,p=g.length;p>u;u++)if(g[u]==t){g.splice(u,1);break}!g.length&&delete s.n[a].f}}else{delete s.f;for(a in s.n)s.n[i](a)&&s.n[a].f&&delete s.n[a].f}s=s.n}},c.once=function(e,t){var i=function(){t.apply(this,arguments),c.unbind(e,i)};return c.on(e,i)},c.version=t,c.toString=function(){return"You are running Eve "+t},"undefined"!=typeof module&&module.exports?module.exports=c:e.eve=c}(this),function(){function e(e,t,n,o,s,a){n=J(n);var l,d,h,p=[],f,g,w,v=e.ms,b={},_={},y={};if(o)for(j=0,x=ft.length;x>j;j++){var C=ft[j];if(C.el.id==t.id&&C.anim==e){C.percent!=n?(ft.splice(j,1),h=1):d=C,t.attr(C.totalOrigin);break}}else o=+_;for(var j=0,x=e.percents.length;x>j;j++){if(e.percents[j]==n||e.percents[j]>o*e.top){n=e.percents[j],g=e.percents[j-1]||0,v=v/e.top*(n-g),f=e.percents[j+1],l=e.anim[n];break}o&&t.attr(e.anim[e.percents[j]])}if(l){if(d)d.initstatus=o,d.start=new Date-d.ms*o;else{for(var D in l)if(l[m](D)&&(ne[m](D)||t.paper.customAttributes[m](D)))switch(b[D]=t.attr(D),null==b[D]&&(b[D]=ie[D]),_[D]=l[D],ne[D]){case H:y[D]=(_[D]-b[D])/v;break;case"colour":b[D]=c.getRGB(b[D]);var M=c.getRGB(_[D]);y[D]={r:(M.r-b[D].r)/v,g:(M.g-b[D].g)/v,b:(M.b-b[D].b)/v};break;case"path":var I=He(b[D],_[D]),A=I[1];for(b[D]=I[0],y[D]=[],j=0,x=b[D].length;x>j;j++){y[D][j]=[0];for(var W=1,B=b[D][j].length;B>W;W++)y[D][j][W]=(A[j][W]-b[D][j][W])/v}break;case"transform":var P=t._,O=Ye(P[D],_[D]);if(O)for(b[D]=O.from,_[D]=O.to,y[D]=[],y[D].real=!0,j=0,x=b[D].length;x>j;j++)for(y[D][j]=[b[D][j][0]],W=1,B=b[D][j].length;B>W;W++)y[D][j][W]=(_[D][j][W]-b[D][j][W])/v;else{var z=t.matrix||new r,E={_:{transform:P.transform},getBBox:function(){return t.getBBox(1)}};b[D]=[z.a,z.b,z.c,z.d,z.e,z.f],qe(E,_[D]),_[D]=E._.transform,y[D]=[(E.matrix.a-z.a)/v,(E.matrix.b-z.b)/v,(E.matrix.c-z.c)/v,(E.matrix.d-z.d)/v,(E.matrix.e-z.e)/v,(E.matrix.e-z.f)/v]}break;case"csv":var L=k(l[D])[T](u),F=k(b[D])[T](u);if("clip-rect"==D)for(b[D]=F,y[D]=[],j=F.length;j--;)y[D][j]=(L[j]-b[D][j])/v;_[D]=L;break;default:for(L=[][S](l[D]),F=[][S](b[D]),y[D]=[],j=t.paper.customAttributes[D].length;j--;)y[D][j]=((L[j]||0)-(F[j]||0))/v}var R=l.easing,V=c.easing_formulas[R];if(!V)if(V=k(R).match(X),V&&5==V.length){var N=V;V=function(e){return i(e,+N[1],+N[2],+N[3],+N[4],v)}}else V=fe;if(w=l.start||e.start||+new Date,C={anim:e,percent:n,timestamp:w,start:w+(e.del||0),status:0,initstatus:o||0,stop:!1,ms:v,easing:V,from:b,diff:y,to:_,el:t,callback:l.callback,prev:g,next:f,repeat:a||e.times,origin:t.attr(),totalOrigin:s},ft.push(C),o&&!d&&!h&&(C.stop=!0,C.start=new Date-v*o,1==ft.length))return mt();h&&(C.start=new Date-C.ms*o),1==ft.length&&gt(mt)}eve("anim.start."+t.id,t,e)}}function t(e,t){var i=[],n={};if(this.ms=t,this.times=1,e){for(var o in e)e[m](o)&&(n[J(o)]=e[o],i.push(J(o)));i.sort(ue)}this.anim=n,this.top=i[i.length-1],this.percents=i}function i(e,t,i,n,o,r){function s(e,t){var i,n,o,r,s,a;for(o=e,a=0;8>a;a++){if(r=l(o)-e,O(r)<t)return o;if(s=(3*h*o+2*c)*o+d,O(s)<1e-6)break;o-=r/s}if(i=0,n=1,o=e,i>o)return i;if(o>n)return n;for(;n>i;){if(r=l(o),O(r-e)<t)return o;e>r?i=o:n=o,o=(n-i)/2+i}return o}function a(e,t){var i=s(e,t);return((f*i+p)*i+u)*i}function l(e){return((h*e+c)*e+d)*e}var d=3*t,c=3*(n-t)-d,h=1-d-c,u=3*i,p=3*(o-i)-u,f=1-u-p;return a(e,1/(200*r))}function n(){return this.x+D+this.y+D+this.width+" × "+this.height}function o(){return this.x+D+this.y}function r(e,t,i,n,o,r){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+n,this.e=+o,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function s(e){for(var t=[],i=0,n=e.length;n-2>i;i+=2){var o=[{x:+e[i],y:+e[i+1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];n-4==i?(o[0]={x:+e[i-2],y:+e[i-1]},o[3]=o[2]):i&&(o[0]={x:+e[i-2],y:+e[i-1]}),t.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return t}function a(){return this.hex}function l(e,t,i){function n(){var o=Array.prototype.slice.call(arguments,0),r=o.join("␀"),s=n.cache=n.cache||{},a=n.count=n.count||[];return s[m](r)?(d(a,r),i?i(s[r]):s[r]):(a.length>=1e3&&delete s[a.shift()],a.push(r),s[r]=e[C](t,o),i?i(s[r]):s[r])}return n}function d(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}function c(e){if(c.is(e,"function"))return h?e():eve.on("DOMload",e);if(c.is(e,F))return c._engine.create[C](c,e.splice(0,3+c.is(e[0],H))).add(e);var t=Array.prototype.slice.call(arguments,0);if(c.is(t[t.length-1],"function")){var i=t.pop();return h?i.call(c._engine.create[C](c,t)):eve.on("DOMload",function(){i.call(c._engine.create[C](c,t))})}return c._engine.create[C](c,arguments)}c.version="2.0.1",c.eve=eve;var h,u=/[, ]+/,p={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},f=/\{(\d+)\}/g,g="prototype",m="hasOwnProperty",w={doc:document,win:window},v={was:Object.prototype[m].call(w.win,"Raphael"),is:w.win.Raphael},b=function(){this.ca=this.customAttributes={}},_,y="appendChild",C="apply",S="concat",j="createTouch"in w.doc,x="",D=" ",k=String,T="split",M="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[T](D),I={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},A=k.prototype.toLowerCase,W=Math,B=W.max,P=W.min,O=W.abs,z=W.pow,E=W.PI,H="number",L="string",F="array",R="toString",V="fill",N=Object.prototype.toString,q={},U="push",Y=c._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,G=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Q={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=W.round,K="setAttribute",J=parseFloat,ee=parseInt,te=k.prototype.toUpperCase,ie=c._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ne=c._availableAnimAttrs={blur:H,"clip-rect":"csv",cx:H,cy:H,fill:"colour","fill-opacity":H,"font-size":H,height:H,opacity:H,path:"path",r:H,rx:H,ry:H,stroke:"colour","stroke-opacity":H,"stroke-width":H,transform:"transform",width:H,x:H,y:H},oe=/\s*,\s*/,re={hs:1,rg:1},se=/,?([achlmqrstvxz]),?/gi,ae=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,le=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,$=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,de=c._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ce={},he=function(e,t){return e.key-t.key},ue=function(e,t){return J(e)-J(t)},pe=function(){},fe=function(e){return e},ge=c._rectPath=function(e,t,i,n,o){return o?[["M",e+o,t],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},me=function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},we=c._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return me(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return me(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ge(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ge(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ge(t.x,t.y,t.width,t.height)}},ve=c.mapPath=function(e,t){if(!t)return e;var i,n,o,r,s,a,l;for(e=He(e),o=0,s=e.length;s>o;o++)for(l=e[o],r=1,a=l.length;a>r;r+=2)i=t.x(l[r],l[r+1]),n=t.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return e};if(c._g=w,c.type=w.win.SVGAngle||w.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==c.type){var be=w.doc.createElement("div"),_e;if(be.innerHTML='<v:shape adj="1"/>',_e=be.firstChild,_e.style.behavior="url(#default#VML)",!_e||"object"!=typeof _e.adj)return c.type=x;be=null}c.svg=!(c.vml="VML"==c.type),c._Paper=b,c.fn=_=b.prototype=c.prototype,c._id=0,c._oid=0,c.is=function(e,t){return t=A.call(t),"finite"==t?!Q[m](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||N.call(e).slice(8,-1).toLowerCase()==t},c.angle=function(e,t,i,n,o,r){if(null==o){var s=e-i,a=t-n;return s||a?(180+180*W.atan2(-a,-s)/E+360)%360:0}return c.angle(e,t,o,r)-c.angle(i,n,o,r)},c.rad=function(e){return e%360*E/180},c.deg=function(e){return 180*e/E%360},c.snapTo=function(e,t,i){if(i=c.is(i,"finite")?i:10,c.is(e,F)){for(var n=e.length;n--;)if(O(e[n]-t)<=i)return e[n]}else{e=+e;var o=t%e;if(i>o)return t-o;if(o>e-i)return t-o+e}return t};var ye=c.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*W.random()|0,i="x"==e?t:3&t|8;return i.toString(16)});c.setWindow=function(e){eve("setWindow",c,w.win,e),w.win=e,w.doc=w.win.document,c._engine.initWin&&c._engine.initWin(w.win)};var Ce=function(e){if(c.vml){var t=/^\s+|\s+$/g,i;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),i=n.body}catch(o){i=createPopup().document.body}var r=i.createTextRange();Ce=l(function(e){try{i.style.color=k(e).replace(t,x);var n=r.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n.toString(16)).slice(-6)}catch(o){return"none"}})}else{var s=w.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",w.doc.body.appendChild(s),Ce=l(function(e){return s.style.color=e,w.doc.defaultView.getComputedStyle(s,x).getPropertyValue("color")})}return Ce(e)},Se=function(){return"hsb("+[this.h,this.s,this.b]+")"},je=function(){return"hsl("+[this.h,this.s,this.l]+")"},xe=function(){return this.hex},De=function(e,t,i){if(null==t&&c.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,t=e.g,e=e.r),null==t&&c.is(e,L)){var n=c.getRGB(e);e=n.r,t=n.g,i=n.b}return(e>1||t>1||i>1)&&(e/=255,t/=255,i/=255),[e,t,i]},ke=function(e,t,i,n){e*=255,t*=255,i*=255;var o={r:e,g:t,b:i,hex:c.rgb(e,t,i),toString:xe};return c.is(n,"finite")&&(o.opacity=n),o};c.color=function(e){var t;return c.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=c.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):c.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=c.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(c.is(e,"string")&&(e=c.getRGB(e)),c.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=c.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=c.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=xe,e},c.hsb2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,e=e.h,n=e.o),e*=360;var o,r,s,a,l;return e=e%360/60,l=i*t,a=l*(1-O(e%2-1)),o=r=s=i-l,e=~~e,o+=[l,a,0,0,a,l][e],r+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],ke(o,r,s,n)},c.hsl2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),e*=360;var o,r,s,a,l;return e=e%360/60,l=2*t*(.5>i?i:1-i),a=l*(1-O(e%2-1)),o=r=s=i-l/2,e=~~e,o+=[l,a,0,0,a,l][e],r+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],ke(o,r,s,n)},c.rgb2hsb=function(e,t,i){i=De(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,s;return r=B(e,t,i),s=r-P(e,t,i),
n=0==s?null:r==e?(t-i)/s:r==t?(i-e)/s+2:(e-t)/s+4,n=(n+360)%6*60/360,o=0==s?0:s/r,{h:n,s:o,b:r,toString:Se}},c.rgb2hsl=function(e,t,i){i=De(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,s,a,l;return s=B(e,t,i),a=P(e,t,i),l=s-a,n=0==l?null:s==e?(t-i)/l:s==t?(i-e)/l+2:(e-t)/l+4,n=(n+360)%6*60/360,r=(s+a)/2,o=0==l?0:.5>r?l/(2*r):l/(2-2*r),{h:n,s:o,l:r,toString:je}},c._path2string=function(){return this.join(",").replace(se,"$1")};var Te=c._preload=function(e,t){var i=w.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,w.doc.body.removeChild(this)},i.onerror=function(){w.doc.body.removeChild(this)},w.doc.body.appendChild(i),i.src=e};c.getRGB=l(function(e){if(!e||(e=k(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!re[m](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=Ce(e));var t,i,n,o,r,s,l,d=e.match(G);return d?(d[2]&&(o=ee(d[2].substring(5),16),n=ee(d[2].substring(3,5),16),i=ee(d[2].substring(1,3),16)),d[3]&&(o=ee((s=d[3].charAt(3))+s,16),n=ee((s=d[3].charAt(2))+s,16),i=ee((s=d[3].charAt(1))+s,16)),d[4]&&(l=d[4][T](oe),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==d[1].toLowerCase().slice(0,4)&&(r=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100)),d[5]?(l=d[5][T](oe),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsba"==d[1].toLowerCase().slice(0,4)&&(r=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100),c.hsb2rgb(i,n,o,r)):d[6]?(l=d[6][T](oe),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsla"==d[1].toLowerCase().slice(0,4)&&(r=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(r/=100),c.hsl2rgb(i,n,o,r)):(d={r:i,g:n,b:o,toString:a},d.hex="#"+(16777216|o|n<<8|i<<16).toString(16).slice(1),c.is(r,"finite")&&(d.opacity=r),d)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},c),c.hsb=l(function(e,t,i){return c.hsb2rgb(e,t,i).hex}),c.hsl=l(function(e,t,i){return c.hsl2rgb(e,t,i).hex}),c.rgb=l(function(e,t,i){return"#"+(16777216|i|t<<8|e<<16).toString(16).slice(1)}),c.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},c.getColor.reset=function(){delete this.start},c.parsePathString=l(function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return c.is(e,F)&&c.is(e[0],F)&&(i=Ie(e)),i.length||k(e).replace(ae,function(e,n,o){var r=[],s=n.toLowerCase();if(o.replace($,function(e,t){t&&r.push(+t)}),"m"==s&&r.length>2&&(i.push([n][S](r.splice(0,2))),s="l",n="m"==n?"l":"L"),"r"==s)i.push([n][S](r));else for(;r.length>=t[s]&&(i.push([n][S](r.splice(0,t[s]))),t[s]););}),i.toString=c._path2string,i}),c.parseTransformString=l(function(e){if(!e)return null;var t={r:3,s:4,t:2,m:6},i=[];return c.is(e,F)&&c.is(e[0],F)&&(i=Ie(e)),i.length||k(e).replace(le,function(e,t,n){var o=[],r=A.call(t);n.replace($,function(e,t){t&&o.push(+t)}),i.push([t][S](o))}),i.toString=c._path2string,i}),c.findDotsAtSegment=function(e,t,i,n,o,r,s,a,l){var d=1-l,c=z(d,3),h=z(d,2),u=l*l,p=u*l,f=c*e+3*h*l*i+3*d*l*l*o+p*s,g=c*t+3*h*l*n+3*d*l*l*r+p*a,m=e+2*l*(i-e)+u*(o-2*i+e),w=t+2*l*(n-t)+u*(r-2*n+t),v=i+2*l*(o-i)+u*(s-2*o+i),b=n+2*l*(r-n)+u*(a-2*r+n),_=d*e+l*i,y=d*t+l*n,C=d*o+l*s,S=d*r+l*a,j=90-180*W.atan2(m-v,w-b)/E;return(m>v||b>w)&&(j+=180),{x:f,y:g,m:{x:m,y:w},n:{x:v,y:b},start:{x:_,y:y},end:{x:C,y:S},alpha:j}},c._removedFactory=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}};var Me=l(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=He(e);for(var t=0,i=0,n=[],o=[],r,s=0,a=e.length;a>s;s++)if(r=e[s],"M"==r[0])t=r[1],i=r[2],n.push(t),o.push(i);else{var l=Ee(t,i,r[1],r[2],r[3],r[4],r[5],r[6]);n=n[S](l.min.x,l.max.x),o=o[S](l.min.y,l.max.y),t=r[5],i=r[6]}var d=P[C](0,n),c=P[C](0,o);return{x:d,y:c,width:B[C](0,n)-d,height:B[C](0,o)-c}},null,function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}),Ie=function(e){var t=[];c.is(e,F)&&c.is(e&&e[0],F)||(e=c.parsePathString(e));for(var i=0,n=e.length;n>i;i++){t[i]=[];for(var o=0,r=e[i].length;r>o;o++)t[i][o]=e[i][o]}return t.toString=c._path2string,t},Ae=c._pathToRelative=l(function(e){c.is(e,F)&&c.is(e&&e[0],F)||(e=c.parsePathString(e));var t=[],i=0,n=0,o=0,r=0,s=0;"M"==e[0][0]&&(i=e[0][1],n=e[0][2],o=i,r=n,s++,t.push(["M",i,n]));for(var a=s,l=e.length;l>a;a++){var d=t[a]=[],h=e[a];if(h[0]!=A.call(h[0]))switch(d[0]=A.call(h[0]),d[0]){case"a":d[1]=h[1],d[2]=h[2],d[3]=h[3],d[4]=h[4],d[5]=h[5],d[6]=+(h[6]-i).toFixed(3),d[7]=+(h[7]-n).toFixed(3);break;case"v":d[1]=+(h[1]-n).toFixed(3);break;case"m":o=h[1],r=h[2];default:for(var u=1,p=h.length;p>u;u++)d[u]=+(h[u]-(u%2?i:n)).toFixed(3)}else{d=t[a]=[],"m"==h[0]&&(o=h[1]+i,r=h[2]+n);for(var f=0,g=h.length;g>f;f++)t[a][f]=h[f]}var m=t[a].length;switch(t[a][0]){case"z":i=o,n=r;break;case"h":i+=+t[a][m-1];break;case"v":n+=+t[a][m-1];break;default:i+=+t[a][m-2],n+=+t[a][m-1]}}return t.toString=c._path2string,t},0,Ie),We=c._pathToAbsolute=l(function(e){if(c.is(e,F)&&c.is(e&&e[0],F)||(e=c.parsePathString(e)),!e||!e.length)return[["M",0,0]];var t=[],i=0,n=0,o=0,r=0,a=0;"M"==e[0][0]&&(i=+e[0][1],n=+e[0][2],o=i,r=n,a++,t[0]=["M",i,n]);for(var l,d,h=a,u=e.length;u>h;h++){if(t.push(l=[]),d=e[h],d[0]!=te.call(d[0]))switch(l[0]=te.call(d[0]),l[0]){case"A":l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=+(d[6]+i),l[7]=+(d[7]+n);break;case"V":l[1]=+d[1]+n;break;case"H":l[1]=+d[1]+i;break;case"R":for(var p=[i,n][S](d.slice(1)),f=2,g=p.length;g>f;f++)p[f]=+p[f]+i,p[++f]=+p[f]+n;t.pop(),t=t[S](s(p));break;case"M":o=+d[1]+i,r=+d[2]+n;default:for(f=1,g=d.length;g>f;f++)l[f]=+d[f]+(f%2?i:n)}else if("R"==d[0])p=[i,n][S](d.slice(1)),t.pop(),t=t[S](s(p)),l=["R"][S](d.slice(-2));else for(var m=0,w=d.length;w>m;m++)l[m]=d[m];switch(l[0]){case"Z":i=o,n=r;break;case"H":i=l[1];break;case"V":n=l[1];break;case"M":o=l[l.length-2],r=l[l.length-1];default:i=l[l.length-2],n=l[l.length-1]}}return t.toString=c._path2string,t},null,Ie),Be=function(e,t,i,n){return[e,t,i,n,i,n]},Pe=function(e,t,i,n,o,r){var s=1/3,a=2/3;return[s*e+a*i,s*t+a*n,s*o+a*i,s*r+a*n,o,r]},Oe=function(e,t,i,n,o,r,s,a,d,c){var h=120*E/180,u=E/180*(+o||0),p=[],f,g=l(function(e,t,i){var n=e*W.cos(i)-t*W.sin(i),o=e*W.sin(i)+t*W.cos(i);return{x:n,y:o}});if(c)k=c[0],M=c[1],x=c[2],D=c[3];else{f=g(e,t,-u),e=f.x,t=f.y,f=g(a,d,-u),a=f.x,d=f.y;var m=W.cos(E/180*o),w=W.sin(E/180*o),v=(e-a)/2,b=(t-d)/2,_=v*v/(i*i)+b*b/(n*n);_>1&&(_=W.sqrt(_),i=_*i,n=_*n);var y=i*i,C=n*n,j=(r==s?-1:1)*W.sqrt(O((y*C-y*b*b-C*v*v)/(y*b*b+C*v*v))),x=j*i*b/n+(e+a)/2,D=j*-n*v/i+(t+d)/2,k=W.asin(((t-D)/n).toFixed(9)),M=W.asin(((d-D)/n).toFixed(9));k=x>e?E-k:k,M=x>a?E-M:M,0>k&&(k=2*E+k),0>M&&(M=2*E+M),s&&k>M&&(k-=2*E),!s&&M>k&&(M-=2*E)}var I=M-k;if(O(I)>h){var A=M,B=a,P=d;M=k+h*(s&&M>k?1:-1),a=x+i*W.cos(M),d=D+n*W.sin(M),p=Oe(a,d,i,n,o,0,s,B,P,[M,A,x,D])}I=M-k;var z=W.cos(k),H=W.sin(k),L=W.cos(M),F=W.sin(M),R=W.tan(I/4),V=4/3*i*R,N=4/3*n*R,q=[e,t],U=[e+V*H,t-N*z],Y=[a+V*F,d-N*L],G=[a,d];if(U[0]=2*q[0]-U[0],U[1]=2*q[1]-U[1],c)return[U,Y,G][S](p);p=[U,Y,G][S](p).join()[T](",");for(var Q=[],X=0,Z=p.length;Z>X;X++)Q[X]=X%2?g(p[X-1],p[X],u).y:g(p[X],p[X+1],u).x;return Q},ze=function(e,t,i,n,o,r,s,a,l){var d=1-l;return{x:z(d,3)*e+3*z(d,2)*l*i+3*d*l*l*o+z(l,3)*s,y:z(d,3)*t+3*z(d,2)*l*n+3*d*l*l*r+z(l,3)*a}},Ee=l(function(e,t,i,n,o,r,s,a){var l=o-2*i+e-(s-2*o+i),d=2*(i-e)-2*(o-i),c=e-i,h=(-d+W.sqrt(d*d-4*l*c))/2/l,u=(-d-W.sqrt(d*d-4*l*c))/2/l,p=[t,a],f=[e,s],g;return O(h)>"1e12"&&(h=.5),O(u)>"1e12"&&(u=.5),h>0&&1>h&&(g=ze(e,t,i,n,o,r,s,a,h),f.push(g.x),p.push(g.y)),u>0&&1>u&&(g=ze(e,t,i,n,o,r,s,a,u),f.push(g.x),p.push(g.y)),l=r-2*n+t-(a-2*r+n),d=2*(n-t)-2*(r-n),c=t-n,h=(-d+W.sqrt(d*d-4*l*c))/2/l,u=(-d-W.sqrt(d*d-4*l*c))/2/l,O(h)>"1e12"&&(h=.5),O(u)>"1e12"&&(u=.5),h>0&&1>h&&(g=ze(e,t,i,n,o,r,s,a,h),f.push(g.x),p.push(g.y)),u>0&&1>u&&(g=ze(e,t,i,n,o,r,s,a,u),f.push(g.x),p.push(g.y)),{min:{x:P[C](0,f),y:P[C](0,p)},max:{x:B[C](0,f),y:B[C](0,p)}}}),He=c._path2curve=l(function(e,t){for(var i=We(e),n=t&&We(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t){var i,n;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][S](Oe[C](0,[t.x,t.y][S](e.slice(1))));break;case"S":i=t.x+(t.x-(t.bx||t.x)),n=t.y+(t.y-(t.by||t.y)),e=["C",i,n][S](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][S](Pe(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][S](Pe(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][S](Be(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][S](Be(t.x,t.y,e[1],t.y));break;case"V":e=["C"][S](Be(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][S](Be(t.x,t.y,t.X,t.Y))}return e}),a=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)e.splice(t++,0,["C"][S](o.splice(0,6)));e.splice(t,1),c=B(i.length,n&&n.length||0)}},l=function(e,t,o,r,s){e&&t&&"M"==e[s][0]&&"M"!=t[s][0]&&(t.splice(s,0,["M",r.x,r.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],c=B(i.length,n&&n.length||0))},d=0,c=B(i.length,n&&n.length||0);c>d;d++){i[d]=s(i[d],o),a(i,d),n&&(n[d]=s(n[d],r)),n&&a(n,d),l(i,n,o,r,d),l(n,i,r,o,d);var h=i[d],u=n&&n[d],p=h.length,f=n&&u.length;o.x=h[p-2],o.y=h[p-1],o.bx=J(h[p-4])||o.x,o.by=J(h[p-3])||o.y,r.bx=n&&(J(u[f-4])||r.x),r.by=n&&(J(u[f-3])||r.y),r.x=n&&u[f-2],r.y=n&&u[f-1]}return n?[i,n]:i},null,Ie),Le=c._parseDots=l(function(e){for(var t=[],i=0,n=e.length;n>i;i++){var o={},r=e[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=c.getRGB(r[1]),o.color.error)return null;o.color=o.color.hex,r[2]&&(o.offset=r[2]+"%"),t.push(o)}for(i=1,n=t.length-1;n>i;i++)if(!t[i].offset){for(var s=J(t[i-1].offset||0),a=0,l=i+1;n>l;l++)if(t[l].offset){a=t[l].offset;break}a||(a=100,l=n),a=J(a);for(var d=(a-s)/(l-i+1);l>i;i++)s+=d,t[i].offset=s+"%"}return t}),Fe=c._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},Re=c._tofront=function(e,t){t.top!==e&&(Fe(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},Ve=c._toback=function(e,t){t.bottom!==e&&(Fe(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},Ne=c._insertafter=function(e,t,i){Fe(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},$e=c._insertbefore=function(e,t,i){Fe(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},qe=c._extractTransform=function(e,t){if(null==t)return e._.transform;t=k(t).replace(/\.{3}|\u2026/g,e._.transform||x);var i=c.parseTransformString(t),n=0,o=0,s=0,a=1,l=1,d=e._,h=new r;if(d.transform=i||[],i)for(var u=0,p=i.length;p>u;u++){var f=i[u],g=f.length,m=k(f[0]).toLowerCase(),w=f[0]!=m,v=w?h.invert():0,b,_,y,C,S;"t"==m&&3==g?w?(b=v.x(0,0),_=v.y(0,0),y=v.x(f[1],f[2]),C=v.y(f[1],f[2]),h.translate(y-b,C-_)):h.translate(f[1],f[2]):"r"==m?2==g?(S=S||e.getBBox(1),h.rotate(f[1],S.x+S.width/2,S.y+S.height/2),n+=f[1]):4==g&&(w?(y=v.x(f[2],f[3]),C=v.y(f[2],f[3]),h.rotate(f[1],y,C)):h.rotate(f[1],f[2],f[3]),n+=f[1]):"s"==m?2==g||3==g?(S=S||e.getBBox(1),h.scale(f[1],f[g-1],S.x+S.width/2,S.y+S.height/2),a*=f[1],l*=f[g-1]):5==g&&(w?(y=v.x(f[3],f[4]),C=v.y(f[3],f[4]),h.scale(f[1],f[2],y,C)):h.scale(f[1],f[2],f[3],f[4]),a*=f[1],l*=f[2]):"m"==m&&7==g&&h.add(f[1],f[2],f[3],f[4],f[5],f[6]),d.dirtyT=1,e.matrix=h}e.matrix=h,d.sx=a,d.sy=l,d.deg=n,d.dx=o=h.e,d.dy=s=h.f,1==a&&1==l&&!n&&d.bbox?(d.bbox.x+=+o,d.bbox.y+=+s):d.dirtyT=1},Ue=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Ye=c._equaliseTransform=function(e,t){t=k(t).replace(/\.{3}|\u2026/g,e),e=c.parseTransformString(e)||[],t=c.parseTransformString(t)||[];for(var i=B(e.length,t.length),n=[],o=[],r=0,s,a,l,d;i>r;r++){if(l=e[r]||Ue(t[r]),d=t[r]||Ue(l),l[0]!=d[0]||"r"==l[0].toLowerCase()&&(l[2]!=d[2]||l[3]!=d[3])||"s"==l[0].toLowerCase()&&(l[3]!=d[3]||l[4]!=d[4]))return;for(n[r]=[],o[r]=[],s=0,a=B(l.length,d.length);a>s;s++)s in l&&(n[r][s]=l[s]),s in d&&(o[r][s]=d[s])}return{from:n,to:o}};c._getContainer=function(e,t,i,n){var o;return o=null!=n||c.is(e,"object")?e:w.doc.getElementById(e),null!=o?o.tagName?null==t?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:t,height:i}:{container:1,x:e,y:t,width:i,height:n}:void 0},c.pathToRelative=Ae,c._engine={},c.path2curve=He,c.matrix=function(e,t,i,n,o,s){return new r(e,t,i,n,o,s)},function(e){function t(e){var t=W.sqrt(i(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}function i(e){return e[0]*e[0]+e[1]*e[1]}e.add=function(e,t,i,n,o,s){var a=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[e,i,o],[t,n,s],[0,0,1]],c,h,u,p;for(e&&e instanceof r&&(d=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),c=0;3>c;c++)for(h=0;3>h;h++){for(p=0,u=0;3>u;u++)p+=l[c][u]*d[u][h];a[c][h]=p}this.a=a[0][0],this.b=a[1][0],this.c=a[0][1],this.d=a[1][1],this.e=a[0][2],this.f=a[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new r(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new r(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,n){null==t&&(t=e),(i||n)&&this.add(1,0,0,1,i,n),this.add(e,0,0,t,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,t,i){e=c.rad(e),t=t||0,i=i||0;var n=+W.cos(e).toFixed(9),o=+W.sin(e).toFixed(9);this.add(n,o,-o,n,t,i),this.add(1,0,0,1,-t,-i)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[k.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return c.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=W.sqrt(i(n[0])),t(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=W.sqrt(i(n[1])),t(n[1]),e.shear/=e.scaley;var o=-n[0][1],r=n[1][1];return 0>r?(e.rotate=c.deg(W.acos(r)),0>o&&(e.rotate=360-e.rotate)):e.rotate=c.deg(W.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[T]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx&&t.dy?"t"+[t.dx,t.dy]:x)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:x)+(t.rotate?"r"+[t.rotate,0,0]:x)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(r.prototype);var Ge=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Ge&&Ge[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Ge&&Ge[1]<8?_.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:_.safari=pe;for(var Qe=function(){this.returnValue=!1},Xe=function(){return this.originalEvent.preventDefault()},Ze=function(){this.cancelBubble=!0},Ke=function(){return this.originalEvent.stopPropagation()},Je=function(){return w.doc.addEventListener?function(e,t,i,n){var o=j&&I[t]?I[t]:t,r=function(o){var r=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,s=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,a=o.clientX+s,l=o.clientY+r;if(j&&I[m](t))for(var d=0,c=o.targetTouches&&o.targetTouches.length;c>d;d++)if(o.targetTouches[d].target==e){var h=o;o=o.targetTouches[d],o.originalEvent=h,o.preventDefault=Xe,o.stopPropagation=Ke;break}return i.call(n,o,a,l)};return e.addEventListener(o,r,!1),function(){return e.removeEventListener(o,r,!1),!0}}:w.doc.attachEvent?function(e,t,i,n){var o=function(e){e=e||w.win.event;var t=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,o=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,r=e.clientX+o,s=e.clientY+t;return e.preventDefault=e.preventDefault||Qe,e.stopPropagation=e.stopPropagation||Ze,i.call(n,e,r,s)};e.attachEvent("on"+t,o);var r=function(){return e.detachEvent("on"+t,o),!0};return r}:void 0}(),et=[],tt=function(e){for(var t=e.clientX,i=e.clientY,n=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,o=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,r,s=et.length;s--;){if(r=et[s],j){for(var a=e.touches.length,l;a--;)if(l=e.touches[a],l.identifier==r.el._drag.id){t=l.clientX,i=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var d=r.el.node,c,h=d.nextSibling,u=d.parentNode,p=d.style.display;w.win.opera&&u.removeChild(d),d.style.display="none",c=r.el.paper.getElementByPoint(t,i),d.style.display=p,w.win.opera&&(h?u.insertBefore(d,h):u.appendChild(d)),c&&eve("drag.over."+r.el.id,r.el,c),t+=o,i+=n,eve("drag.move."+r.el.id,r.move_scope||r.el,t-r.el._drag.x,i-r.el._drag.y,t,i,e)}},it=function(e){c.unmousemove(tt).unmouseup(it);for(var t=et.length,i;t--;)i=et[t],i.el._drag={},eve("drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,e);et=[]},nt=c.el={},ot=M.length;ot--;)(function(e){c[e]=nt[e]=function(t,i){return c.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Je(this.shape||this.node||w.doc,e,t,i||this)})),this},c["un"+e]=nt["un"+e]=function(t){for(var i=this.events,n=i.length;n--;)if(i[n].name==e&&i[n].f==t)return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}})(M[ot]);nt.data=function(e,t){var i=ce[this.id]=ce[this.id]||{};if(1==arguments.length){if(c.is(e,"object")){for(var n in e)e[m](n)&&this.data(n,e[n]);return this}return eve("data.get."+this.id,this,i[e],e),i[e]}return i[e]=t,eve("data.set."+this.id,this,t,e),this},nt.removeData=function(e){return null==e?ce[this.id]={}:ce[this.id]&&delete ce[this.id][e],this},nt.hover=function(e,t,i,n){return this.mouseover(e,i).mouseout(t,n||i)},nt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var rt=[];nt.drag=function(e,t,i,n,o,r){function s(s){(s.originalEvent||s).preventDefault();var a=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,l=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft;this._drag.x=s.clientX+l,this._drag.y=s.clientY+a,this._drag.id=s.identifier,!et.length&&c.mousemove(tt).mouseup(it),et.push({el:this,move_scope:n,start_scope:o,end_scope:r}),t&&eve.on("drag.start."+this.id,t),e&&eve.on("drag.move."+this.id,e),i&&eve.on("drag.end."+this.id,i),eve("drag.start."+this.id,o||n||this,s.clientX+l,s.clientY+a,s)}return this._drag={},rt.push({el:this,start:s}),this.mousedown(s),this},nt.onDragOver=function(e){e?eve.on("drag.over."+this.id,e):eve.unbind("drag.over."+this.id)},nt.undrag=function(){for(var e=rt.length;e--;)rt[e].el==this&&(this.unmousedown(rt[e].start),rt.splice(e,1),eve.unbind("drag.*."+this.id));!rt.length&&c.unmousemove(tt).unmouseup(it)},_.circle=function(e,t,i){var n=c._engine.circle(this,e||0,t||0,i||0);return this.__set__&&this.__set__.push(n),n},_.rect=function(e,t,i,n,o){var r=c._engine.rect(this,e||0,t||0,i||0,n||0,o||0);return this.__set__&&this.__set__.push(r),r},_.ellipse=function(e,t,i,n){var o=c._engine.ellipse(this,e||0,t||0,i||0,n||0);return this.__set__&&this.__set__.push(o),o},_.path=function(e){e&&!c.is(e,L)&&!c.is(e[0],F)&&(e+=x);var t=c._engine.path(c.format[C](c,arguments),this);return this.__set__&&this.__set__.push(t),t},_.image=function(e,t,i,n,o){var r=c._engine.image(this,e||"about:blank",t||0,i||0,n||0,o||0);return this.__set__&&this.__set__.push(r),r},_.text=function(e,t,i){var n=c._engine.text(this,e||0,t||0,k(i));return this.__set__&&this.__set__.push(n),n},_.set=function(e){!c.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new vt(e);return this.__set__&&this.__set__.push(t),t},_.setStart=function(e){this.__set__=e||this.set()},_.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},_.setSize=function(e,t){return c._engine.setSize.call(this,e,t)},_.setViewBox=function(e,t,i,n,o){return c._engine.setViewBox.call(this,e,t,i,n,o)},_.top=_.bottom=null,_.raphael=c;var st=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,n=i.body,o=i.documentElement,r=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0,a=t.top+(w.win.pageYOffset||o.scrollTop||n.scrollTop)-r,l=t.left+(w.win.pageXOffset||o.scrollLeft||n.scrollLeft)-s;return{y:a,x:l}};_.getElementByPoint=function(e,t){var i=this,n=i.canvas,o=w.doc.elementFromPoint(e,t);if(w.win.opera&&"svg"==o.tagName){var r=st(n),s=n.createSVGRect();s.x=e-r.x,s.y=t-r.y,s.width=s.height=1;var a=n.getIntersectionList(s,null);a.length&&(o=a[a.length-1])}if(!o)return null;for(;o.parentNode&&o!=n.parentNode&&!o.raphael;)o=o.parentNode;return o==i.canvas.parentNode&&(o=n),o=o&&o.raphael?i.getById(o.raphaelid):null},_.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},_.forEach=function(e,t){for(var i=this.bottom;i;){if(e.call(t,i)===!1)return this;i=i.next}return this},nt.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=we[this.type](this),t.bboxwt=Me(this.realPath),t.bboxwt.toString=n,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=we[this.type](this)),t.bbox=Me(ve(this.realPath,this.matrix)),t.bbox.toString=n,t.dirty=t.dirtyT=0),t.bbox)},nt.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},nt.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,n=this.paper,o=n.set(),r=this.realPath||we[this.type](this);r=this.matrix?ve(r,this.matrix):r;for(var s=1;i+1>s;s++)o.push(n.path(r).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*s).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return o.insertBefore(this).translate(t.offsetx,t.offsety)};var at={},lt=function(e,t,i,n,o,r,s,a,l){var d=0,h=100,u=[e,t,i,n,o,r,s,a].join(),p=at[u],f,g;if(!p&&(at[u]=p={data:[]}),p.timer&&clearTimeout(p.timer),p.timer=setTimeout(function(){delete at[u]},2e3),null!=l&&!p.precision){var m=lt(e,t,i,n,o,r,s,a);p.precision=10*~~m,p.data=[]}h=p.precision||h;for(var w=0;h+1>w;w++){if(p.data[w*h]?g=p.data[w*h]:(g=c.findDotsAtSegment(e,t,i,n,o,r,s,a,w/h),p.data[w*h]=g),w&&(d+=z(z(f.x-g.x,2)+z(f.y-g.y,2),.5)),null!=l&&d>=l)return g;f=g}return null==l?d:void 0},dt=function(e,t){return function(i,n,o){i=He(i);for(var r,s,a,l,d="",h={},u,p=0,f=0,g=i.length;g>f;f++){if(a=i[f],"M"==a[0])r=+a[1],s=+a[2];else{if(l=lt(r,s,a[1],a[2],a[3],a[4],a[5],a[6]),p+l>n){if(t&&!h.start){if(u=lt(r,s,a[1],a[2],a[3],a[4],a[5],a[6],n-p),d+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return d;h.start=d,d=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,a[5],a[6]].join(),p+=l,r=+a[5],s=+a[6];continue}if(!e&&!t)return u=lt(r,s,a[1],a[2],a[3],a[4],a[5],a[6],n-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=l,r=+a[5],s=+a[6]}d+=a.shift()+a}return h.end=d,u=e?p:t?h:c.findDotsAtSegment(r,s,a[0],a[1],a[2],a[3],a[4],a[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},ct=dt(1),ht=dt(),ut=dt(0,1);c.getTotalLength=ct,c.getPointAtLength=ht,c.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return ut(e,t).end;var n=ut(e,i,1);return t?ut(n,t).end:n},nt.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ct(this.attrs.path):void 0},nt.getPointAtLength=function(e){return"path"==this.type?ht(this.attrs.path,e):void 0},nt.getSubpath=function(e,t){return"path"==this.type?c.getSubpath(this.attrs.path,e,t):void 0};var pt=c.easing_formulas={linear:function(e){return e},"<":function(e){return z(e,1.7)},">":function(e){return z(e,.48)},"<>":function(e){var t=.48-e/1.04,i=W.sqrt(.1734+t*t),n=i-t,o=z(O(n),1/3)*(0>n?-1:1),r=-i-t,s=z(O(r),1/3)*(0>r?-1:1),a=o+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:z(2,-10*e)*W.sin(2*(e-.075)*E/.3)+1},bounce:function(e){var t=7.5625,i=2.75,n;return 1/i>e?n=t*e*e:2/i>e?(e-=1.5/i,n=t*e*e+.75):2.5/i>e?(e-=2.25/i,n=t*e*e+.9375):(e-=2.625/i,n=t*e*e+.984375),n}};pt.easeIn=pt["ease-in"]=pt["<"],pt.easeOut=pt["ease-out"]=pt[">"],pt.easeInOut=pt["ease-in-out"]=pt["<>"],pt["back-in"]=pt.backIn,pt["back-out"]=pt.backOut;var ft=[],gt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},mt=function(){for(var t=+new Date,i=0;i<ft.length;i++){var n=ft[i];if(!n.el.removed&&!n.paused){var o=t-n.start,r=n.ms,s=n.easing,a=n.from,l=n.diff,d=n.to,h=n.t,u=n.el,p={},f,g={},w;if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*r,n.status=n.initstatus,delete n.initstatus,n.stop&&ft.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/r))/n.anim.top,!(0>o))if(r>o){var v=s(o/r);for(var b in a)if(a[m](b)){switch(ne[b]){case H:f=+a[b]+v*r*l[b];break;case"colour":f="rgb("+[wt(Z(a[b].r+v*r*l[b].r)),wt(Z(a[b].g+v*r*l[b].g)),wt(Z(a[b].b+v*r*l[b].b))].join(",")+")";break;case"path":f=[];for(var _=0,y=a[b].length;y>_;_++){f[_]=[a[b][_][0]];for(var C=1,j=a[b][_].length;j>C;C++)f[_][C]=+a[b][_][C]+v*r*l[b][_][C];f[_]=f[_].join(D)}f=f.join(D);break;case"transform":if(l[b].real)for(f=[],_=0,y=a[b].length;y>_;_++)for(f[_]=[a[b][_][0]],C=1,j=a[b][_].length;j>C;C++)f[_][C]=a[b][_][C]+v*r*l[b][_][C];else{var x=function(e){return+a[b][e]+v*r*l[b][e]};f=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==b)for(f=[],_=4;_--;)f[_]=+a[b][_]+v*r*l[b][_];break;default:var k=[][S](a[b]);for(f=[],_=u.paper.customAttributes[b].length;_--;)f[_]=+k[_]+v*r*l[b][_]}p[b]=f}u.attr(p),function(e,t,i){setTimeout(function(){eve("anim.frame."+e,t,i)})}(u.id,u,n.anim)}else{if(function(e,t,i){setTimeout(function(){eve("anim.frame."+t.id,t,i),eve("anim.finish."+t.id,t,i),c.is(e,"function")&&e.call(t)})}(n.callback,u,n.anim),u.attr(d),ft.splice(i--,1),n.repeat>1&&!n.next){for(w in d)d[m](w)&&(g[w]=n.totalOrigin[w]);n.el.attr(g),e(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&e(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}c.svg&&u&&u.paper&&u.paper.safari(),ft.length&&gt(mt)},wt=function(e){return e>255?255:0>e?0:e};nt.animateWith=function(e,t,i,n,o,r){var s=i?c.animation(i,n,o,r):t,a=e.status(t);return this.animate(s).status(s,a*t.ms/s.ms)},nt.onAnimation=function(e){return e?eve.on("anim.frame."+this.id,e):eve.unbind("anim.frame."+this.id),this},t.prototype.delay=function(e){var i=new t(this.anim,this.ms);return i.times=this.times,i.del=+e||0,i},t.prototype.repeat=function(e){var i=new t(this.anim,this.ms);return i.del=this.del,i.times=W.floor(B(e,0))||1,i},c.animation=function(e,i,n,o){if(e instanceof t)return e;(c.is(n,"function")||!n)&&(o=o||n||null,n=null),e=Object(e),i=+i||0;var r={},s,a;for(a in e)e[m](a)&&J(a)!=a&&J(a)+"%"!=a&&(s=!0,r[a]=e[a]);return s?(n&&(r.easing=n),o&&(r.callback=o),new t({100:r},i)):new t(e,i)},nt.animate=function(i,n,o,r){var s=this;if(s.removed)return r&&r.call(s),s;var a=i instanceof t?i:c.animation(i,n,o,r);return e(a,s,a.percents[0],null,s.attr()),s},nt.setTime=function(e,t){return e&&null!=t&&this.status(e,P(t,e.ms)/e.ms),this},nt.status=function(t,i){var n=[],o=0,r,s;if(null!=i)return e(t,this,-1,P(i,1)),this;for(r=ft.length;r>o;o++)if(s=ft[o],s.el.id==this.id&&(!t||s.anim==t)){if(t)return s.status;n.push({anim:s.anim,status:s.status})}return t?0:n},nt.pause=function(e){for(var t=0;t<ft.length;t++)ft[t].el.id==this.id&&(!e||ft[t].anim==e)&&eve("anim.pause."+this.id,this,ft[t].anim)!==!1&&(ft[t].paused=!0);return this},nt.resume=function(e){for(var t=0;t<ft.length;t++)if(ft[t].el.id==this.id&&(!e||ft[t].anim==e)){var i=ft[t];eve("anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},nt.stop=function(e){for(var t=0;t<ft.length;t++)ft[t].el.id==this.id&&(!e||ft[t].anim==e)&&eve("anim.stop."+this.id,this,ft[t].anim)!==!1&&ft.splice(t--,1);return this},nt.toString=function(){return"Raphaël’s object"};var vt=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,i=e.length;i>t;t++)e[t]&&(e[t].constructor==nt.constructor||e[t].constructor==vt)&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},bt=vt.prototype;bt.push=function(){for(var e,t,i=0,n=arguments.length;n>i;i++)e=arguments[i],e&&(e.constructor==nt.constructor||e.constructor==vt)&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},bt.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},bt.forEach=function(e,t){for(var i=0,n=this.items.length;n>i;i++)if(e.call(t,this.items[i],i)===!1)return this;return this};for(var _t in nt)nt[m](_t)&&(bt[_t]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e][C](i,t)})}}(_t));bt.attr=function(e,t){if(e&&c.is(e,F)&&c.is(e[0],"object"))for(var i=0,n=e.length;n>i;i++)this.items[i].attr(e[i]);else for(var o=0,r=this.items.length;r>o;o++)this.items[o].attr(e,t);return this},bt.clear=function(){for(;this.length;)this.pop()},bt.splice=function(e,t,i){e=0>e?B(this.length+e,0):e,t=B(0,P(this.length-e,t));var n=[],o=[],r=[],s;for(s=2;s<arguments.length;s++)r.push(arguments[s]);for(s=0;t>s;s++)o.push(this[e+s]);for(;s<this.length-e;s++)n.push(this[e+s]);var a=r.length;for(s=0;s<a+n.length;s++)this.items[e+s]=this[e+s]=a>s?r[s]:n[s-a];for(s=this.items.length=this.length-=t-a;this[s];)delete this[s++];return new vt(o)},bt.exclude=function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return this.splice(t,1),!0},bt.animate=function(e,t,i,n){(c.is(i,"function")||!i)&&(n=i||null);var o=this.items.length,r=o,s,a=this,l;if(!o)return this;n&&(l=function(){!--o&&n.call(a)}),i=c.is(i,L)?i:l;var d=c.animation(e,t,i,l);for(s=this.items[--r].animate(d);r--;)this.items[r]&&!this.items[r].removed&&this.items[r].animateWith(s,d);return this},bt.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},bt.getBBox=function(){for(var e=[],t=[],i=[],n=[],o=this.items.length;o--;)if(!this.items[o].removed){var r=this.items[o].getBBox();e.push(r.x),t.push(r.y),i.push(r.x+r.width),n.push(r.y+r.height)}return e=P[C](0,e),t=P[C](0,t),{x:e,y:t,width:B[C](0,i)-e,height:B[C](0,n)-t}},bt.clone=function(e){e=new vt;for(var t=0,i=this.items.length;i>t;t++)e.push(this.items[t].clone());return e},bt.toString=function(){return"Raphaël‘s set"},c.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var n in e.face)e.face[m](n)&&(t.face[n]=e.face[n]);
if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg){t.face["units-per-em"]=ee(e.face["units-per-em"],10);for(var o in e.glyphs)if(e.glyphs[m](o)){var r=e.glyphs[o];if(t.glyphs[o]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},r.k)for(var s in r.k)r[m](s)&&(t.glyphs[o].k[s]=r.k[s])}}return e},_.getFont=function(e,t,i,n){if(n=n||"normal",i=i||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,c.fonts){var o=c.fonts[e];if(!o){var r=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,x)+"(\\s|$)","i");for(var s in c.fonts)if(c.fonts[m](s)&&r.test(s)){o=c.fonts[s];break}}var a;if(o)for(var l=0,d=o.length;d>l&&(a=o[l],a.face["font-weight"]!=t||a.face["font-style"]!=i&&a.face["font-style"]||a.face["font-stretch"]!=n);l++);return a}},_.print=function(e,t,i,n,o,r,s){r=r||"middle",s=B(P(s||0,1),-1);var a=this.set(),l=k(i)[T](x),d=0,h=x,p;if(c.is(n,i)&&(n=this.getFont(n)),n){p=(o||16)/n.face["units-per-em"];for(var f=n.face.bbox[T](u),g=+f[0],m=+f[1]+("baseline"==r?f[3]-f[1]+ +n.face.descent:(f[3]-f[1])/2),w=0,v=l.length;v>w;w++){var b=w&&n.glyphs[l[w-1]]||{},_=n.glyphs[l[w]];d+=w?(b.w||n.w)+(b.k&&b.k[l[w]]||0)+n.w*s:0,_&&_.d&&a.push(this.path(_.d).attr({fill:"#000",stroke:"none",transform:[["t",d*p,0]]}))}a.transform(["...s",p,p,g,m,"t",(e-g)/p,(t-m)/p])}return a},_.add=function(e){if(c.is(e,"array"))for(var t=this.set(),i=0,n=e.length,o;n>i;i++)o=e[i]||{},p[m](o.type)&&t.push(this[o.type]().attr(o));return t},c.format=function(e,t){var i=c.is(t,F)?[0][S](t):arguments;return e&&c.is(e,L)&&i.length-1&&(e=e.replace(f,function(e,t){return null==i[++t]?x:i[t]})),e||x},c.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(e,i,n){var o=n;return i.replace(t,function(e,t,i,n,r){t=t||n,o&&(t in o&&(o=o[t]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?e:o)+""};return function(t,n){return String(t).replace(e,function(e,t){return i(e,t,n)})}}(),c.ninja=function(){return v.was?w.win.Raphael=v.is:delete Raphael,c},c.st=bt,function(e,t,i){function n(){/in/.test(e.readyState)?setTimeout(n,9):c.eve("DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(t,i=function(){e.removeEventListener(t,i,!1),e.readyState="complete"},!1),e.readyState="loading"),n()}(document,"DOMContentLoaded"),v.was?w.win.Raphael=c:Raphael=c,eve.on("DOMload",function(){h=!0})}(),window.Raphael.svg&&function(e){var t="hasOwnProperty",i=String,n=parseFloat,o=parseInt,r=Math,s=r.max,a=r.abs,l=r.pow,d=/[, ]+/,c=e.eve,h="",u=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,o){if(o){"string"==typeof n&&(n=m(n));for(var r in o)o[t](r)&&("xlink:"==r.substring(0,6)?n.setAttributeNS(p,r.substring(6),i(o[r])):n.setAttribute(r,i(o[r])))}else n=e._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},w=function(t,o){var d="linear",c=t.id+o,u=.5,p=.5,f=t.node,g=t.paper,w=f.style,v=e._g.doc.getElementById(c);if(!v){if(o=i(o).replace(e._radial_gradient,function(e,t,i){if(d="radial",t&&i){u=n(t),p=n(i);var o=2*(p>.5)-1;l(u-.5,2)+l(p-.5,2)>.25&&(p=r.sqrt(.25-l(u-.5,2))*o+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*o)}return h}),o=o.split(/\s*\-\s*/),"linear"==d){var b=o.shift();if(b=-n(b),isNaN(b))return null;var _=[0,0,r.cos(e.rad(b)),r.sin(e.rad(b))],y=1/(s(a(_[2]),a(_[3]))||1);_[2]*=y,_[3]*=y,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var C=e._parseDots(o);if(!C)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){v=m(d+"Gradient",{id:c}),t.gradient=v,m(v,"radial"==d?{fx:u,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(v);for(var S=0,j=C.length;j>S;S++)v.appendChild(m("stop",{offset:C[S].offset?C[S].offset:S?"100%":"0%","stop-color":C[S].color||"#fff"}))}}return m(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),w.fill=h,w.opacity=1,w.fillOpacity=1,1},v=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},b=function(n,o,r){if("path"==n.type){for(var s=i(o).toLowerCase().split("-"),a=n.paper,l=r?"end":"start",d=n.node,c=n.attrs,h=c["stroke-width"],p=s.length,w="classic",v,b,_,y,C,S=3,j=3,x=5;p--;)switch(s[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=s[p];break;case"wide":j=5;break;case"narrow":j=2;break;case"long":S=5;break;case"short":S=2}if("open"==w?(S+=2,j+=2,x+=2,_=1,y=r?4:1,C={fill:"none",stroke:c.stroke}):(y=_=S/2,C={fill:c.stroke,stroke:"none"}),n._.arrows?r?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var D="raphael-marker-"+w,k="raphael-marker-"+l+w+S+j;e._g.doc.getElementById(D)?g[D]++:(a.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[w],id:D})),g[D]=1);var T=e._g.doc.getElementById(k),M;T?(g[k]++,M=T.getElementsByTagName("use")[0]):(T=m(m("marker"),{id:k,markerHeight:j,markerWidth:S,orient:"auto",refX:y,refY:j/2}),M=m(m("use"),{"xlink:href":"#"+D,transform:(r?" rotate(180 "+S/2+" "+j/2+") ":u)+"scale("+S/x+","+j/x+")","stroke-width":1/((S/x+j/x)/2)}),T.appendChild(M),a.defs.appendChild(T),g[k]=1),m(M,C);var I=_*("diamond"!=w&&"oval"!=w);r?(v=n._.arrows.startdx*h||0,b=e.getTotalLength(c.path)-I*h):(v=I*h,b=e.getTotalLength(c.path)-(n._.arrows.enddx*h||0)),C={},C["marker-"+l]="url(#"+k+")",(b||v)&&(C.d=Raphael.getSubpath(c.path,v,b)),m(d,C),n._.arrows[l+"Path"]=D,n._.arrows[l+"Marker"]=k,n._.arrows[l+"dx"]=I,n._.arrows[l+"Type"]=w,n._.arrows[l+"String"]=o}else r?(v=n._.arrows.startdx*h||0,b=e.getTotalLength(c.path)-v):(v=0,b=e.getTotalLength(c.path)-(n._.arrows.enddx*h||0)),n._.arrows[l+"Path"]&&m(d,{d:Raphael.getSubpath(c.path,v,b)}),delete n._.arrows[l+"Path"],delete n._.arrows[l+"Marker"],delete n._.arrows[l+"dx"],delete n._.arrows[l+"Type"],delete n._.arrows[l+"String"];for(C in g)if(g[t](C)&&!g[C]){var A=e._g.doc.getElementById(C);A&&A.parentNode.removeChild(A)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},y=function(e,t,n){if(t=_[i(t).toLowerCase()]){for(var o=e.attrs["stroke-width"]||"1",r={round:o,square:o,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],a=t.length;a--;)s[a]=t[a]*o+(a%2?1:-1)*r;m(e.node,{"stroke-dasharray":s.join(",")})}},C=function(n,r){var l=n.node,c=n.attrs,u=l.style.visibility;l.style.visibility="hidden";for(var f in r)if(r[t](f)){if(!e._availableAttrs[t](f))continue;var g=r[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"href":case"title":case"target":var _=l.parentNode;if("a"!=_.tagName.toLowerCase()){var C=m("a");_.insertBefore(C,l),C.appendChild(l),_=C}"target"==f&&"blank"==g?_.setAttributeNS(p,"show","new"):_.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var S=i(g).split(d);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var x=m("clipPath"),D=m("rect");x.id=e.createUUID(),m(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),x.appendChild(D),n.paper.defs.appendChild(x),m(l,{"clip-path":"url(#"+x.id+")"}),n.clip=D}if(!g){var k=l.getAttribute("clip-path");if(k){var T=e._g.doc.getElementById(k.replace(/(^url\(#|\)$)/g,h));T&&T.parentNode.removeChild(T),m(l,{"clip-path":h}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=e._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&v(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&v(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=s(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(f,g),c["stroke-dasharray"]&&y(n,c["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":y(n,g,r);break;case"fill":var M=i(g).match(e._ISURL);if(M){x=m("pattern");var I=m("image");x.id=e.createUUID(),m(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(I,{x:0,y:0,"xlink:href":M[1]}),x.appendChild(I),function(t){e._preload(M[1],function(){var e=this.offsetWidth,i=this.offsetHeight;m(t,{width:e,height:i}),m(I,{width:e,height:i}),n.paper.safari()})}(x),n.paper.defs.appendChild(x),l.style.fill="url(#"+x.id+")",m(l,{fill:"url(#"+x.id+")"}),n.pattern=x,n.pattern&&v(n);break}var A=e.getRGB(g);if(A.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&w(n,g)){if("opacity"in c||"fill-opacity"in c){var W=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(W){var B=W.getElementsByTagName("stop");m(B[B.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete r.gradient,delete c.gradient,!e.is(c.opacity,"undefined")&&e.is(r.opacity,"undefined")&&m(l,{opacity:c.opacity}),!e.is(c["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});A[t]("opacity")&&m(l,{"fill-opacity":A.opacity>1?A.opacity/100:A.opacity});case"stroke":A=e.getRGB(g),l.setAttribute(f,A.hex),"stroke"==f&&A[t]("opacity")&&m(l,{"stroke-opacity":A.opacity>1?A.opacity/100:A.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&w(n,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){W=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)),W&&(B=W.getElementsByTagName("stop"),m(B[B.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=o(g,10)+"px");var P=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[P]=g,n._.dirty=1,l.setAttribute(f,g)}}j(n,r),l.style.visibility=u},S=1.2,j=function(n,r){if("text"==n.type&&(r[t]("text")||r[t]("font")||r[t]("font-size")||r[t]("x")||r[t]("y"))){var s=n.attrs,a=n.node,l=a.firstChild?o(e._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(r[t]("text")){for(s.text=r.text;a.firstChild;)a.removeChild(a.firstChild);for(var d=i(r.text).split("\n"),c=[],u,p=0,f=d.length;f>p;p++)u=m("tspan"),p&&m(u,{dy:l*S,x:s.x}),u.appendChild(e._g.doc.createTextNode(d[p])),a.appendChild(u),c[p]=u}else for(c=a.getElementsByTagName("tspan"),p=0,f=c.length;f>p;p++)p?m(c[p],{dy:l*S,x:s.x}):m(c[0],{dy:0});m(a,{x:s.x,y:s.y}),n._.dirty=1;var g=n._getBBox(),w=s.y-(g.y+g.height/2);w&&e.is(w,"finite")&&m(c[0],{dy:w})}},x=function(t,i){var n=0,o=0;this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},D=e.el;x.prototype=D,D.constructor=x,e._engine.path=function(e,t){var i=m("path");t.canvas&&t.canvas.appendChild(i);var n=new x(i,t);return n.type="path",C(n,{fill:"none",stroke:"#000",path:e}),n},D.rotate=function(e,t,o){if(this.removed)return this;if(e=i(e).split(d),e.length-1&&(t=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(t=o),null==t||null==o){var r=this.getBBox(1);t=r.x+r.width/2,o=r.y+r.height/2}return this.transform(this._.transform.concat([["r",e,t,o]])),this},D.scale=function(e,t,o,r){if(this.removed)return this;if(e=i(e).split(d),e.length-1&&(t=n(e[1]),o=n(e[2]),r=n(e[3])),e=n(e[0]),null==t&&(t=e),null==r&&(o=r),null==o||null==r)var s=this.getBBox(1);return o=null==o?s.x+s.width/2:o,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,t,o,r]])),this},D.translate=function(e,t){return this.removed?this:(e=i(e).split(d),e.length-1&&(t=n(e[1])),e=n(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},D.transform=function(i){var n=this._;if(null==i)return n.transform;if(e._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&v(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var o=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},D.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},D.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},D.remove=function(){if(!this.removed){var t=this.paper;t.__set__&&t.__set__.exclude(this),c.unbind("*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),e._tear(this,t),this.node.parentNode.removeChild(this.node);for(var i in this)this[i]="function"==typeof this[i]?e._removedFactory(i):null;this.removed=!0}},D._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(i){}finally{t=t||{}}return e&&this.hide(),t},D.attr=function(i,n){if(this.removed)return this;if(null==i){var o={};for(var r in this.attrs)this.attrs[t](r)&&(o[r]=this.attrs[r]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&e.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(d),a={},l=0,h=s.length;h>l;l++)i=s[l],i in this.attrs?a[i]=this.attrs[i]:e.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=e._availableAttrs[i];return h-1?a:a[s[0]]}if(null==n&&e.is(i,"array")){for(a={},l=0,h=i.length;h>l;l++)a[i[l]]=this.attr(i[l]);return a}if(null!=n){var u={};u[i]=n}else null!=i&&e.is(i,"object")&&(u=i);for(var p in u)c("attr."+p+"."+this.id,this,u[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&u[t](p)&&e.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));this.attrs[p]=u[p];for(var g in f)f[t](g)&&(u[g]=f[g])}return C(this,u),this},D.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&e._tofront(this,t),this},D.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper);var i=this.paper;return this},D.insertAfter=function(t){if(this.removed)return this;var i=t.node||t[t.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this},D.insertBefore=function(t){if(this.removed)return this;var i=t.node||t[0].node;return i.parentNode.insertBefore(this.node,i),e._insertbefore(this,t,this.paper),this},D.blur=function(t){var i=this;if(0!==+t){var n=m("filter"),o=m("feGaussianBlur");i.attrs.blur=t,n.id=e.createUUID(),m(o,{stdDeviation:+t||1.5}),n.appendChild(o),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},e._engine.circle=function(e,t,i,n){var o=m("circle");e.canvas&&e.canvas.appendChild(o);var r=new x(o,e);return r.attrs={cx:t,cy:i,r:n,fill:"none",stroke:"#000"},r.type="circle",m(o,r.attrs),r},e._engine.rect=function(e,t,i,n,o,r){var s=m("rect");e.canvas&&e.canvas.appendChild(s);var a=new x(s,e);return a.attrs={x:t,y:i,width:n,height:o,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},a.type="rect",m(s,a.attrs),a},e._engine.ellipse=function(e,t,i,n,o){var r=m("ellipse");e.canvas&&e.canvas.appendChild(r);var s=new x(r,e);return s.attrs={cx:t,cy:i,rx:n,ry:o,fill:"none",stroke:"#000"},s.type="ellipse",m(r,s.attrs),s},e._engine.image=function(e,t,i,n,o,r){var s=m("image");m(s,{x:i,y:n,width:o,height:r,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(s);var a=new x(s,e);return a.attrs={x:i,y:n,width:o,height:r,src:t},a.type="image",a},e._engine.text=function(t,i,n,o){var r=m("text");t.canvas&&t.canvas.appendChild(r);var s=new x(r,t);return s.attrs={x:i,y:n,"text-anchor":"middle",text:o,font:e._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),i=t&&t.container,n=t.x,o=t.y,r=t.width,s=t.height;if(!i)throw new Error("SVG container not found.");var a=m("svg"),l="overflow:hidden;",d;return n=n||0,o=o||0,r=r||512,s=s||342,m(a,{height:s,version:1.1,width:r,xmlns:"http://www.w3.org/2000/svg"}),1==i?(a.style.cssText=l+"position:absolute;left:"+n+"px;top:"+o+"px",e._g.doc.body.appendChild(a),d=1):(a.style.cssText=l+"position:relative",i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a)),i=new e._Paper,i.width=r,i.height=s,i.canvas=a,i.clear(),i._left=i._top=0,d&&(i.renderfix=function(){}),i.renderfix(),i},e._engine.setViewBox=function(e,t,i,n,o){c("setViewBox",this,this._viewBox,[e,t,i,n,o]);var r=s(i/this.width,n/this.height),a=this.top,l=o?"meet":"xMinYMin",d,h;for(null==e?(this._vbSize&&(r=1),delete this._vbSize,d="0 0 "+this.width+u+this.height):(this._vbSize=r,d=e+u+t+u+i+u+n),m(this.canvas,{viewBox:d,preserveAspectRatio:l});r&&a;)h="stroke-width"in a.attrs?a.attrs["stroke-width"]:1,a.attr({"stroke-width":h}),a._.dirty=1,a._.dirtyT=1,a=a.prev;return this._viewBox=[e,t,i,n,!!o],this},e.prototype.renderfix=function(){var e=this.canvas,t=e.style,i;try{i=e.getScreenCTM()||e.createSVGMatrix()}catch(n){i=e.createSVGMatrix()}var o=-i.e%1,r=-i.f%1;(o||r)&&(o&&(this._left=(this._left+o)%1,t.left=this._left+"px"),r&&(this._top=(this._top+r)%1,t.top=this._top+"px"))},e.prototype.clear=function(){e.eve("clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){c("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var k=e.st;for(var T in D)D[t](T)&&!k[t](T)&&(k[T]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(T))}(window.Raphael),window.Raphael.vml&&function(e){var t="hasOwnProperty",i=String,n=parseFloat,o=Math,r=o.round,s=o.max,a=o.min,l=o.abs,d="fill",c=/[, ]+/,h=e.eve,u=" progid:DXImageTransform.Microsoft",p=" ",f="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,w=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",_=21600,y={path:1,rect:1,image:1},C={circle:1,ellipse:1},S=function(t){var n=/[ahqstv]/gi,o=e._pathToAbsolute;if(i(t).match(n)&&(o=e._path2curve),n=/[clmz]/g,o==e._pathToAbsolute&&!i(t).match(n)){var s=i(t).replace(m,function(e,t,i){var n=[],o="m"==t.toLowerCase(),s=g[t];return i.replace(v,function(e){o&&2==n.length&&(s+=n+g["m"==t?"l":"L"],n=[]),n.push(r(e*_))}),s+n});return s}var a=o(t),l,d;s=[];for(var c=0,h=a.length;h>c;c++){l=a[c],d=a[c][0].toLowerCase(),"z"==d&&(d="x");for(var u=1,w=l.length;w>u;u++)d+=r(l[u]*_)+(u!=w-1?",":f);s.push(d)}return s.join(p)},j=function(t,i,n){var o=e.matrix();return o.rotate(-t,.5,.5),{dx:o.x(i,n),dy:o.y(i,n)}},x=function(e,t,i,n,o,r){var s=e._,a=e.matrix,c=s.fillpos,h=e.node,u=h.style,f=1,g="",m,w=_/t,v=_/i;if(u.visibility="hidden",t&&i){if(h.coordsize=l(w)+p+l(v),u.rotation=r*(0>t*i?-1:1),r){var b=j(r,n,o);n=b.dx,o=b.dy}if(0>t&&(g+="x"),0>i&&(g+=" y")&&(f=-1),u.flip=g,h.coordorigin=n*-w+p+o*-v,c||s.fillsize){var y=h.getElementsByTagName(d);y=y&&y[0],h.removeChild(y),c&&(b=j(r,a.x(c[0],c[1]),a.y(c[0],c[1])),y.position=b.dx*f+p+b.dy*f),s.fillsize&&(y.size=s.fillsize[0]*l(t)+p+s.fillsize[1]*l(i)),h.appendChild(y)}u.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var D=function(e,t,n){for(var o=i(t).toLowerCase().split("-"),r=n?"end":"start",s=o.length,a="classic",l="medium",d="medium";s--;)switch(o[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=o[s];break;case"wide":case"narrow":d=o[s];break;case"long":case"short":l=o[s]}var c=e.node.getElementsByTagName("stroke")[0];c[r+"arrow"]=a,c[r+"arrowlength"]=l,c[r+"arrowwidth"]=d},k=function(o,l){o.attrs=o.attrs||{};var h=o.node,u=o.attrs,g=h.style,m,w=y[o.type]&&(l.x!=u.x||l.y!=u.y||l.width!=u.width||l.height!=u.height||l.cx!=u.cx||l.cy!=u.cy||l.rx!=u.rx||l.ry!=u.ry||l.r!=u.r),v=C[o.type]&&(u.cx!=l.cx||u.cy!=l.cy||u.r!=l.r||u.rx!=l.rx||u.ry!=l.ry),b=o;for(var j in l)l[t](j)&&(u[j]=l[j]);if(w&&(u.path=e._getPath[o.type](o),o._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&"path"==o.type||w)&&(h.path=S(~i(u.path).toLowerCase().indexOf("r")?e._pathToAbsolute(u.path):u.path),"image"==o.type&&(o._.fillpos=[u.x,u.y],o._.fillsize=[u.width,u.height],x(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),v){var k=+u.cx,M=+u.cy,I=+u.rx||+u.r||0,W=+u.ry||+u.r||0;h.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((k-I)*_),r((M-W)*_),r((k+I)*_),r((M+W)*_),r(k*_))}if("clip-rect"in l){var B=i(l["clip-rect"]).split(c);if(4==B.length){B[2]=+B[2]+ +B[0],B[3]=+B[3]+ +B[1];var P=h.clipRect||e._g.doc.createElement("div"),O=P.style;O.clip=e.format("rect({1}px {2}px {3}px {0}px)",B),h.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=o.paper.width+"px",O.height=o.paper.height+"px",h.parentNode.insertBefore(P,h),P.appendChild(h),h.clipRect=P)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(o.textpath){var z=o.textpath.style;l.font&&(z.font=l.font),l["font-family"]&&(z.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(z.fontSize=l["font-size"]),l["font-weight"]&&(z.fontWeight=l["font-weight"]),l["font-style"]&&(z.fontStyle=l["font-style"])}if("arrow-start"in l&&D(b,l["arrow-start"]),"arrow-end"in l&&D(b,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var E=h.getElementsByTagName(d),H=!1;if(E=E&&E[0],!E&&(H=E=A(d)),"image"==o.type&&l.src&&(E.src=l.src),l.fill&&(E.on=!0),(null==E.on||"none"==l.fill||null===l.fill)&&(E.on=!1),E.on&&l.fill){var L=i(l.fill).match(e._ISURL);if(L){E.parentNode==h&&h.removeChild(E),E.rotate=!0,E.src=L[1],E.type="tile";var F=o.getBBox(1);E.position=F.x+p+F.y,o._.fillpos=[F.x,F.y],e._preload(L[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else E.color=e.getRGB(l.fill).hex,E.src=f,E.type="solid",e.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&T(b,l.fill,E)&&(u.fill="none",u.gradient=l.fill,E.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var R=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);R=a(s(R,0),1),E.opacity=R,E.src&&(E.color="none")}h.appendChild(E);var V=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],N=!1;!V&&(N=V=A("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(V.on=!0),("none"==l.stroke||null===l.stroke||null==V.on||0==l.stroke||0==l["stroke-width"])&&(V.on=!1);var q=e.getRGB(l.stroke);V.on&&l.stroke&&(V.color=q.hex),R=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+q.o+1||2)-1);var U=.75*(n(l["stroke-width"])||1);if(R=a(s(R,0),1),null==l["stroke-width"]&&(U=u["stroke-width"]),l["stroke-width"]&&(V.weight=U),U&&1>U&&(R*=U)&&(V.weight=1),V.opacity=R,l["stroke-linejoin"]&&(V.joinstyle=l["stroke-linejoin"]||"miter"),V.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(V.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var Y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};V.dashstyle=Y[t](l["stroke-dasharray"])?Y[l["stroke-dasharray"]]:f}N&&h.appendChild(V)}if("text"==b.type){b.paper.canvas.style.display=f;var G=b.paper.span,Q=100,X=u.font&&u.font.match(/\d+(?:\.\d*)?(?=px)/);g=G.style,u.font&&(g.font=u.font),u["font-family"]&&(g.fontFamily=u["font-family"]),u["font-weight"]&&(g.fontWeight=u["font-weight"]),u["font-style"]&&(g.fontStyle=u["font-style"]),X=n(u["font-size"]||X&&X[0])||10,g.fontSize=X*Q+"px",b.textpath.string&&(G.innerHTML=i(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=G.getBoundingClientRect();b.W=u.w=($.right-$.left)/Q,b.H=u.h=($.bottom-$.top)/Q,b.X=u.x,b.Y=u.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=e.format("m{0},{1}l{2},{1}",r(u.x*_),r(u.y*_),r(u.x*_)+1));for(var Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,J=Z.length;J>K;K++)if(Z[K]in l){b._.dirty=1;break}switch(u["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},T=function(t,r,s){t.attrs=t.attrs||{};var a=t.attrs,l=Math.pow,d,c,h="linear",u=".5 .5";if(t.attrs.gradient=r,r=i(r).replace(e._radial_gradient,function(e,t,i){return h="radial",t&&i&&(t=n(t),i=n(i),l(t-.5,2)+l(i-.5,2)>.25&&(i=o.sqrt(.25-l(t-.5,2))*(2*(i>.5)-1)+.5),u=t+p+i),f}),r=r.split(/\s*\-\s*/),"linear"==h){var g=r.shift();if(g=-n(g),isNaN(g))return null}var m=e._parseDots(r);if(!m)return null;if(t=t.shape||t.node,m.length){t.removeChild(s),s.on=!0,s.method="none",s.color=m[0].color,s.color2=m[m.length-1].color;for(var w=[],v=0,b=m.length;b>v;v++)m[v].offset&&w.push(m[v].offset+p+m[v].color);s.colors=w.length?w.join():"0% "+s.color,"radial"==h?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-g)%360),t.appendChild(s)}return 1},M=function(t,i){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},I=e.el;M.prototype=I,I.constructor=M,I.transform=function(t){if(null==t)return this._.transform;var n=this.paper._viewBoxShift,o=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:f,r;n&&(r=t=i(t).replace(/\.{3}|\u2026/g,this._.transform||f)),e._extractTransform(this,o+t);var s=this.matrix.clone(),a=this.skew,l=this.node,d,c=~i(this.attrs.fill).indexOf("-"),h=!i(this.attrs.fill).indexOf("url(");if(s.translate(-.5,-.5),h||c||"image"==this.type)if(a.matrix="1 0 0 1",a.offset="0 0",d=s.split(),c&&d.noRotation||!d.isSimple){l.style.filter=s.toFilter();var u=this.getBBox(),g=this.getBBox(1),m=u.x-g.x,w=u.y-g.y;l.coordorigin=m*-_+p+w*-_,x(this,1,1,m,w,0)}else l.style.filter=f,x(this,d.scalex,d.scaley,d.dx,d.dy,d.rotate);else l.style.filter=f,a.matrix=i(s),a.offset=s.offset();return r&&(this._.transform=r),this},I.rotate=function(e,t,o){if(this.removed)return this;if(null!=e){if(e=i(e).split(c),e.length-1&&(t=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(t=o),null==t||null==o){var r=this.getBBox(1);t=r.x+r.width/2,o=r.y+r.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,o]])),this}},I.translate=function(e,t){return this.removed?this:(e=i(e).split(c),e.length-1&&(t=n(e[1])),e=n(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},I.scale=function(e,t,o,r){if(this.removed)return this;if(e=i(e).split(c),e.length-1&&(t=n(e[1]),o=n(e[2]),r=n(e[3]),isNaN(o)&&(o=null),isNaN(r)&&(r=null)),e=n(e[0]),null==t&&(t=e),null==r&&(o=r),null==o||null==r)var s=this.getBBox(1);return o=null==o?s.x+s.width/2:o,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,t,o,r]])),this._.dirtyT=1,this},I.hide=function(){return!this.removed&&(this.node.style.display="none"),this},I.show=function(){return!this.removed&&(this.node.style.display=f),this},I._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},I.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},I.attr=function(i,n){if(this.removed)return this;if(null==i){var o={};for(var r in this.attrs)this.attrs[t](r)&&(o[r]=this.attrs[r]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&e.is(i,"string")){if(i==d&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(c),a={},l=0,u=s.length;u>l;l++)i=s[l],i in this.attrs?a[i]=this.attrs[i]:e.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=e._availableAttrs[i];return u-1?a:a[s[0]]}if(this.attrs&&null==n&&e.is(i,"array")){for(a={},l=0,u=i.length;u>l;l++)a[i[l]]=this.attr(i[l]);return a}var p;null!=n&&(p={},p[i]=n),null==n&&e.is(i,"object")&&(p=i);for(var f in p)h("attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&e.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[t](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),k(this,p)}return this},I.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},I.toBack=function(){
return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},I.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},I.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},I.blur=function(t){var i=this.node.runtimeStyle,n=i.filter;n=n.replace(w,f),0!==+t?(this.attrs.blur=t,i.filter=n+p+u+".Blur(pixelradius="+(+t||1.5)+")",i.margin=e.format("-{0}px 0 0 -{0}px",r(+t||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur)},e._engine.path=function(e,t){var i=A("shape");i.style.cssText=b,i.coordsize=_+p+_,i.coordorigin=t.coordorigin;var n=new M(i,t),o={fill:"none",stroke:"#000"};e&&(o.path=e),n.type="path",n.path=[],n.Path=f,k(n,o),t.canvas.appendChild(i);var r=A("skew");return r.on=!0,i.appendChild(r),n.skew=r,n.transform(f),n},e._engine.rect=function(t,i,n,o,r,s){var a=e._rectPath(i,n,o,r,s),l=t.path(a),d=l.attrs;return l.X=d.x=i,l.Y=d.y=n,l.W=d.width=o,l.H=d.height=r,d.r=s,d.path=a,l.type="rect",l},e._engine.ellipse=function(e,t,i,n,o){var r=e.path(),s=r.attrs;return r.X=t-n,r.Y=i-o,r.W=2*n,r.H=2*o,r.type="ellipse",k(r,{cx:t,cy:i,rx:n,ry:o}),r},e._engine.circle=function(e,t,i,n){var o=e.path(),r=o.attrs;return o.X=t-n,o.Y=i-n,o.W=o.H=2*n,o.type="circle",k(o,{cx:t,cy:i,r:n}),o},e._engine.image=function(t,i,n,o,r,s){var a=e._rectPath(n,o,r,s),l=t.path(a).attr({stroke:"none"}),c=l.attrs,h=l.node,u=h.getElementsByTagName(d)[0];return c.src=i,l.X=c.x=n,l.Y=c.y=o,l.W=c.width=r,l.H=c.height=s,c.path=a,l.type="image",u.parentNode==h&&h.removeChild(u),u.rotate=!0,u.src=i,u.type="tile",l._.fillpos=[n,o],l._.fillsize=[r,s],h.appendChild(u),x(l,1,1,0,0,0),l},e._engine.text=function(t,n,o,s){var a=A("shape"),l=A("path"),d=A("textpath");n=n||0,o=o||0,s=s||"",l.v=e.format("m{0},{1}l{2},{1}",r(n*_),r(o*_),r(n*_)+1),l.textpathok=!0,d.string=i(s),d.on=!0,a.style.cssText=b,a.coordsize=_+p+_,a.coordorigin="0 0";var c=new M(a,t),h={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:s};c.shape=a,c.path=l,c.textpath=d,c.type="text",c.attrs.text=i(s),c.attrs.x=n,c.attrs.y=o,c.attrs.w=1,c.attrs.h=1,k(c,h),a.appendChild(d),a.appendChild(l),t.canvas.appendChild(a);var u=A("skew");return u.on=!0,a.appendChild(u),c.skew=u,c.transform(f),c},e._engine.setSize=function(t,i){var n=this.canvas.style;return this.width=t,this.height=i,t==+t&&(t+="px"),i==+i&&(i+="px"),n.width=t,n.height=i,n.clip="rect(0 "+t+" "+i+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,i,n,o,r){e.eve("setViewBox",this,this._viewBox,[t,i,n,o,r]);var a=this.width,l=this.height,d=1/s(n/a,o/l),c,h;return r&&(c=l/o,h=a/n,a>n*c&&(t-=(a-n*c)/2/c),l>o*h&&(i-=(l-o*h)/2/h)),this._viewBox=[t,i,n,o,!!r],this._viewBoxShift={dx:-t,dy:-i,scale:d},this.forEach(function(e){e.transform("...")}),this};var A;e._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),A=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(i){A=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),i=t.container,n=t.height,o,r=t.width,s=t.x,a=t.y;if(!i)throw new Error("VML container not found.");var l=new e._Paper,d=l.canvas=e._g.doc.createElement("div"),c=d.style;return s=s||0,a=a||0,r=r||512,n=n||342,l.width=r,l.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),l.coordsize=1e3*_+p+1e3*_,l.coordorigin="0 0",l.span=e._g.doc.createElement("span"),l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",d.appendChild(l.span),c.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(e._g.doc.body.appendChild(d),c.left=s+"px",c.top=a+"px",c.position="absolute"):i.firstChild?i.insertBefore(d,i.firstChild):i.appendChild(d),l.renderfix=function(){},l},e.prototype.clear=function(){e.eve("clear",this),this.canvas.innerHTML=f,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var W=e.st;for(var B in I)I[t](B)&&!W[t](B)&&(W[B]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(B))}(window.Raphael),jQuery.effects||function(e,t){var i=e.uiBackCompat!==!1,n="ui-effects-";e.effects={effect:{}},function(t,i){function n(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function o(e){var i=d(),n=i._rgba=[];return e=e.toLowerCase(),g(l,function(t,o){var r,s=o.re.exec(e),a=s&&o.parse(s),l=o.space||"rgba";return a?(r=i[l](a),i[c[l].cache]=r[c[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,f.transparent),i):f[e]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=d.support={},p=t("<p>")[0],f,g=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=p.style.backgroundColor.indexOf("rgba")>-1,g(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=t.extend(d.prototype,{parse:function(r,s,a,l){if(r===i)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=i);var h=this,u=t.type(r),p=this._rgba=[];return s!==i&&(r=[r,s,a,l],u="array"),"string"===u?this.parse(o(r)||f._default):"array"===u?(g(c.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===u?(r instanceof d?g(c,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):g(c,function(t,i){var o=i.cache;g(i.props,function(e,t){if(!h[o]&&i.to){if("alpha"===e||null==r[e])return;h[o]=i.to(h._rgba)}h[o][t.idx]=n(r[e],t,!0)}),h[o]&&e.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):void 0},is:function(e){var t=d(e),i=!0,n=this;return g(c,function(e,o){var r,s=t[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],g(o.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===r[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return g(c,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=d(e),o=i._space(),r=c[o],s=0===this.alpha()?d("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return i=i[r.cache],g(r.props,function(e,o){var r=o.idx,s=a[r],d=i[r],c=h[o.type]||{};null!==d&&(null===s?l[r]=d:(c.mod&&(d-s>c.mod/2?s+=c.mod:s-d>c.mod/2&&(s-=c.mod)),l[r]=n((d-s)*t+s,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=d(e)._rgba;return d(t.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,n=e[2]/255,o=e[3],r=Math.max(t,i,n),s=Math.min(t,i,n),a=r-s,l=r+s,d=.5*l,c,h;return c=s===r?0:t===r?60*(i-n)/a+360:i===r?60*(n-t)/a+120:60*(t-i)/a+240,h=0===d||1===d?d:.5>=d?a/l:a/(2-l),[Math.round(c)%360,h,d,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},g(c,function(e,o){var r=o.props,s=o.cache,l=o.to,c=o.from;d.fn[e]=function(e){if(l&&!this[s]&&(this[s]=l(this._rgba)),e===i)return this[s].slice();var o,a=t.type(e),h="array"===a||"object"===a?e:arguments,u=this[s].slice();return g(r,function(e,t){var i=h["object"===a?e:t.idx];null==i&&(i=u[t.idx]),u[t.idx]=n(i,t)}),c?(o=d(c(u)),o[s]=u,o):d(u)},g(r,function(i,n){d.fn[i]||(d.fn[i]=function(o){var r=t.type(o),s="alpha"===i?this._hsla?"hsla":"rgba":e,l=this[s](),d=l[n.idx],c;return"undefined"===r?d:("function"===r&&(o=o.call(this,d),r=t.type(o)),null==o&&n.empty?this:("string"===r&&(c=a.exec(o),c&&(o=d+parseFloat(c[2])*("+"===c[1]?1:-1))),l[n.idx]=o,this[s](l)))})})}),g(s,function(e,i){t.cssHooks[i]={set:function(e,n){var r,s,a="";if("string"!==t.type(n)||(r=o(n))){if(n=d(r||n),!u.rgba&&1!==n._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(c){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=d(e.elem,i),e.end=d(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return g(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},f=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,i={},n,o;if(t&&t.length&&t[0]&&t[t[0]])for(o=t.length;o--;)n=t[o],"string"==typeof t[n]&&(i[e.camelCase(n)]=t[n]);else for(n in t)"string"==typeof t[n]&&(i[n]=t[n]);return i}function n(t,i){var n={},o,s;for(o in i)s=i[o],t[o]!==s&&!r[o]&&(e.fx.step[o]||!isNaN(parseFloat(s)))&&(n[o]=s);return n}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,r,s,a){var l=e.speed(r,s,a);return this.queue(function(){var r=e(this),s=r.attr("class")||"",a,d=l.children?r.find("*").andSelf():r;d=d.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),a=function(){e.each(o,function(e,i){t[i]&&r[i+"Class"](t[i])})},a(),d=d.map(function(){return this.end=i.call(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",s),d=d.map(function(){var t=this,i=e.Deferred(),n=jQuery.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,d.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,n,o){return i?e.effects.animateClass.call(this,{add:t},i,n,o):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,n,o){return i?e.effects.animateClass.call(this,{remove:t},i,n,o):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,n,o,r,s){return"boolean"==typeof n||n===t?o?e.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,s):this._toggleClass(i,n):e.effects.animateClass.call(this,{toggle:i},n,o,r)},switchClass:function(t,i,n,o,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,r)}})}(),function(){function o(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:i&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var o,r;for(r=0;r<i.length;r++)null!==i[r]&&(o=e.data(n+i[r]),o===t&&(o=""),e.css(i[r],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var r=t.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(r)&&r.call(o[0]),e.isFunction(t)&&t()}var o=e(this),r=n.complete,s=n.mode;(o.is(":hidden")?"hide"===s:"show"===s)?i():a.call(o[0],n,i)}var n=o.apply(this,arguments),r=n.mode,s=n.queue,a=e.effects.effect[n.effect],l=!a&&i&&e.effects[n.effect];return e.fx.off||!a&&!l?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):a?s===!1?this.each(t):this.queue(s||"fx",t):l.call(this,{options:n,duration:n.duration,callback:n.complete,mode:n.mode})},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(r(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=o.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,o){var r=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"hide"),l=t.direction||"up",d=i.test(l),c=d?"height":"width",h=d?"top":"left",u=n.test(l),p={},f="show"===a,g,m,w;r.parent().is(".ui-effects-wrapper")?e.effects.save(r.parent(),s):e.effects.save(r,s),r.show(),g=e.effects.createWrapper(r).css({overflow:"hidden"}),m=g[c](),w=parseFloat(g.css(h))||0,p[c]=f?m:0,u||(r.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),p[h]=f?w:m+w),f&&(g.css(c,0),u||g.css(h,w+m)),g.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),o()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var n=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.mode||"effect"),s="hide"===r,a="show"===r,l=t.direction||"up",d=t.distance,c=t.times||5,h=2*c+(a||s?1:0),u=t.duration/h,p=t.easing,f="up"===l||"down"===l?"top":"left",g="up"===l||"left"===l,m,w,v,b=n.queue(),_=b.length;for((a||s)&&o.push("opacity"),e.effects.save(n,o),n.show(),e.effects.createWrapper(n),d||(d=n["top"===f?"outerHeight":"outerWidth"]()/3),a&&(v={opacity:1},v[f]=0,n.css("opacity",0).css(f,g?2*-d:2*d).animate(v,u,p)),s&&(d/=Math.pow(2,c-1)),v={},v[f]=0,m=0;c>m;m++)w={},w[f]=(g?"-=":"+=")+d,n.animate(w,u,p).animate(v,u,p),d=s?2*d:d/2;s&&(w={opacity:0},w[f]=(g?"-=":"+=")+d,n.animate(w,u,p)),n.queue(function(){s&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,h+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var n=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.mode||"hide"),s="show"===r,a=t.direction||"vertical",l="vertical"===a,d=l?"height":"width",c=l?"top":"left",h={},u,p,f;e.effects.save(n,o),n.show(),u=e.effects.createWrapper(n).css({overflow:"hidden"}),p="IMG"===n[0].tagName?u:n,f=p[d](),s&&(p.css(d,0),p.css(c,f/2)),h[d]=s?f:0,h[c]=s?0:f/2,p.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s||n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var n=e(this),o=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(n,t.mode||"hide"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a?"pos":"neg",c={opacity:s?1:0},h;e.effects.save(n,o),n.show(),e.effects.createWrapper(n),h=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,s&&n.css("opacity",0).css(l,"pos"===d?-h:h),c[l]=(s?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+h,n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){function n(){p.push(this),p.length===r*s&&o()}function o(){a.css({visibility:"visible"}),e(p).remove(),d||a.hide(),i()}var r=t.pieces?Math.round(Math.sqrt(t.pieces)):3,s=r,a=e(this),l=e.effects.setMode(a,t.mode||"hide"),d="show"===l,c=a.show().css("visibility","hidden").offset(),h=Math.ceil(a.outerWidth()/s),u=Math.ceil(a.outerHeight()/r),p=[],f,g,m,w,v,b;for(f=0;r>f;f++)for(w=c.top+f*u,b=f-(r-1)/2,g=0;s>g;g++)m=c.left+g*h,v=g-(s-1)/2,a.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*h,top:-f*u}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:u,left:m+(d?v*h:0),top:w+(d?b*u:0),opacity:d?0:1}).animate({left:m+(d?0:v*h),top:w+(d?0:b*u),opacity:d?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var n=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.mode||"hide"),s="show"===r,a="hide"===r,l=t.size||15,d=/([0-9]+)%/.exec(l),c=!!t.horizFirst,h=s!==c,u=h?["width","height"]:["height","width"],p=t.duration/2,f,g,m={},w={};e.effects.save(n,o),n.show(),f=e.effects.createWrapper(n).css({overflow:"hidden"}),g=h?[f.width(),f.height()]:[f.height(),f.width()],d&&(l=parseInt(d[1],10)/100*g[a?0:1]),s&&f.css(c?{height:0,width:l}:{height:l,width:0}),m[u[0]]=s?g[0]:l,w[u[1]]=s?g[1]:0,f.animate(m,p,t.easing).animate(w,p,t.easing,function(){a&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,o),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"show"),r="show"===o,s="hide"===o,a=r||"hide"===o,l=2*(t.times||5)+(a?1:0),d=t.duration/l,c=0,h=n.queue(),u=h.length,p;for((r||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1),p=1;l>p;p++)n.animate({opacity:c},d,t.easing),c=1-c;n.animate({opacity:c},d,t.easing),n.queue(function(){s&&n.hide(),i()}),u>1&&h.splice.apply(h,[1,0].concat(h.splice(u,l+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),r="hide"===o,s=parseInt(t.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),a=t.direction||"both",l=t.origin,d={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:d),o.to={height:d.height*c.y,width:d.width*c.x,outerHeight:d.outerHeight*c.y,outerWidth:d.outerWidth*c.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.size=function(t,i){var n,o,r,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,g=t.scale||"both",m=t.origin||["middle","center"],w=s.css("position"),v=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||b,s.to=t.from||n):(s.from=t.from||("show"===p?b:n),s.to=t.to||("hide"===p?b:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===g||"both"===g)&&(r.from.y!==r.to.y&&(v=v.concat(h),s.from=e.effects.setTransition(s,h,r.from.y,s.from),s.to=e.effects.setTransition(s,h,r.to.y,s.to)),r.from.x!==r.to.x&&(v=v.concat(u),s.from=e.effects.setTransition(s,u,r.from.x,s.from),s.to=e.effects.setTransition(s,u,r.to.x,s.to))),("content"===g||"both"===g)&&r.from.y!==r.to.y&&(v=v.concat(c).concat(d),s.from=e.effects.setTransition(s,c,r.from.y,s.from),s.to=e.effects.setTransition(s,c,r.to.y,s.to)),e.effects.save(s,v),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(o=e.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===g||"both"===g)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),d=a.concat(h).concat(u),s.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,d),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,h,r.from.y,i.from),i.to=e.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,u,r.from.x,i.from),i.to=e.effects.setTransition(i,u,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,d)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,v),f||("static"===w?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var n=parseInt(i,10),o=e?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var n=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.mode||"effect"),s=t.direction||"left",a=t.distance||20,l=t.times||3,d=2*l+1,c=Math.round(t.duration/d),h="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s,p={},f={},g={},m,w=n.queue(),v=w.length;for(e.effects.save(n,o),n.show(),e.effects.createWrapper(n),p[h]=(u?"-=":"+=")+a,f[h]=(u?"+=":"-=")+2*a,g[h]=(u?"-=":"+=")+2*a,n.animate(p,c,t.easing),m=1;l>m;m++)n.animate(f,c,t.easing).animate(g,c,t.easing);n.animate(f,c,t.easing).animate(p,c/2,t.easing).queue(function(){"hide"===r&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}),v>1&&w.splice.apply(w,[1,0].concat(w.splice(v,d+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var n=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(n,t.mode||"show"),s="show"===r,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,c,h={};e.effects.save(n,o),n.show(),c=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),s&&n.css(l,d?isNaN(c)?"-"+c:-c:c),h[l]=(s?d?"+=":"-=":d?"-=":"+=")+c,n.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,o),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),r="fixed"===o.css("position"),s=e("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,d=o.offset(),c={top:d.top-a,left:d.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),u=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){u.remove(),i()})}}(jQuery),function($,e){function t(e,t,i){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?i/100:1)]}function i(e,t){return parseInt($.css(e,t),10)||0}function n(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:$.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}$.ui=$.ui||{};var o,r=Math.max,s=Math.abs,a=Math.round,l=/left|center|right/,d=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,u=/%$/,p=$.fn.position;$.position={scrollbarWidth:function(){if(o!==e)return o;var t,i,n=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return $("body").append(n),t=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(e){var t=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:n?$.position.scrollbarWidth():0,height:o?$.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=$(e||window),i=$.isWindow(t[0]);return{element:t,isWindow:i,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i?t.width():t.outerWidth(),height:i?t.height():t.outerHeight()}}},$.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=$.extend({},e);var o,u,f,g,m,w,v=$(e.of),b=$.position.getWithinInfo(e.within),_=$.position.getScrollInfo(b),y=(e.collision||"flip").split(" "),C={};return w=n(v),v[0].preventDefault&&(e.at="left top"),u=w.width,f=w.height,g=w.offset,m=$.extend({},g),$.each(["my","at"],function(){var t=(e[this]||"").split(" "),i,n;1===t.length&&(t=l.test(t[0])?t.concat(["center"]):d.test(t[0])?["center"].concat(t):["center","center"]),t[0]=l.test(t[0])?t[0]:"center",t[1]=d.test(t[1])?t[1]:"center",i=c.exec(t[0]),n=c.exec(t[1]),C[this]=[i?i[0]:0,n?n[0]:0],e[this]=[h.exec(t[0])[0],h.exec(t[1])[0]]}),1===y.length&&(y[1]=y[0]),
"right"===e.at[0]?m.left+=u:"center"===e.at[0]&&(m.left+=u/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),o=t(C.at,u,f),m.left+=o[0],m.top+=o[1],this.each(function(){var n,l,d=$(this),c=d.outerWidth(),h=d.outerHeight(),p=i(this,"marginLeft"),w=i(this,"marginTop"),S=c+p+i(this,"marginRight")+_.width,j=h+w+i(this,"marginBottom")+_.height,x=$.extend({},m),D=t(C.my,d.outerWidth(),d.outerHeight());"right"===e.my[0]?x.left-=c:"center"===e.my[0]&&(x.left-=c/2),"bottom"===e.my[1]?x.top-=h:"center"===e.my[1]&&(x.top-=h/2),x.left+=D[0],x.top+=D[1],$.support.offsetFractions||(x.left=a(x.left),x.top=a(x.top)),n={marginLeft:p,marginTop:w},$.each(["left","top"],function(t,i){$.ui.position[y[t]]&&$.ui.position[y[t]][i](x,{targetWidth:u,targetHeight:f,elemWidth:c,elemHeight:h,collisionPosition:n,collisionWidth:S,collisionHeight:j,offset:[o[0]+D[0],o[1]+D[1]],my:e.my,at:e.at,within:b,elem:d})}),e.using&&(l=function(t){var i=g.left-x.left,n=i+u-c,o=g.top-x.top,a=o+f-h,l={target:{element:v,left:g.left,top:g.top,width:u,height:f},element:{element:d,left:x.left,top:x.top,width:c,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>a?"top":o>0?"bottom":"middle"};c>u&&s(i+n)<u&&(l.horizontal="center"),h>f&&s(o+a)<f&&(l.vertical="middle"),r(s(i),s(n))>r(s(o),s(a))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),d.offset($.extend(x,{using:l}))})},$.ui.position={fit:{left:function(e,t){var i=t.within,n=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,a=n-s,l=s+t.collisionWidth-o-n,d;t.collisionWidth>o?a>0&&0>=l?(d=e.left+a+t.collisionWidth-o-n,e.left+=a-d):l>0&&0>=a?e.left=n:a>l?e.left=n+o-t.collisionWidth:e.left=n:a>0?e.left+=a:l>0?e.left-=l:e.left=r(e.left-s,e.left)},top:function(e,t){var i=t.within,n=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,a=n-s,l=s+t.collisionHeight-o-n,d;t.collisionHeight>o?a>0&&0>=l?(d=e.top+a+t.collisionHeight-o-n,e.top+=a-d):l>0&&0>=a?e.top=n:a>l?e.top=n+o-t.collisionHeight:e.top=n:a>0?e.top+=a:l>0?e.top-=l:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var i=t.within,n=i.offset.left+i.scrollLeft,o=i.width,r=i.isWindow?i.scrollLeft:i.offset.left,a=e.left-t.collisionPosition.marginLeft,l=a-r,d=a+t.collisionWidth-o-r,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,u=-2*t.offset[0],p,f;0>l?(p=e.left+c+h+u+t.collisionWidth-o-n,(0>p||p<s(l))&&(e.left+=c+h+u)):d>0&&(f=e.left-t.collisionPosition.marginLeft+c+h+u-r,(f>0||s(f)<d)&&(e.left+=c+h+u))},top:function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,o=i.height,r=i.isWindow?i.scrollTop:i.offset.top,a=e.top-t.collisionPosition.marginTop,l=a-r,d=a+t.collisionHeight-o-r,c="top"===t.my[1],h=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,u="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],f,g;0>l?(g=e.top+h+u+p+t.collisionHeight-o-n,e.top+h+u+p>l&&(0>g||g<s(l))&&(e.top+=h+u+p)):d>0&&(f=e.top-t.collisionPosition.marginTop+h+u+p-r,e.top+h+u+p>d&&(f>0||s(f)<d)&&(e.top+=h+u+p))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,o,r=document.getElementsByTagName("body")[0],s=document.createElement("div");e=document.createElement(r?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&$.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)e.style[o]=i[o];e.appendChild(s),t=r||document.documentElement,t.insertBefore(e,t.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",n=$(s).offset().left,$.support.offsetFractions=n>10&&11>n,e.innerHTML="",t.removeChild(e)}()}(jQuery);var wijmo;!function(e){function t(e){return isNaN(e)?0:e}function i(){if($.ui&&$.ui.keyCode)return $.ui.keyCode;if($.mobile&&$.mobile.keyCode)return $.mobile.keyCode;throw"keyCode object is not found"}$.fn.extend({wijtextselection:function(){var e,t,i=this[0],n=this.val();if(0===arguments.length){var o,r,s,a;if("undefined"!=typeof i.selectionStart)s=i.selectionStart,a=i.selectionEnd;else try{var l=document.selection;"textarea"!=i.tagName.toLowerCase()?(o=l.createRange().duplicate(),o.moveEnd("character",n.length),s=""===o.text?n.length:n.lastIndexOf(o.text),o=l.createRange().duplicate(),o.moveStart("character",-n.length),a=o.text.length):(o=l.createRange(),r=o.duplicate(),r.moveToElementText(i),r.setEndPoint("EndToEnd",o),s=r.text.length-o.text.length,a=s+o.text.length)}catch(a){}var d=n.substring(s,a);return{start:s,end:a,text:d,replace:function(e){return n.substring(0,s)+e+n.substring(a,n.length)}}}if(1===arguments.length){if("object"==typeof arguments[0]&&"number"==typeof arguments[0].start&&"number"==typeof arguments[0].end)e=arguments[0].start,t=arguments[0].end;else if("string"==typeof arguments[0])(e=n.indexOf(arguments[0]))>-1&&(t=e+arguments[0].length);else if("[object RegExp]"===Object.prototype.toString.call(arguments[0])){var c=arguments[0].exec(n);null!=c&&(e=c.index,t=e+c[0].length)}}else 2===arguments.length&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e=arguments[0],t=arguments[1]);if("undefined"==typeof e&&(e=0,t=n.length),"undefined"!=typeof i.createTextRange){var h=i.createTextRange();h.collapse(!0),h.moveStart("character",e),h.moveEnd("character",t-e),h.select()}else i.selectionStart=e,i.selectionEnd=t},wijContent:function(e){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+e+'">"'})},wijAddVisibilityObserver:function(e,t){return this.each(function(){var i=this;$(this).addClass("wijmo-wijobserver-visibility"),$(this).bind("wijmovisibilitychanged"+(t?"."+t:""),function(t){e.apply(i,arguments),t.stopPropagation()})})},wijRemoveVisibilityObserver:function(e){return this.each(function(){$(this).removeClass("wijmo-wijobserver-visibility"),e?jQuery.isFunction(e)?$(this).unbind("wijmovisibilitychanged",e):$(this).unbind("wijmovisibilitychanged."+e):$(this).unbind("wijmovisibilitychanged")})},wijTriggerVisibility:function(){return this.each(function(){var e=$(this);e.hasClass("wijmo-wijobserver-visibility")&&e.trigger("wijmovisibilitychanged"),e.find(".wijmo-wijobserver-visibility").trigger("wijmovisibilitychanged")})},leftBorderWidth:function(){var e=parseFloat($(this).css("borderLeftWidth")),i=parseFloat($(this).css("padding-left")),n=0;return"auto"!==$(this).css("margin-left")&&(n=parseFloat($(this).css("margin-left"))),t(e)+t(i)+t(n)},rightBorderWidth:function(){var e=parseFloat($(this).css("borderRightWidth")),i=parseFloat($(this).css("padding-right")),n=0;return"auto"!==$(this).css("margin-right")&&(n=parseFloat($(this).css("margin-right"))),t(e)+t(i)+t(n)},topBorderWidth:function(){var e=parseFloat($(this).css("borderTopWidth")),i=parseFloat($(this).css("padding-top")),n=0;return"auto"!==$(this).css("margin-top")&&(n=parseFloat($(this).css("margin-top"))),t(e)+t(i)+t(n)},bottomBorderWidth:function(){var e=parseFloat($(this).css("borderBottomWidth")),i=parseFloat($(this).css("padding-bottom")),n=0;return"auto"!==$(this).css("margin-bottom")&&(n=parseFloat($(this).css("margin-bottom"))),t(e)+t(i)+t(n)},borderSize:function(){var e=$(this).leftBorderWidth()+$(this).rightBorderWidth(),t=$(this).topBorderWidth()+$(this).bottomBorderWidth(),i={width:e,height:t};return i},setOutWidth:function(e){var t=$(this).leftBorderWidth()+$(this).rightBorderWidth();return $(this).width(e-t),this},setOutHeight:function(e){var t=$(this).topBorderWidth()+$(this).bottomBorderWidth();return $(this).height(e-t),this},getWidget:function(){var e=this.data("widgetName");return e&&""!==e?this.data(e):null},wijshow:function(e,t,i,n,o){var r=e.animated||!1,s=e.duration||400,a=e.easing,l=e.option||{};if(n&&$.isFunction(n)&&n.call(this),r){if(t&&t[r])return void t[r](e,$.extend(i,{complete:o}));if($.effects&&($.effects[r]||$.effects.effect&&$.effects.effect[r]))return void this.show(r,$.extend(l,{easing:a}),s,o)}this.show(),o&&$.isFunction(o)&&o.call(this)},wijhide:function(e,t,i,n,o){var r=e.animated||!1,s=e.duration||400,a=e.easing,l=e.option||{};if(n&&$.isFunction(n)&&n.call(this),r){if(t&&t[r])return void t[r](e,$.extend(i,{complete:o}));if($.effects&&($.effects[r]||$.effects.effect&&$.effects.effect[r]))return void this.stop().hide(r,$.extend(l,{easing:a}),s,o)}this.hide(),o&&$.isFunction(o)&&o.call(this)}}),$.save=function(e,t){if($.effects)return $.effects.save(e,t);for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},$.restore=function(e,t){if($.effects)return $.effects.restore(e,t);for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},$.createWrapper=function(e){if($.effects)return $.effects.createWrapper(e);if(e.parent().is(".ui-effects-wrapper"))return e.parent();var t={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n=document.activeElement;return e.wrap(i),(e[0]===n||$.contains(e[0],n))&&$(n).focus(),i=e.parent(),"static"==e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):($.extend(t,{position:e.css("position"),zIndex:e.css("z-index")}),$.each(["top","left","bottom","right"],function(i,n){t[n]=e.css(n),isNaN(parseInt(t[n],10))&&(t[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t).show()},$.removeWrapper=function(e){if($.effects)return $.effects.removeWrapper(e);var t,i=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(t=e.parent().replaceWith(e),(e[0]===i||$.contains(e[0],i))&&$(i).focus(),t):e},$.fn.hasAllClasses=function(e){var t,i=(e||"").match(/\S+/g)||[];if(0===i.length)return!1;for(t=0;t<i.length;t++)if(!this.hasClass(i[t]))return!1;return!0},$.setMode=function(e,t){return $.effects?$.effects.setMode(e,t):("toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t)};var n=function(){};$.extend(n.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } ¡ « ­ · » ¿ ; · ՚ ՛ ՜ ՝ ՞ ՟ ։ ֊ ־ ׀ ׃ ׳ ״ ، ؛ ؟ ٪ ٫ ٬ ٭ ۔ ܀ ܁ ܂ ܃ ܄ ܅ ܆ ܇ ܈ ܉ ܊ ܋ ܌ ܍ । ॥ ॰ ෴ ๏ ๚ ๛ ༄ ༅ ༆ ༇ ༈ ༉ ༊ ་ ༌ ། ༎ ༏ ༐ ༑ ༒ ༺ ༻ ༼ ༽ ྅ ၊ ။ ၌ ၍ ၎ ၏ ჻ ፡ ። ፣ ፤ ፥ ፦ ፧ ፨ ᙭ ᙮ ᚛ ᚜ ᛫ ᛬ ᛭ ។ ៕ ៖ ៗ ៘ ៙ ៚ ៜ ᠀ ᠁ ᠂ ᠃ ᠄ ᠅ ᠆ ᠇ ᠈ ᠉ ᠊ ‐ ‑ ‒ – — ― ‖ ‗ ‘ ’ ‚ ‛ “ ” „ ‟ † ‡ • ‣ ․ ‥ … ‧ ‰ ‱ ′ ″ ‴ ‵ ‶ ‷ ‸ ‹ › ※ ‼ ‽ ‾ ⁁ ⁂ ⁃ ⁅ ⁆ ⁈ ⁉ ⁊ ⁋ ⁌ ⁍ ⁽ ⁾ ₍ ₎ 〈 〉 、 。 〃 〈 〉 《 》 「 」 『 』 【 】 〔 〕 〖 〗 〘 〙 〚 〛 〜 〝 〞 〟 〰 ﴾ ﴿ ︰ ︱ ︲ ︵ ︶ ︷ ︸ ︹ ︺ ︻ ︼ ︽ ︾ ︿ ﹀ ﹁ ﹂ ﹃ ﹄ ﹉ ﹊ ﹋ ﹌ ﹐ ﹑ ﹒ ﹔ ﹕ ﹖ ﹗ ﹘ ﹙ ﹚ ﹛ ﹜ ﹝ ﹞ ﹟ ﹠ ﹡ ﹣ ﹨ ﹪ ﹫ ！ ＂ ＃ ％ ＆ ＇ （ ） ＊ ， － ． ／ ： ； ？ ＠ ［ ＼ ］ ｛ ｝ ｡ ｢ ｣ ､';this.UTFWhitespacesString_='	  \f                              ​ \u2028   　",isDigit:function(e){var t=e.charCodeAt(0);return t>=48&&58>t},isLetter:function(e){return!!(e+"").match(new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ȟȢ-ȳɐ-ʭʰ-ʸʻ-ˁːˑˠ-ˤˮͺΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϗϚ-ϳЀ-ҁҌ-ӄӇӈӋӌӐ-ӵӸӹԱ-Ֆՙա-ևא-תװ-ײء-غـ-يٱ-ۓەۥۦۺ-ۼܐܒ-ܬހ-ޥअ-हऽॐक़-ॡঅ-ঌএঐও-নপ-রলশ-হড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલળવ-હઽૐૠଅ-ଌଏଐଓ-ନପ-ରଲଳଶ-ହଽଡ଼ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜໝༀཀ-ཇཉ-ཪྈ-ྋက-အဣ-ဧဩဪၐ-ၕႠ-Ⴥა-ჶᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ሆለ-ቆቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኆኈኊ-ኍነ-ኮኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዎዐ-ዖዘ-ዮደ-ጎጐጒ-ጕጘ-ጞጠ-ፆፈ-ፚᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪក-ឳᠠ-ᡷᢀ-ᢨḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁿℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℱℳ-ℹ々〆〱-〵ぁ-ゔゝゞァ-ヺー-ヾㄅ-ㄬㄱ-ㆎㆠ-ㆷ㐀-䶵一-龥ꀀ-ꒌ가-힣豈-鶴ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹲﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"))},isLetterOrDigit:function(e){return this.isLetter(e)||this.isDigit(e)},isDoubleByteNumber:function(e){var t=e.charCodeAt(0);return t>=65296&&65306>t},isSymbol:function(e){var t=new RegExp("[$+<->^`|~¢-©¬®-±´¶¸×÷ʹʺ˂-ˏ˒-˟˥-˭ʹ͵΄΅҂۩۽۾৲৳৺୰฿༁-༃༓-༗༚-༟༴༶༸྾-࿅࿇-࿌࿏៛᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁺-⁼₊-₌₠-₯℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮Ⅎ℺←-⇳∀-⋱⌀-⌨⌫-⍻⍽-⎚␀-␦⑀-⑊⒜-ⓩ─-▕■-◷☀-☓☙-♱✁-✄✆-✉✌-✧✩-❋❍❏-❒❖❘-❞❡-❧➔➘-➯➱-➾⠀-⣿⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㈀-㈜㈪-㉃㉠-㉻㉿㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾꒐-꒡꒤-꒳꒵-꓀꓂-꓄꓆﬩﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�]");return t.test(e+"")},isPunctuation:function(e){return this._UTFPunctuationsString.indexOf(e)>=0},isPrintableChar:function(e){return this.isLetterOrDigit(e)||this.isPunctuation(e)||this.isSymbol(e)||this.isDoubleByteNumber(e)?!0:" "===e},isAscii:function(e){return e>="!"&&"~">=e},isAsciiLetter:function(e){return e>="A"&&"Z">=e||e>="a"&&"z">=e},isUpper:function(e){return e.toUpperCase()===e},isLower:function(e){return e.toLowerCase()===e},isAlphanumeric:function(e){return this.isLetter(e)?!0:this.isDigit(e)},isAciiAlphanumeric:function(e){return("0">e||e>"9")&&("A">e||e>"Z")?e>="a"?"z">=e:!1:!0},setChar:function(e,t,i){return i>=e.length||0>i?e:e.substr(0,i)+t+e.substr(i+1)}}),$.fn.zIndex||($.fn.zIndex=function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t=$(this[0]),i,n;t.length&&t[0]!==document;){if(i=t.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0});var o=["\n","\r",'"',"@","+","'","<",">","%","{","}"],r=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],s=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];if($.wij||$.extend({wij:{charValidator:new n,encodeString:function(e){for(var t=0;t<o.length;t++){var i=new RegExp(s[t],"g");e=e.replace(i,r[t])}return e},decodeString:function(e){if(""!==e){for(var t=0;t<r.length;t++){var i=new RegExp(r[t],"g");e=e.replace(i,o[t])}return e}}}}),jQuery.uaMatch||(jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}),!jQuery.browser){var a=jQuery.uaMatch(navigator.userAgent),l={version:"0",msie:!1,opera:!1,safari:!1,mozilla:!1,webkit:!1,chrome:!1};a.browser&&(l[a.browser]=!0,l.version=a.version),l.chrome?l.webkit=!0:l.webkit&&(l.safari=!0),jQuery.browser=l}$.ui&&$.ui.position&&$.ui.position.flipfit&&($.ui.position.flip.top=function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,o=i.height,r=i.isWindow?i.scrollTop:i.offset.top,s=e.top-t.collisionPosition.marginTop,a=s-r,l=s+t.collisionHeight-o-r,d="top"===t.my[1],c=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,u=-2*t.offset[1],p,f;0>a?(f=e.top+c+h+u+t.collisionHeight-o-n,e.top+c+h+u>a&&(0>f||f<Math.abs(a))&&(e.top+=c+h+u)):l>0&&(p=e.top-t.collisionPosition.marginTop+c+h+u-r,e.top+c+h+u+t.collisionHeight-o-r<l&&(p>0||Math.abs(p)<l)&&(e.top+=c+h+u))});var d=$.fn.position;$.fn.position=function(e){if(e&&$.isPlainObject(e)&&e.offset){var t=(e.my||"").split(" "),i=/left|center|right/,n=/top|center|bottom/,o=(e.offset||"").split(" ");1===t.length&&(i.test(t[0])?t.concat(["center"]):n.test(t[0])?["center"].concat(t):["center","center"]),1===o.length&&o.concat(o[0]),$.each(t,function(e,i){/\+|-/.test(o[e])?t[e]=t[e]+o[e]:t[e]=t[e]+"+"+o[e]}),e.my=t.join(" ")}return d.apply(this,arguments)},e.getKeyCodeEnum=i}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){var t=jQuery,i=function(){function e(){}return e.autoMobilize=!0,e.wijCSS={widget:"ui-widget",overlay:"ui-widget-overlay",content:"ui-widget-content",header:"ui-widget-header",stateDisabled:"ui-state-disabled",stateFocus:"ui-state-focus",stateActive:"ui-state-active",stateDefault:"ui-state-default",stateHighlight:"ui-state-highlight",stateHover:"ui-state-hover",stateChecked:"ui-state-checked",stateError:"ui-state-error",getState:function(e){return e=e.charAt(0).toUpperCase()+e.substr(1),t.wijmo.wijCSS["state"+e]},icon:"ui-icon",iconCheck:"ui-icon-check",iconRadioOn:"ui-icon-radio-on",iconRadioOff:"ui-icon-radio-off",iconClose:"ui-icon-close",iconArrow4Diag:"ui-icon-arrow-4-diag",iconNewWin:"ui-icon-newwin",iconVGripSolid:"ui-icon-grip-solid-vertical",iconHGripSolid:"ui-icon-grip-solid-horizontal",iconPlay:"ui-icon-play",iconPause:"ui-icon-pause",iconStop:"ui-icon-stop",iconArrowUp:"ui-icon-triangle-1-n",iconArrowRight:"ui-icon-triangle-1-e",iconArrowDown:"ui-icon-triangle-1-s",iconArrowLeft:"ui-icon-triangle-1-w",iconArrowRightDown:"ui-icon-triangle-1-se",iconArrowThickDown:"ui-icon-arrowthick-1-s glyphicon glyphicon-arrow-down",iconArrowThickUp:"ui-icon-arrowthick-1-n glyphicon glyphicon-arrow-up",iconCaratUp:"ui-icon-carat-1-n",iconCaratRight:"ui-icon-carat-1-e",iconCaratDown:"ui-icon-carat-1-s",iconCaratLeft:"ui-icon-carat-1-w",iconClock:"ui-icon-clock glyphicon glyphicon-time",iconPencil:"ui-icon-pencil glyphicon glyphicon-pencil",iconSeekFirst:"ui-icon-seek-first",iconSeekEnd:"ui-icon-seek-end",iconSeekNext:"ui-icon-seek-next",iconSeekPrev:"ui-icon-seek-prev",iconPrint:"ui-icon-print",iconDisk:"ui-icon-disk",iconSeekStart:"ui-icon-seek-start",iconFullScreen:"ui-icon-newwin",iconContinousView:"ui-icon-carat-2-n-s",iconZoomIn:"ui-icon-zoomin",iconZoomOut:"ui-icon-zoomout",iconBookmark:"ui-icon-bookmark",iconSearch:"ui-icon-search",iconImage:"ui-icon-image",inputSpinnerLeft:"ui-input-spinner-left",inputSpinnerRight:"ui-input-spinner-right",inputTriggerLeft:"ui-input-trigger-left",inputTriggerRight:"ui-input-trigger-right",inputSpinnerTriggerLeft:"ui-input-spinner-trigger-left",inputSpinnerTriggerRight:"ui-input-spinner-trigger-right",cornerAll:"ui-corner-all",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",cornerBottom:"ui-corner-bottom",cornerBL:"ui-corner-bl",cornerBR:"ui-corner-br",cornerTop:"ui-corner-top",cornerTL:"ui-corner-tl",cornerTR:"ui-corner-tr",helperClearFix:"ui-helper-clearfix",helperReset:"ui-helper-reset",helperHidden:"ui-helper-hidden",priorityPrimary:"ui-priority-primary",prioritySecondary:"ui-priority-secondary",button:"ui-button",buttonText:"ui-button-text",buttonTextOnly:"ui-button-text-only",tabs:"ui-tabs",tabsTop:"ui-tabs-top",tabsBottom:"ui-tabs-bottom",tabsLeft:"ui-tabs-left",tabsRight:"ui-tabs-right",tabsLoading:"ui-tabs-loading",tabsActive:"ui-tabs-active",tabsPanel:"ui-tabs-panel",tabsNav:"ui-tabs-nav",tabsHide:"ui-tabs-hide",tabsCollapsible:"ui-tabs-collapsible",activeMenuitem:"ui-active-menuitem"},e.wijMobileCSS={content:"ui-content",header:"ui-header",overlay:"ui-overlay",stateDisabled:"ui-disabled",stateFocus:"ui-focus",stateActive:"ui-btn-active",stateDefault:"ui-btn-up-a",iconArrowUp:"ui-icon-arrow-u",iconArrowRight:"ui-icon-arrow-r",iconArrowDown:"ui-icon-arrow-d",iconArrowLeft:"ui-icon-arrow-l",iconArrowRightDown:"ui-icon-arrow-d",iconSeekFirst:"ui-icon-arrow-l",iconSeekEnd:"ui-icon-arrow-r",iconSeekNext:"ui-icon-arrow-r",iconSeekPrev:"ui-icon-arrow-l",iconClose:"ui-icon-delete",iconStop:"ui-icon-grid",iconCheck:"ui-icon-checkbox-on"},e.wijMobileThemePrefix=["ui-bar","ui-body","ui-overlay","ui-btn-up","ui-btn-hover","ui-btn-down"],e.autoInit=function(e,i){if(t.mobile&&t.mobile.page&&i){var n=t.mobile.page.prototype.options.keepNative;n=n&&n.length&&-1===n.indexOf(i)?[n,i].join(", "):i,t.mobile.page.prototype.options.keepNative=n}t.mobile&&t.wijmo[e]&&t.wijmo[e].prototype&&t.wijmo[e].prototype.enhanceWithin&&t(document).bind("pagecreate create",function(i){t.wijmo[e].prototype.enhanceWithin(i.target)})},e.registerWidget=function(e,i,n,o){var r="wijmo."+e,s;"function"==typeof n&&(s=n,n=null),(null===n||void 0===n)&&(n=t.extend(!0,{},i),i=t.wijmo.widget),n.options=n.options||{},n.options.initSelector=n.options.initSelector||":jqmData(role='"+e+"')",t.mobile&&n.options&&n.options.wijMobileCSS&&(n.options.wijCSS=n.options.wijCSS||{},t.extend(n.options.wijCSS,n.options.wijMobileCSS)),t.widget(r,i,n),s?s.call():this.autoInit&&this.autoInit(e,n.options.initSelector)},e.addThemeToMobileCSS=function(i,n){t.each(n,function(o,r){"string"==typeof r?t.each(e.wijMobileThemePrefix,function(e,t){var s=new RegExp("\\b"+t);s.test(r)&&(n[o]=r+" "+t+"-"+i)}):e.addThemeToMobileCSS(i,r)})},e}();t.wijmo=i;var n=function(){function e(){}return e.prototype.destroy=function(){},e.prototype._setOption=function(e,t){},e.prototype._create=function(){},e.prototype._init=function(){},e.prototype.widget=function(){return this.element},e}();e.JQueryUIWidget=n,n.prototype.options={wijCSS:t.wijmo.wijCSS},n.prototype.destroy=function(){t.Widget.prototype.destroy.apply(this,arguments)},n.prototype._setOption=function(e,i){t.Widget.prototype._setOption.apply(this,arguments)},n.prototype._create=function(){t.Widget.prototype._create.apply(this,arguments)},n.prototype._init=function(){t.Widget.prototype._init.apply(this,arguments)};var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(n);e.JQueryMobileWidget=o,t(window.document).trigger("wijmoinit");var r=function(e){function i(){e.apply(this,arguments),this._widgetCreated=!1}return __extends(i,e),i.prototype._baseWidget=function(){return this._isMobile?t.mobile.widget:t.Widget},i.prototype._createWidget=function(e,i){this._widgetCreated=!0,this._syncEventPrefix&&(this.widgetEventPrefix=this.widgetName),window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this._baseWidget().prototype._createWidget.apply(this,arguments)},i.prototype._create=function(){this._baseWidget().prototype._create.apply(this,arguments)},i.prototype._init=function(){this._baseWidget().prototype._init.apply(this,arguments)},i.prototype.destroy=function(){this._baseWidget().prototype.destroy.apply(this,arguments)},i.prototype._setOption=function(e,t){this._baseWidget().prototype._setOption.apply(this,arguments),"disabled"===e&&t&&this._isMobile&&this.element.removeClass("ui-state-disabled").addClass(this.options.wijCSS.stateDisabled)},i}(o);e.wijmoWidget=r,r.prototype._syncEventPrefix=!0,r.prototype._isMobile=!1,null!=t.mobile&&t.wijmo.autoMobilize===!0?(t.extend(!0,r.prototype.options.wijCSS,t.wijmo.wijMobileCSS),r.prototype._isMobile=!0,r.prototype.options=t.extend(!0,{},r.prototype.options,r.prototype._baseWidget().prototype.options),r.prototype.enhanceWithin=function(e,i){this._widgetCreated||t.mobile.widget.prototype.enhanceWithin.apply(this,arguments)},r.prototype._getCreateOptions=function(){var e=this.element,i,n=n=function(e){if("undefined"==typeof e)return{};if(null===e)return{};var i=/(?:(?:\{[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*)|(?:,[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*))('(.*?[^\\])')?/gi,n=/\[.*?(?=[\]\[])|[\]\[].*?(?=[\]])/gi,o=e.replace(i,function(e,t,i,n){var o,r=/[\n\r\t\s]*['"]?([^\{,\s]+?)['"]?\s*:[\n\r\t\s]*/i,s=/\:[\n\r\t\s]*(?:'(.*)')?/i;return o=e.replace(r,'"$1":'),n?o.replace(s,':"$1"'):o}).replace(n,function(e){var t=/'(.*?[^\\])'/g;return e.replace(t,'"$1"')});return t.parseJSON(o)},o=n(e.attr("data-"+t.mobile.nsNormalize("options"))),r;return i=t.mobile.widget.prototype._getCreateOptions.apply(this,arguments),r=t.extend(!0,{},this.options.wijCSS),this.theme=void 0!==this.options.theme?this.options.theme:this.element.jqmData("theme"),this.theme&&t.wijmo.addThemeToMobileCSS(this.theme,r),t.extend(i,{wijCSS:r},o)},t.widget("wijmo.widget",t.mobile.widget,r.prototype),t(document).on("pageshow",function(e,i){if(null!=e.target){var n=t(e.target);n.wijTriggerVisibility&&n.wijTriggerVisibility()}})):(r.prototype.options=t.extend(!0,{},r.prototype.options,r.prototype._baseWidget().prototype.options),t.widget("wijmo.widget",r.prototype))}(wijmo||(wijmo={})),jQuery.extend(jQuery.support,{isTouchEnabled:function(){return"ontouchstart"in window||"ontouchend"in document||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0?!0:!1}});var wijmo;!function(e){!function(e){"use strict";function t(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function i(e,i){var n=e.type,o,r,s,a,l,d,c,h,u;if(e=j.Event(e),e.nativeType=e.type,e.type=i,o=e.originalEvent,r=j.event.props,n.search(/^(mouse|click)/)>-1&&(r=B),o)for(c=r.length,a;c;)a=r[--c],e[a]=o[a];for(n.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),s=t(o),h=0,u=A.length;u>h;h++)a=A[h],void 0===e[a]&&(e[a]=s[a]);if(-1!==n.search(/^touch/)&&(n=s.touches,l=s.changedTouches,d=n&&n.length?n[0]:l&&l.length?l[0]:void 0,d))for(h=0,u=I.length;u>h;h++)a=I[h],e[a]=d[a];return e}function n(e){for(var t={},i,n;e;){i=j.data(e,x);for(n in i)i[n]&&(t[n]=t.hasVirtualBinding=!0);e=e.parentNode}return t}function o(e,t){for(var i;e;){if(i=j.data(e,x),i&&(!t||i[t]))return e;e=e.parentNode}return null}function r(){R=!1}function s(){R=!0}function a(){U=0,L.length=0,F=!1,s()}function l(){r()}function d(){c(),O=setTimeout(function(){O=0,a()},j.wijmouse.resetTimerDuration)}function c(){O&&(clearTimeout(O),O=0)}function h(e,t,n){var r;return(n&&n[e]||!n&&o(t.target,e))&&(r=i(t,e),j(t.target).trigger(r)),r}function u(e){var t=j.data(e.target,D),i,n;if(!(F||U&&U===t)){i="wij"+e.type;for(n in M)M[n]===e.type&&(i=n);var o=h(i,e);o&&(o.isDefaultPrevented()&&e.preventDefault(),o.isPropagationStopped()&&e.stopPropagation(),o.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function p(e){var i=t(e).touches,o,r,s;if((i&&1===i.length||T)&&(o=e.target,r=n(o),r.hasVirtualBinding)){U=q++,j.data(o,D,U),c(),l(),H=!1,s=t(e);var a=s.touches?s.touches[0]:s;z=a.pageX,E=a.pageY,h("wijmouseover",e,r),h("wijmousedown",e,r)}}function f(e){R||(H||h("wijmousecancel",e,n(e.target)),H=!0,d())}function g(e){if(!R){var i=t(e),o=i.touches?i.touches[0]:i,r=H,s=j.wijmouse.moveDistanceThreshold;H=H||Math.abs(o.pageX-z)>s||Math.abs(o.pageY-E)>s;var a=n(e.target);H&&!r&&h("wijmousecancel",e,a),h("wijmousemove",e,a),d()}}function m(e){if(!R){s();var i=n(e.target),o,r;if(h("wijmouseup",e,i),!H){var a=h("wijclick",e,i);a&&a.isDefaultPrevented()&&(o=t(e),r=o.changedTouches?o.changedTouches[0]:o,L.push({touchID:U,x:r.clientX,y:r.clientY}),F=!0)}h("wijmouseout",e,i),H=!1,d()}}function w(e){var t=j.data(e,x),i;if(t)for(i in t)if(t[i])return!0;return!1}function v(){}function b(e){var t=M[e];return{setup:function(i,n){w(this)||j.data(this,x,{});var o=j.data(this,x);o[e]=!0,j(this).bind(t,v);var r=!1;V&&(P[Y]=(P[Y]||0)+1,1===P[Y]&&(r=!0,N.bind(Y,p).bind(G,m).bind(Q,g).bind(X,f))),r&&Y===t||(P[e]=(P[e]||0)+1,1===P[e]&&N.bind(t,u))},teardown:function(i,n){--P[e],P[e]||N.unbind(t,u),V&&(--P[Y],P[Y]||N.unbind(Y,p).unbind(Q,g).unbind(G,m).unbind(X,f));var o=j(this),r=j.data(this,x);r&&(r[e]=!1),o.unbind(t,v),w(this)||o.removeData(x)}}}function _(e,t,i){var n=i.type;i.nativeType=i.type,i.type=t;try{j([e]).trigger(i)}finally{i.type=n}}function y(e,t){if(window.navigator.msPointerEnabled&&!e.__wijMSGesturePreInit){e.__wijMSGesturePreInit=!0;var i=new MSGesture;i.target=e,e.addEventListener("MSPointerDown",function(e){i.addPointer(e.pointerId)},!1)}}function C(e,t){var i=S(t,e);return j(t.target).trigger(i),i}function S(e,t){var i=e.type,n,o,r,s,a,l,d,c,h;if(n=e.originalEvent,e=j.Event(e),e.nativeType=e.type,e.type=t,o=j.event.props,n)for(d=o.length,s;d;)s=o[--d],e[s]=e[s]||n[s];for(c=0,h=re.length;h>c;c++)s=re[c],e[s]=e[s]||n[s];return window.navigator.msPointerEnabled&&e.rotation&&(e.rotation=360*e.rotation/Math.PI),e}var j=jQuery,x="virtualMouseBindings",D="virtualTouchID",k="wijmouseover wijmousedown wijmousemove wijmouseup wijclick wijtap wijdoubletap wijtaphold wijmouseout wijmousecancel".split(" "),T=window.navigator.msPointerEnabled,M={wijmouseover:T?"MSPointerOver":"mouseover",wijmousedown:T?"MSPointerDown":"mousedown",wijmousemove:T?"MSPointerMove":"mousemove",wijmouseup:T?"MSPointerUp":"mouseup",wijmouseout:T?"MSPointerOut":"mouseout",wijmousecancel:"mousecancel",wijclick:T?"MSGestureTap":"click",wijdoubletap:T?"MSGestureDoubleTap":"dblclick",wijtaphold:T?"MSGestureHold":"gesturehold"},I="clientX clientY pageX pageY screenX screenY".split(" "),A="clientX clientY pageX pageY screenX screenY".split(" "),W=j.event.mouseHooks?j.event.mouseHooks.props:[],B=j.event.props.concat(W),P={},O=0,z=0,E=0,H=!1,L=[],F=!1,R=!1,V="addEventListener"in document,N=j(document),q=1,U=0,Y=T?"MSPointerDown":"touchstart",G=T?"MSPointerUp":"touchend",Q=T?"MSPointerMove":"touchmove",X="scroll";j.wijmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Z=0;Z<k.length;Z++)j.event.special[k[Z]]=b(k[Z]);V&&document.addEventListener("click",function(e){var t=L.length,i=e.target,n,o,r,s,a,l;if(t){n=e.clientX,o=e.clientY;var d=j.wijmouse.clickDistanceThreshold;for(r=i;r;){for(s=0;t>s;s++)if(a=L[s],l=0,r===i&&Math.abs(a.x-n)<d&&Math.abs(a.y-o)<d||j.data(r,D)===a.touchID)return e.preventDefault(),void e.stopPropagation();r=r.parentNode}}},!0),j.each("touchstart touchmove touchend orientationchange throttledresize wijtap wijtaphold wijswipe wijswipeleft wijswiperight wijscrollstart wijscrollstop".split(" "),function(e,t){j.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},j.attrFn&&(j.attrFn[t]=!0)});var $="ontouchend"in document,K="touchmove scroll",J=$?"touchstart":"mousedown",ee=$?"touchend":"mouseup",te=$?"touchmove":"mousemove",ie="gesturestart",ne="gesturechange",oe="gestureend";window.navigator.msPointerEnabled&&(J="MSPointerDown",ee="MSPointerUp",te="MSPointerMove",ie="MSGestureStart",ne="MSGestureChange",oe="MSGestureEnd"),j.event.special.wijscrollstart={enabled:!0,setup:function(){function e(e,i){n=i,_(t,n?"wijscrollstart":"wijscrollstop",e)}var t=this,i=j(t),n,o;i.bind(K,function(t){j.event.special.wijscrollstart.enabled&&(n||e(t,!0),clearTimeout(o),o=setTimeout(function(){e(t,!1)},50))})}},j.event.special.wijtap={setup:function(){var e=this,t=j(e);t.bind("wijmousedown",function(i){function n(){clearTimeout(l)}function o(){n(),t.unbind("wijclick",r).unbind("wijmouseup",n),j(document).unbind("wijmousecancel",o)}function r(t){o(),s==t.target&&_(e,"wijtap",t)}if(i.which&&1!==i.which)return!1;var s=i.target,a=i.originalEvent,l;t.bind("wijmouseup",n).bind("wijclick",r),j(document).bind("wijmousecancel",o),l=setTimeout(function(){_(e,"wijtaphold",j.Event("wijtaphold",{target:s}))},750)})}},j.event.special.wijswipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,t=j(e);t.bind(J,function(e){function i(e){if(o){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;r={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},Math.abs(o.coords[0]-r.coords[0])>j.event.special.wijswipe.scrollSupressionThreshold&&e.preventDefault()}}var n=e.originalEvent.touches?e.originalEvent.touches[0]:e,o={time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:j(e.target)},r;t.bind(te,i).one(ee,function(e){t.unbind(te,i),o&&r&&r.time-o.time<j.event.special.wijswipe.durationThreshold&&Math.abs(o.coords[0]-r.coords[0])>j.event.special.wijswipe.horizontalDistanceThreshold&&Math.abs(o.coords[1]-r.coords[1])<j.event.special.wijswipe.verticalDistanceThreshold&&o.origin.trigger("wijswipe").trigger(o.coords[0]>r.coords[0]?"wijswipeleft":"wijswiperight"),o=r=void 0})})}};var re="altKey ctrlKey metaKey rotation scale shiftKey target velocityX velocityY translationX translationY".split(" ");j.event.special.wijgesturestart={setup:function(){var e=this,t=j(e);y(e,"wijgesturestart"),t.bind(ie,function(e){C("wijgesturestart",e)})}},j.event.special.wijgesturechange={setup:function(){var e=this,t=j(e);y(e,"wijgesturechange"),t.bind(ne,function(e){C("wijgesturechange",e)})}},j.event.special.wijgestureend={setup:function(){var e=this,t=j(e);y(e,"wijgestureend"),t.bind(oe,function(e){C("wijgestureend",e)})}},function(e,t){function i(){var e=r();e!==s&&(s=e,n.trigger("orientationchange"))}var n=e(t),o,r,s,a,l,d={0:!0,180:!0};if("orientation"in t&&"onorientationchange"in t){var c=t.innerWidth||e(t).width(),h=t.innerHeight||e(t).height(),u=50;a=c>h&&c-h>u,l=d[t.orientation],(a&&l||!a&&!l)&&(d={"-90":!0,90:!0})}e.event.special.orientationchange=o={setup:function(){return"orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled?!1:(s=r(),
void n.bind("throttledresize",i))},teardown:function(){return"orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled?!1:void n.unbind("throttledresize",i)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=r(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=r=function(){var e=!0,i=document.documentElement;return e="orientation"in t&&"onorientationchange"in t?d[t.orientation]:i&&i.clientWidth/i.clientHeight<1.1,e?"portrait":"landscape"}}(jQuery,window),function(){j.event.special.throttledresize={setup:function(){j(this).bind("resize",t)},teardown:function(){j(this).unbind("resize",t)}};var e=250,t=function(){o=(new Date).getTime(),r=o-i,r>=e?(i=o,j(this).trigger("throttledresize")):(n&&clearTimeout(n),n=setTimeout(t,e-r))},i=0,n,o,r}(),j.each({wijscrollstop:"wijscrollstart",wijtaphold:"wijtap",wijswipeleft:"wijswipe",wijswiperight:"wijswipe"},function(e,t){j.event.special[e]={setup:function(){j(this).bind(t,j.noop)}}})}(e.touch||(e.touch={}));var t=e.touch}(wijmo||(wijmo={})),$(document).ready(function(){function e(e,t,i){var n="-webkit-transform",o="translate3d(0,0,0)",r=e.css(n),s=!r||!r.match(/^\s*none\s*$/i);e.css(n,s?o:r+" "+o);try{return t.apply(this,i)}finally{e.css(n,r)}}function t(e,t,i,n){var r=!1,s,a,l=$.speed(t,i,n),d=this;if(!e)return!1;for(var c in e)s=e[c],"height"===c?"hide"===s?(this.css("display","none"),r=!0,l.complete()):"show"===s&&(this.css("display",""),r=!0,l.complete()):"width"===c?"hide"===s?(this.css("display","none"),r=!0,l.complete()):"show"===s&&(this.css("display",""),r=!0,l.complete()):"left"===c&&(a=1*this.css("left").replace("px",""),"string"==typeof s&&(0===s.indexOf("-=")?a-=1*s.replace("-=",""):0===s.indexOf("+=")&&(a+=1*s.replace("+=",""))),r=!0,this.css("-webkit-perspective",1e3),this.css("-webkit-backface-visibility","hidden"),o(this[0],a,l.duration,"linear",l.complete));return r}function i(e,t,i,n){_&&(i||(i="ease"),h(e,"opacity",t,i),r(e,0),e.addEventListener("webkitTransitionEnd",$.proxy(function(){u(e),e.style.display="none",r(e,1),n&&n()},this),!1))}function n(e,t,i,n){_&&(i||(i="ease"),h(e,"opacity",t,i),r(e,1),e.addEventListener("webkitTransitionEnd",$.proxy(function(){u(e),"none"===e.style.display&&(e.style.display=""),n&&n()},this),!1))}function o(e,t,i,n,o){_&&(c(e,i,n),s(e,t),e.___animationEndHandler=o,e.___internalEndHandler=$.proxy(p,{}),e.addEventListener("webkitTransitionEnd",e.___internalEndHandler,!1))}function r(e,t){var i;_&&(i=e.style||e,i.opacity=t)}function s(e,t){var i;_?(e.___translateX=t,i=e.style||e,i.webkitTransform="translateX("+t+"px)"):e.style.left=t+"px"}function a(e,t){var i;_?(e.___translateY=t,i=e.style||e,i.webkitTransform="translateY("+t+"px)"):e.style.top=t+"px"}function l(e){var t,i,n,o,r;if(!e)return 0;if(_){if(t=e.style||e,i=t.webkitTransform,"string"==typeof i&&(n=new RegExp("translate(3d|X|)\\(-*(\\d+)"),o=n.exec(i),o&&(r=parseFloat(o[1]),isFinite(r))))return r}else{var r=parseInt($(e).css("left"));if(isFinite(r))return r}return 0}function d(e){var t,i,n,o,r;if(!e)return 0;if(_){if(t=e.style||e,i=t.webkitTransform,"string"==typeof i&&(n=new RegExp("translate(3d|X|)\\(.*,\\s*-*(\\d+)"),o=n.exec(i),o&&(r=parseFloat(o[1]),isFinite(r))))return r}else{var r=parseInt(jQuery(e).css("top"));if(isFinite(r))return r}return 0}function c(e,t,i){i||(i="ease"),h(e,"-webkit-transform",t,i)}function h(e,t,i,n){if(_){var o=e.style;o.webkitTransitionProperty=t,o.webkitTransitionDuration=i+"ms",o.webkitTransitionTimingFunction=n}}function u(e){if(_){var t=e.style;t.webkitTransitionProperty="none";var i=e.___internalEndHandler;i&&(delete e.___internalEndHandler,e.removeEventListener("webkitTransitionEnd",i,!1))}}function p(e){try{var t,i;switch(e.type){case"webkitTransitionEnd":t=e.target,t&&(u(t),t.___animationEndHandler&&(i=t.___animationEndHandler,t.___animationEndHandler=null,i(e)))}}catch(n){window.console&&window.console.log&&window.console.log("[ew219290] error: "+(n.message?n.message:n)+", event: "+e)}return!0}var f=window.navigator.userAgent,g=f.match(new RegExp("android ((1\\.)|(2\\.([^345]+)))","i")),m=window.WebKitCSSMatrix?!g:!1,w="string"==typeof f&&!!f.match(/applewebkit/),v="ontouchend"in document,b=document.createElement("div"),_;b.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;-o-transition:top 1s ease;"),document.body.appendChild(b),_=!!(b.style.transition||b.style.webkitTransition||b.style.MozTransition||b.style.OTransitionDuration),b.parentNode.removeChild(b),b=null;var y=jQuery.fn.animate;jQuery.fn.animate=function(i,n,o,r){return w&&t.apply(this,arguments)?void 0:e.call(this,this,function(){return y.apply(this,arguments)},arguments)}});var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijtooltip",o="@wijtp@",r="wijmo-wijtooltip",s=r+"-arrow-",a=parseFloat,l=window,d=document,c=Math,h=c.max,u={},p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t._tooltips=new Array,t.prototype._setOption=function(t,n){var o=this,r="_set_"+t,s=o.options[t];return"controlwidth"===t?void o._setSize("width",n):"controlheight"===t?void o._setSize("height",n):(e.prototype._setOption.call(this,t,n),i.isPlainObject(n)&&(o.options[t]=i.extend({},s,n)),o[r]&&o[r](s),void 0)},t.prototype._set_cssClass=function(){var e=this,t=e.options,i=e._tooltipCache._$tooltip;i&&(i.hasClass(t.cssClass)||i.addClass(t.cssClass))},t.prototype._set_content=function(e){var t=this;t._isAjaxCallback?(t._callbacked=!0,t.show(),t._callbacked=!1):t._setText()},t.prototype._create=function(){var e=this,i=e.options,n=e.element,r=n&&n.attr("id"),s="",a="",l=i.group||o,d=t._getTooltip(l);d?d.count++:(d=e._createTooltip(),d.count=0,t._tooltips[l]=d),a=i.cssClass?i.cssClass:"",d._$tooltip.hasClass(a)||d._$tooltip.addClass(a),i.position.of=e.element,e._bindLiveEvents(),e._tooltipCache=d,""!==r&&(s=d._$tooltip.attr("aria-describedby"),s=void 0===s?"":s+" ",d._$tooltip.attr("aria-describedby",s+r)),i.controlwidth&&""!==i.controlwidth&&e._setSize("width",i.controlwidth),i.controlheight&&""!==i.controlheight&&e._setSize("height",i.controlheight)},t.prototype.destroy=function(){var i=this,n=i.element,r=i.options.group||o;n.unbind(".tooltip"),n.attr("title",i._content),t._removeTooltip(r),e.prototype.destroy.call(this)},t.prototype.widget=function(){return this._tooltipCache._$tooltip},t.prototype.show=function(){this.showAt(null)},t.prototype.showAt=function(e){var t=this,n=t._tooltipCache,o=n?n._$tooltip:null,r=t.options;if(n&&!r.disabled){if(o.stop(!0,!0),n._showAnimationTimer&&(clearTimeout(n._showAnimationTimer),n._showAnimationTimer=null),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),!e){if(r.ajaxCallback&&i.isFunction(r.ajaxCallback)&&!t._callbacked)return t._isAjaxCallback=!0,void r.ajaxCallback.call(t.element);t._setText()}r.showDelay?n._showAtAnimationTimer=setTimeout(function(){t._showToolTipHelper(e,o)},r.showDelay):t._showToolTipHelper(e,o)}},t.prototype.hide=function(){var e=this,t=e._tooltipCache;t&&(t._showAnimationTimer&&(clearTimeout(t._showAnimationTimer),t._showAnimationTimer=null),t._showAtAnimationTimer&&(clearTimeout(t._showAtAnimationTimer),t._showAtAnimationTimer=null),t._hideAnimationTimer&&(clearTimeout(t._hideAnimationTimer),t._hideAnimationTimer=null),e.options.hideDelay?t._hideAnimationTimer=setTimeout(i.proxy(e._hideTooltip,e),e.options.hideDelay):e._hideTooltip())},t.prototype._createTooltip=function(){var e=this,t=e.options,n=new TooltipCache,o=i("<div></div>").addClass(t.wijCSS.tooltip).addClass(t.wijCSS.widget).addClass(t.wijCSS.content).addClass(t.wijCSS.cornerAll),r=i("<div></div>").addClass(t.wijCSS.tooltipContainer),s=i("<div></div>").addClass(t.wijCSS.content).addClass(t.wijCSS.tooltipPointer).append(i("<div></div>").addClass(t.wijCSS.tooltipPointerInner)),a=i("<div></div>").addClass(t.wijCSS.tooltipTitle).addClass(t.wijCSS.header).addClass(t.wijCSS.cornerAll),l=i("<a href='#'></a>").addClass(t.wijCSS.tooltipClose).addClass(t.wijCSS.stateDefault).addClass(t.wijCSS.cornerAll);return l.append(i("<span></span>").addClass(t.wijCSS.icon).addClass(t.wijCSS.iconClose)).bind("click",i.proxy(e._onClickCloseBtn,e)),"sticky"!==t.closeBehavior&&l.hide(),t.showCallout||s.hide(),o.append(a).append(l).append(r).append(s).css("position","absolute").attr("role","tooltip").appendTo("body").hide(),n._$tooltip=o,n._container=r,n._callout=s,n._closeBtn=l,n._title=a,n},t.prototype._showToolTipHelper=function(e,t){if(e){var i=this,n=i._tooltipCache,o,r=0,s=0,a,l,d,c,h,p={},f,g,m=t.is(":visible"),g=n?n._callout:null;if(!g)return;i._setText(),u=t.offset(),t.offset({left:0,top:0}).show(),o=g.position(),r=o.left,s=o.top,d=i._getBorder(g),a=d.left||d.right,l=d.top||d.bottom,c=t.width(),h=t.height(),f=i._getCalloutShape(),p={rt:{left:e.x-c-a,top:e.y-s},rc:{left:e.x-c-a,top:e.y-h/2},rb:{left:e.x-c-a,top:e.y-s-l},lt:{left:e.x+a,top:e.y-s},lc:{left:e.x+a,top:e.y-h/2},lb:{left:e.x+a,top:e.y-s-l},tl:{left:e.x-r,top:e.y+l},tc:{left:e.x-c/2,top:e.y+l},tr:{left:e.x-r-a,top:e.y+l},bl:{left:e.x-r,top:e.y-h-l},bc:{left:e.x-c/2,top:e.y-h-l},br:{left:e.x-r-a,top:e.y-h-l},cc:{left:e.x-c/2,top:e.y-h/2}}[f],f=i._flipTooltip(p,f,d),i._setUnfilledCallout(f),t.offset(p),m||t.hide(),i._calloutShape=f}else{if(u=t.offset(),this.options.mouseTrailing)return void this._setCalloutCss();this._setPosition()}this._showTooltip()},t.prototype._bindLiveEvents=function(){var e=this,t=e.options,n=e.element;switch(void 0===e._content&&(e._content=n.attr("title"),n.attr("title","")),n.unbind(".tooltip"),t.mouseTrailing&&n.bind("mousemove.tooltip",function(i){if(!t.disabled){var n=t.position.offset||"",o=n.split(" ");2===o.length?e.showAt({x:i.pageX+parseInt(o[0],10),y:i.pageY+parseInt(o[1],10)}):e.showAt({x:i.pageX,y:i.pageY})}}),n.bind("mouseout.tooltip",i.proxy(e._hideIfNeeded,e)),t.triggers){case"hover":n.bind("mouseover.tooltip",i.proxy(e.show,e));break;case"click":n.bind("click.tooltip",i.proxy(e.show,e));break;case"focus":n.bind("focus.tooltip",i.proxy(e.show,e)).bind("blur.tooltip",i.proxy(e._hideIfNeeded,e));break;case"rightClick":n.bind("contextmenu.tooltip",function(t){e.show(),t.preventDefault()})}},t.prototype._hideIfNeeded=function(){var e=this,t=e.options,i=t.closeBehavior;"sticky"===i||t.modal||"none"===i||t.disabled||e.hide()},t.prototype._flipTooltip=function(e,t,i){var n=this,o=n._tooltipCache,r=o?o._$tooltip:null,s={width:r.width(),height:r.height()},a=n._flipCallout(e,s,t),l=a&&a.flip,d,c;return o&&a&&(l.h||l.v)?(d=r.width(),c=r.height(),"l"===l.h?e.left-=d+2*i.right+1:"r"===l.h?e.left+=d+2*i.left+1:"t"===l.v?e.top-=c+2*i.bottom+1:"b"===l.v&&(e.top+=c+2*i.top+1),a.calloutShape):a.calloutShape},t.prototype._flipCallout=function(e,t,n){var o=this,r=o.options,a=o._tooltipCache,d=a._$tooltip,c={h:!1,v:!1},h=i(l),u=(r.position.collision||"flip").split(" ");return 1===u.length&&(u[1]=u[0]),!a||"flip"!==u[0]&&"flip"!==u[1]?{flip:c,calloutShape:null}:("flip"===u[0]&&(e.left<0||e.left+t.width>h.width()+h.scrollLeft())&&(c.h=!0),"flip"===u[0]&&(e.top<0||e.top+t.height>h.height()+h.scrollTop())&&(c.v=!0),r.showCallout&&(c.h&&(n.indexOf("l")>-1?(n=n.replace(/l/,"r"),c.h="l"):n.indexOf("r")>-1&&(n=n.replace(/r/,"l"),c.h="r")),c.v&&(n.indexOf("t")>-1?(n=n.replace(/t/,"b"),c.v="t"):n.indexOf("b")>-1&&(n=n.replace(/b/,"t"),c.v="b")),(c.h||c.v)&&(o._removeCalloutCss(),d.addClass(s+n))),{flip:c,calloutShape:n})},t.prototype._set_position=function(e){var t=this,i=t.options,n=i.position;i.showCallout&&((e.my!==n.my||e.at!==n.at)&&t._setPosition(),t._setCalloutOffset(!0)),t._setText()},t.prototype._set_showCallout=function(){var e=this,t=e._tooltipCache,i=t?t._callout:null;t&&i&&(e.options.showCallout?(e._setCalloutCss(),i.show()):i.hide())},t.prototype._set_closeBehavior=function(){var e=this,t=e._tooltipCache,i=t?t._closeBtn:null;i&&i["sticky"===e.options.closeBehavior?"show":"hide"]()},t.prototype._set_triggers=function(){this._bindLiveEvents()},t.prototype._set_mouseTrailing=function(){this._bindLiveEvents()},t.prototype._getCalloutShape=function(){var e=this,t=e.options.position,n=function(e){return i.makeArray(i.map(e,function(e){return e.substr(0,1)}))},o=n(t.my.split(" ")),r=n(t.at.split(" ")),s=[];return 2===o.length&&(s=o),o[0]===r[0]?("t"===o[1]&&"b"===r[1]||"b"===o[1]&&"t"===r[1])&&s.reverse():"c"===r[0]&&s.reverse(),"c"===s[0]&&s.reverse(),s.join("")},t.prototype._setCalloutCss=function(){var e=this,t=e.options,n=e._tooltipCache,o=n?n._$tooltip:null,r="",a="",l=i.support.isTouchEnabled;if(t.showCallout||l)return e._removeCalloutCss(),a=e._getCalloutShape(),r=s+a,o&&o.addClass(r),a},t.prototype._removeCalloutCss=function(){var e=this._tooltipCache,t;e&&(t=e._$tooltip,i.each(["tl","tc","tr","bl","bc","br","rt","rc","rb","lt","lc","lb","cc"],function(e,i){var n=s+i;return t.hasClass(n)?(t.removeClass(n),!1):void 0}))},t.prototype._getBorder=function(e){var t={};return i.each(["top","right","left","bottom"],function(i,n){t[n]=a(e.css("border-"+n+"-width"))}),t},t.prototype._setPosition=function(){var e=this,t=e.options,n=t.position,o=n.my,r=e._tooltipCache,s=r?r._$tooltip:null,l=s.is(":hidden"),d=e._setCalloutCss(),c=d?d.split(""):null,h=[0,0],u=r._callout,p,f,g,m,w,v={width:s.width(),height:s.height()},b,_,y=i.support.isTouchEnabled;if(l&&s.show(),s.css({left:0,top:0}),t.showCallout){switch(p=e._getBorder(u),g=a(u.css("left")),f=a(u.css("top")),m=a(u.css("right")),w=a(u.css("bottom")),c[0]){case"l":h[0]=p.right;break;case"r":h[0]=-p.left;break;case"b":h[1]=w;break;case"t":h[1]=-f}switch(c[1]){case"t":h[1]=-f;break;case"b":h[1]=w;break;case"r":h[0]=m;break;case"l":h[0]=-g}}if(y&&y()){switch(c[0]){case"l":h[0]=h[0]+30;break;case"r":h[0]=h[0]-30;break;case"b":h[1]=h[1]-30;break;case"t":h[1]=h[1]+30}switch(c[1]){case"t":h[1]=h[1]+30;break;case"b":h[1]=h[1]-30;break;case"r":h[0]=h[0]-30;break;case"l":h[0]=h[0]+30}}o=n.my.indexOf(" ")>-1?n.my.split(" ")[0]+"+"+h[0]+" "+n.my.split(" ")[1]+"+"+h[1]:n.my+"+"+h[0]+" "+n.my+"+"+h[1],s.position({my:o,at:n.at,of:n.of,collision:"none none"}),b=e._flipCallout(s.offset(),v,d),_=b.flip,(_.h||_.v)&&(s.css({left:0,top:0}),s.position({my:o,at:n.at,of:n.of,collision:n.collision})),t.showCallout&&e._setUnfilledCallout(d),e._calloutShape=d,l&&s.hide()},t.prototype._setCalloutOffset=function(e){var t=this,n=t.options,o=t._tooltipCache,r=o?o._$tooltip:null,s=o&&o._callout,a=t._calloutShape,l=!1,d=n.position.offset,c="",h=[],u=n.calloutAnimation;s&&d&&0!==d.length&&(s.stop(!0,!0),i.each(["tr","tc","tl","bl","bc","br"],function(e,t){return a===t?(l=!0,!1):void 0}),d&&(h=d.split(" "),2===h.length?c=l?h[0]:h[1]:1===h.length&&(c=h[0])),h&&2===h.length&&"none"===h[0]&&"none"===h[1]?s.css("left","").css("top",""):"none"===c?s.css(l?"left":"top",""):""!==c&&(e&&!e.disabled?l?s.animate({left:c},u.duration,u.easing):s.animate({top:c},u.duration,u.easing):s.css(l?"left":"top",c)))},t.prototype._setUnfilledCallout=function(e){var t=this,i=t._tooltipCache,n=i?i._$tooltip:null,o=i&&i._callout,r=o&&o.children(),s=e.split(""),a=n?n.css("background-color"):"";if(r&&(r.css({"border-left-color":"","border-top-color":"","border-bottom-color":"","border-right-color":""}),!t.options.calloutFilled))switch(s[0]){case"l":r.css("border-right-color",a);break;case"t":r.css("border-bottom-color",a);break;case"r":r.css("border-left-color",a);break;case"b":r.css("border-top-color",a)}},t.prototype._showTooltip=function(){var e=this,n=e.options,o=e._tooltipCache,r=o?o._$tooltip:null,s,a,l;if(o)return e._trigger("showing",null,e)===!1?void(r.is(":visible")&&r.hide()):(e._showModalLayer(),r.css("z-index",99999),i.fn.wijshow?(a={show:!0,context:r},s=i.extend({},n.animation,n.showAnimation),r.is(":visible")&&(l=r.offset(),r.offset(u),i.extend(a,{pos:l}),s.animated="tooltipSlide"),r.wijshow(s,t.animations,a,null,function(){e._trigger("shown")})):(r.show(),e._trigger("shown")),e._setCalloutOffset(!1),void 0)},t.prototype._hideTooltip=function(){var e=this,n=e.options,o=e._tooltipCache,r=o?o._$tooltip:null,s=i.extend({},n.animation,n.hideAnimation),a;o&&e._trigger("hiding",null,e)!==!1&&(e._hideModalLayer(),i.fn.wijhide?(a={show:!1,context:r},r.wijhide(s,t.animations,a,null,function(){e._trigger("hidden"),r.css("z-index","")})):(r.hide(),e._trigger("hidden"),r.css("z-index","")))},t.prototype._getContent=function(e){var t={data:""},n;return i.isFunction(e)?(n=e.call(this.element,t),""!==t.data?t.data:n):window[e]&&i.isFunction(window[e])?(n=window[e].call(this.element,t),""!==t.data?t.data:n):e},t.prototype._setText=function(){var e=this,t=e.options,i=e._tooltipCache,n="",o="",r=i?i._title:null;i&&(n=e._getContent(t.content),n=""===n?e._content:n,i._container.html(n),o=e._getContent(t.title),""!==o?r.html(o).show():r.hide())},t.prototype._showModalLayer=function(){var e=this,t=e.options,n=null;e.options.modal&&(n=i("<div>").addClass(t.wijCSS.overlay).css("z-index",99e3).width(e._getDocSize("Width")).height(e._getDocSize("Height")).appendTo("body"),i(window).bind("resize.wijtooltip",function(){n.width(e._getDocSize("Width")).height(e._getDocSize("Height"))}),e._tooltipCache._modalLayer=n)},t.prototype._hideModalLayer=function(){var e=this,t=e._tooltipCache._modalLayer;t&&(t.css("z-index","").remove(),i(window).unbind("resize.wijtooltip"))},t.prototype._getDocSize=function(e){var t,n,o="documentElement",r="body";return i.browser.msie&&parseFloat(i.browser.version)<9?(t=h(d[o]["scroll"+e],d[r]["scroll"+e]),n=h(d[o]["offset"+e],d[r]["offset"+e]),n>t?i(l)[e.toLowerCase()]()+"px":t+"px"):i(d)[e.toLowerCase()]()+"px"},t.prototype._setSize=function(e,t){var i=this,n=i._tooltipCache,o=n?n._$tooltip:null;o&&o.css(e,t)},t.prototype._onClickCloseBtn=function(e){this.hide(),e.preventDefault()},t.animations={fade:function(e,t){e=i.extend({duration:300,easing:"swing"},e,t),e.context.stop(!0,!0).animate(e.show?{opacity:"show"}:{opacity:"hide"},e)},tooltipSlide:function(e,t){e=i.extend({duration:300,easing:"swing"},e,t),e.context.stop(!0,!0).animate({left:e.pos.left,top:e.pos.top},e)}},t._getTooltip=function(e){return t._tooltips[e]},t._removeTooltip=function(e){var i=t._tooltips[e],n=i?i._$tooltip:null;i&&(i.count--,i.count<=0&&(n.remove(),t._tooltips[e]=null))},t}(e.wijmoWidget);t.wijtooltip=p;var f=function(){function e(){this.initSelector=":jqmData(role='wijtooltip')",this.wijCSS={tooltip:"wijmo-wijtooltip",tooltipContainer:"wijmo-wijtooltip-container",tooltipPointer:"wijmo-wijtooltip-pointer",tooltipPointerInner:"wijmo-wijtooltip-pointer-inner",tooltipTitle:"wijmo-wijtooltip-title",tooltipClose:"wijmo-wijtooltip-close"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-a",stateDefault:"ui-btn-up-a",stateHover:"ui-btn-down-a",stateActive:"ui-btn-down-a"},this.content="",this.title="",this.closeBehavior="auto",this.mouseTrailing=!1,this.triggers="hover",this.position={my:"left bottom",at:"right top",offset:null},this.showCallout=!0,this.animation={animated:"fade",duration:500,easing:null},this.showAnimation={},this.hideAnimation={},this.showDelay=150,this.hideDelay=150,this.calloutAnimation={duration:1e3,disabled:!1,easing:null},this.calloutFilled=!1,this.modal=!1,this.group=null,this.ajaxCallback=null,this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.cssClass="",this.controlwidth=null,this.controlheight=null}return e}();p.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new f),i.wijmo.registerWidget(n,p.prototype)}(e.tooltip||(e.tooltip={}));var t=e.tooltip}(wijmo||(wijmo={}));var TooltipCache=function(){function e(){}return e}(),__extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijslider",o="ui-slider-handle",r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._valueMin=function(){return i.ui.slider.prototype._valueMin.apply(this,arguments)},t.prototype._valueMax=function(){return i.ui.slider.prototype._valueMax.apply(this,arguments)},t.prototype._refreshValue=function(){return i.ui.slider.prototype._refreshValue.apply(this,arguments)},t.prototype._create=function(){return i.ui.slider.prototype._create.apply(this,arguments)},t.prototype._createHandles=function(){return i.ui.slider.prototype._createHandles.apply(this,arguments)},t.prototype.values=function(e,t){return i.ui.slider.prototype.values.apply(this,arguments)},t.prototype.value=function(e){return i.ui.slider.prototype.value.apply(this,arguments)},t.prototype._slide=function(e,t,n){return i.ui.slider.prototype._slide.apply(this,arguments)},t.prototype._change=function(e,t){return i.ui.slider.prototype._change.apply(this,arguments)},t.prototype._normValueFromMouse=function(e){return i.ui.slider.prototype._normValueFromMouse.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUISlider=r;var s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(e,t){return"values"===e?(t=this._pre_set_values(t),this.options[e]=t,this._setValuesOption()):"disabled"===e?(this.element.toggleClass(this.options.wijCSS.stateDisabled,!!t),this.options[e]=t):i.ui.slider.prototype._setOption.apply(this,arguments),"range"===e&&this._setRangeOption(t),this},t.prototype._setRangeOption=function(e){var t=this,i=t.options,n;e===!0&&(!i.values||i.values&&0===i.values.length?(n=t._valueMin(),i.values=[n,n]):i.values.length&&2!==i.values.length&&(n=i.values[0],i.values=[n,n]),t._refresh_handle(2)),t._re_createRange(),t._refreshValue()},t.prototype._setValuesOption=function(){var e=this,t=0,n;for(e._animateOff=!0,e._refreshValue(),i.isArray(e.options.values)&&(t=e.options.values.length),n=0;t>n;n++)e._change(null,n);e._animateOff=!1},t.prototype._re_createRange=function(){var e=this,t=e.options,n=t.wijCSS;e.range&&(e.range.remove(),i(".ui-slider-range",e.element).length>0&&i(".ui-slider-range",e.element).remove()),t.range&&(e.range=i("<div></div>").appendTo(e.element).addClass(n.uiSliderRange).addClass(n.header),"min"===t.range?e.range.addClass(n.uiSliderRangeMin):"max"===t.range&&e.range.addClass(n.uiSliderRangeMax))},t.prototype._pre_set_values=function(e){var t=this,i=t.options,n=1,o;return n=e&&e.length?e.length:1,i.range===!0&&(!e||e&&0===e.length?(o=t._valueMin(),e=[o,o]):e.length&&2!==e.length&&(o=e[0],e=[o,o]),n=2),t._refresh_handle(n),t._re_createRange(),e},t.prototype._createHandles=function(){var t=this.options.wijCSS;e.prototype._createHandles.call(this),this.handles.each(function(e){i(this).removeClass("ui-slider-handle").removeClass("ui-state-default").removeClass("ui-corner-all").addClass(o).addClass(t.uiSliderHandle).addClass(t.stateDefault).addClass(t.cornerAll)})},t.prototype._refresh_handle=function(e){var t=this,i=this.options.wijCSS,n=t.handles.length,r="<a class='"+o+" "+i.uiSliderHandle+" "+i.stateDefault+" "+i.cornerAll+"' href='#'></a>",s=[],a;if(n!==e){if(e>n){for(a=n;e>a;a++)s.push(r);t.element.append(s.join(""))}else t.element.find("."+o).eq(e-1).nextAll().remove();t.handles=t.element.find("."+o)}},t.prototype._initState=function(){this._dragFillTarget=!1,this._dragFillStart=0,this._rangeValue=0,this._oldValue1=0,this._oldValue2=0,this._oldX=0,this._oldY=0},t.prototype._create=function(){var t=this,n=t.element,r=t.options,s=r.wijCSS,a,l,d,c,h,u,p,f,g,m,w;if(window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),this._initState(),t._oriStyle=n.attr("style"),n.is(":input")){if(a="horizontal"===r.orientation?i("<div></div>").width(n.width()).appendTo(document.body):i("<div></div>").height(n.height()).appendTo(document.body),l=n.val(),""!==l)try{if(d=l.split(";"),h=d.length,h>0){for(c=0;h>c;c++)d[c]=parseInt(d[c],10);1===h?r.value=d[0]:r.values=d}}catch(v){}if(n.data(t.widgetName,a.wijslider(r)).after(i(document.body).children("div:last")).hide(),r.disabledState){var b=r.disabled;t.disable(),r.disabled=b}}else{if(e.prototype._create.call(this),t.range&&t.range.removeClass("ui-slider-range").addClass(s.uiSliderRange),n.removeClass("ui-slider").removeClass("ui-slider-"+this.options.orientation).removeClass("ui-widget").removeClass("ui-widget-content").removeClass("ui-corner-all").addClass(s.uiSlider).addClass("horizontal"===r.orientation?s.uiSliderHorizontal:s.uiSliderVertical).addClass(s.widget).addClass(s.content).addClass(s.cornerAll),n.data("originalStyle",n.attr("style")),n.data("originalContent",n.html()),u=n.width(),p=n.height(),f=i("<div></div>"),"horizontal"===r.orientation?f.addClass(s.wijmoSliderHorizontal):f.addClass(s.wijmoSliderVertical),f.width(u).height(p),g=i("<a><span></span></a>").addClass(s.wijmoSliderDecButton),m=i("<a><span></span></a>").addClass(s.wijmoSliderIncButton),n.wrap(f).before(g).after(m),t._container=n.parent(),t._attachClass(),w=n.find("."+o),t._adjustSliderLayout(g,m,w),r.disabledState){var b=r.disabled;t.disable(),r.disabled=b}t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t._refreshSlider(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijslider"),t._bindEvents()}},t.prototype.values=function(e,t){return i.ui.slider.prototype.values.apply(this,arguments)},t.prototype.value=function(e){return i.ui.slider.prototype.value.apply(this,arguments)},t.prototype.refresh=function(){var e=this.element.data("wijslider"),t=this.element.data("wijmoWijslider");this.destroy(),this.element.data("wijslider",e),this.element.data("wijmoWijslider",t),this._create()},t.prototype._refreshSlider=function(){var e=this,t=e.options.wijCSS,i,n,r;n=e._container.find("."+t.wijmoSliderDecButton),i=e._container.find("."+t.wijmoSliderIncButton),r=e._container.find("."+o),e._adjustSliderLayout(n,i,r),e._refreshValue()},t.prototype._adjustSliderLayout=function(e,t,i){var n=this,o=n.element,r=n.options,s,a,l,d,c,h,u,p,f,g,m,w;s=n._container.width(),a=n._container.height(),l=e.outerWidth(),d=e.outerHeight(),c=t.outerWidth(),h=t.outerHeight(),u=i.outerWidth(),p=i.outerHeight(),"horizontal"===r.orientation?(f=a/2-d/2,e.css("top",f).css("left",0),g=a/2-h/2,t.css("top",g).css("right",0),o.css("left",l+u/2-1).css("top",a/2-o.outerHeight()/2).width(s-l-c-u-2)):(m=s/2-l/2,e.css("left",m).css("top",0),w=s/2-c/2,t.css("left",w).css("bottom",0),o.css("left",s/2-o.outerWidth()/2).css("top",d+p/2+1).height(a-d-h-p-2))},t.prototype.destroy=function(){var t=this,n,r,s=t.options.wijCSS;n=this._getDecreBtn(),r=this._getIncreBtn(),n.unbind("."+t.widgetName),r.unbind("."+t.widgetName),t.element.removeClass(s.uiSlider).removeClass(s.uiSliderHorizontal).removeClass(s.uiSliderVertical).removeClass(s.widget).removeClass(s.content).removeClass(s.cornerAll).removeClass(o),e.prototype.destroy.call(this),i("a",t.element.parent()).remove(),t.element.unbind("."+t.widgetName),t.element.unwrap(),void 0===t._oriStyle?t.element.removeAttr("style"):t.element.attr("style",t._oriStyle),t.element.removeData(t.widgetName).removeData("originalStyle").removeData("originalContent"),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null)},t.prototype._slide=function(t,i,n){var o=this,r=o.options,s=r.minRange,a=n,l;r.range===!0&&(l=o.values(),0===i&&l[1]-s<n?a=l[1]-s:1===i&&l[0]+s>n&&(a=l[0]+s)),e.prototype._slide.call(this,t,i,a)},t.prototype._getDecreBtn=function(){var e=this.element.parent().find("."+this.options.wijCSS.wijmoSliderDecButton);return e},t.prototype._getIncreBtn=function(){var e=this.element.parent().find("."+this.options.wijCSS.wijmoSliderIncButton);return e},t.prototype._attachClass=function(){var e=this.options.wijCSS;this._getDecreBtn().addClass(e.cornerAll).addClass(e.stateDefault).attr("role","button"),this._getIncreBtn().addClass(e.cornerAll).addClass(e.stateDefault).attr("role","button"),this.element.parent().attr("role","slider").attr("aria-valuemin",this.options.min).attr("aria-valuenow","0").attr("aria-valuemax",this.options.max),"horizontal"===this.options.orientation?(this.element.parent().addClass(e.wijmoSliderHorizontal),this._getDecreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowLeft),this._getIncreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowRight)):(this.element.parent().addClass(e.wijmoSliderVertical),this._getDecreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowUp),this._getIncreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowDown))},t.prototype._bindEvents=function(){var e=this,t,n,o;t=this._getDecreBtn(),n=this._getIncreBtn(),o=e.element,t.bind("click."+e.widgetName,e,e._decreBtnClick),n.bind("click."+e.widgetName,e,e._increBtnClick),t.bind("mouseover."+e.widgetName,e,e._decreBtnMouseOver),t.bind("mouseout."+e.widgetName,e,e._decreBtnMouseOut),t.bind("mousedown."+e.widgetName,e,e._decreBtnMouseDown),t.bind("mouseup."+e.widgetName,e,e._decreBtnMouseUp),n.bind("mouseover."+e.widgetName,e,e._increBtnMouseOver),n.bind("mouseout."+e.widgetName,e,e._increBtnMouseOut),n.bind("mousedown."+e.widgetName,e,e._increBtnMouseDown),n.bind("mouseup."+e.widgetName,e,e._increBtnMouseUp),o.bind("mouseup."+e.widgetName,e,e._elementMouseupEvent),i.support.isTouchEnabled&&i.support.isTouchEnabled()&&o.bind("wijmousedown."+e.widgetName,i.proxy(e._touchStart,e)).bind("wijmousemove."+e.widgetName,i.proxy(e._touchMove,e)).bind("wijmouseup."+e.widgetName,i.proxy(e._touchEnd,e))},t.prototype._decreBtnMouseOver=function(e){var t=e.data,i,n;t.options.disabledState||t.options.disabled||(i={buttonType:"decreButton"},t._trigger("buttonMouseOver",e,i),n=t._getDecreBtn(),n.addClass(t.options.wijCSS.stateHover))},t.prototype._increBtnMouseOver=function(e){var t=e.data,i,n;t.options.disabledState||t.options.disabled||(i={buttonType:"increButton"},t._trigger("buttonMouseOver",e,i),n=t._getIncreBtn(),n.addClass(t.options.wijCSS.stateHover))},t.prototype._decreBtnMouseOut=function(e){var t=e.data,i,n,o=t.options.wijCSS;t.options.disabledState||t.options.disabled||(i={buttonType:"decreButton"},t._trigger("buttonMouseOut",e,i),n=t._getDecreBtn(),n.removeClass(o.stateHover).removeClass(o.stateActive))},t.prototype._increBtnMouseOut=function(e){var t=e.data,i,n,o=t.options.wijCSS;t.options.disabledState||t.options.disabled||(i={buttonType:"increButton"},t._trigger("buttonMouseOut",e,i),n=t._getIncreBtn(),n.removeClass(o.stateHover).removeClass(o.stateActive))},t.prototype._decreBtnMouseDown=function(e){var t=e.data,n,o;t.options.disabledState||t.options.disabled||(n={buttonType:"decreButton"},t._trigger("buttonMouseDown",e,n),o=t._getDecreBtn(),o.addClass(t.options.wijCSS.stateActive),i(document).bind("mouseup."+t.widgetName,{self:t,ele:o},t._documentMouseUp),null!==t._intervalID&&(window.clearInterval(t._intervalID),t._intervalID=null),t._intervalID=window.setInterval(function(){t._decreBtnHandle(t)},200))},t.prototype._documentMouseUp=function(e){var t=e.data.self,n=e.data.ele;t.options.disabledState||t.options.disabled||(n.removeClass(t.options.wijCSS.stateActive),null!==t._intervalID&&(window.clearInterval(t._intervalID),t._intervalID=null),i(document).unbind("mouseup."+t.widgetName,t._documentMouseUp))},t.prototype._increBtnMouseDown=function(e){var t=e.data,n,o;t.options.disabledState||t.options.disabled||(n={buttonType:"increButton"},t._trigger("buttonMouseDown",e,n),o=t._getIncreBtn(),o.addClass(t.options.wijCSS.stateActive),i(document).bind("mouseup."+t.widgetName,{self:t,ele:o},t._documentMouseUp),null!==t._intervalID&&(window.clearInterval(t._intervalID),t._intervalID=null),t._intervalID=window.setInterval(function(){t._increBtnHandle(t)},200))},t.prototype._decreBtnMouseUp=function(e){var t=e.data,i,n;t.options.disabledState||t.options.disabled||(i={buttonType:"decreButton"},t._trigger("buttonMouseUp",e,i),n=t._getDecreBtn(),n.removeClass(t.options.wijCSS.stateActive),window.clearInterval(t._intervalID))},t.prototype._increBtnMouseUp=function(e){var t=e.data,i,n;
t.options.disabledState||t.options.disabled||(i={buttonType:"increButton"},t._trigger("buttonMouseUp",e,i),n=t._getIncreBtn(),n.removeClass(t.options.wijCSS.stateActive),window.clearInterval(t._intervalID))},t.prototype._decreBtnHandle=function(e){"horizontal"===e.options.orientation?e._decre():e._incre()},t.prototype._decreBtnClick=function(e){var t=e.data,i;t.options.disabledState||t.options.disabled||(t._mouseSliding=!1,t._decreBtnHandle(t),i={buttonType:"decreButton",value:t.value()},t._trigger("buttonClick",e,i))},t.prototype._increBtnHandle=function(e){"horizontal"===e.options.orientation?e._incre():e._decre()},t.prototype._increBtnClick=function(e){var t=e.data,i;t.options.disabledState||t.options.disabled||(t._mouseSliding=!1,t._increBtnHandle(t),i={buttonType:"increButton",value:t.value()},t._trigger("buttonClick",e,i))},t.prototype._decre=function(){var e=this,t=e.value(),i=e.options,n=i.min,o=i.step;i.values&&i.values.length?(t=e.values(0),n>=t?e.values(0,n):e.values(0,t-o)):(t=e.value(),n>=t?e.value(n):e.value(t-o)),e.element.parent().attr("aria-valuenow",e.value())},t.prototype._incre=function(){var e=this,t=e.value(),i=e.options,n=i.max,o=i.step,r;i.values&&i.values.length?(r=1===i.values.length?0:1,t=e.values(r),t>=n?e.values(r,n):e.values(r,t+o)):(t=e.value(),t>=n?e.value(n):e.value(t+o)),e.element.parent().attr("aria-valuenow",e.value())},t.prototype._elementMouseupEvent=function(e){var t=e.data;t.options.dragFill&&t.options.range&&(t._dragFillStart>0?t._dragFillStart=0:i.ui.slider.prototype._mouseCapture.apply(t,arguments))},t.prototype._isUISlider=function(e){var t=this.options.wijCSS,n=i(e);return n.hasAllClasses(t.uiSliderRange)&&n.hasAllClasses(t.header)&&n.hasAllClasses(t.cornerAll)||n.hasAllClasses(t.uiSliderRange)&&n.hasAllClasses(t.header)},t.prototype._mouseCapture=function(e){if(this.element.parent().attr("aria-valuenow",this.value()),this.options.dragFill){if(this._isUISlider(e.target))return this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),!0;try{return i.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(t){}}else try{return i.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(t){}},t.prototype._mouseStart=function(e){if(this.options.dragFill){if(e.target&&this._isUISlider(e.target))return this._setStateForDragFill(e),!0;this._dragFillTarget=!1}return!0},t.prototype._mouseDrag=function(e){return this.options.dragFill&&this._processDragFill(e)?!1:i.ui.slider.prototype._mouseDrag.apply(this,arguments)},t.prototype._mouseStop=function(e){var t=i.ui.slider.prototype._mouseStop.apply(this,arguments);return this.options.dragFill&&this._resetStateForDragFill(),t},t.prototype._touchStart=function(t){var n,o,r,s,a,l=this,d=this.options;return this.elementSize||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()}),this.elementOffset||(this.elementOffset=this.element.offset()),this.options.dragFill&&t.originalEvent.target&&this._isUISlider(t.target)?(this._setStateForDragFill(t),!0):(this._dragFillTarget=!1,s={x:t.pageX,y:t.pageY},r=e.prototype._normValueFromMouse.call(this,s),o=e.prototype._valueMax.call(this)-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(r-l.values(e));(o>t||o===t&&(e===l._lastChangedValue||l.values(e)===d.min))&&(o=t,a=i(this),n=e)}),this._handleIndex=n,a.addClass(d.wijCSS.stateActive),void 0)},t.prototype._touchMove=function(t){var n,o;return i.browser.msie&&t.pointerType===t.MSPOINTER_TYPE_TOUCH?!1:(t.preventDefault(),t.stopPropagation(),this.options.dragFill&&this._processDragFill(t)?!1:(n={x:t.pageX,y:t.pageY},o=e.prototype._normValueFromMouse.call(this,n),this._slide(t,this._handleIndex,o),!1))},t.prototype._touchEnd=function(e){this.handles.removeClass(this.options.wijCSS.stateActive),this._lastChangedValue=this._handleIndex,this.options.dragFill&&this._resetStateForDragFill()},t.prototype._setStateForDragFill=function(e){this._dragFillTarget=!0,this._rangeValue=this.values(1)-this.values(0),this._oldValue1=this.values(0),this._oldValue2=this.values(1),this._oldX=e.pageX,this._oldY=e.pageY},t.prototype._resetStateForDragFill=function(){i(document.documentElement).css("cursor","default"),window.setTimeout(function(){this._dragFillTarget=!1,this._dragFillStart=0},500)},t.prototype._processDragFill=function(e){var t,n,o,r,s,a,l,d;return t=e.pageX-this._oldX,n=this.element.outerWidth(),"vertical"===this.options.orientation&&(n=this.element.outerHeight(),t=-(e.pageY-this._oldY)),o=(this.options.max-this.options.min)/n*t,this._dragFillTarget?("vertical"===this.options.orientation?i(document.documentElement).css("cursor","s-resize"):i(document.documentElement).css("cursor","w-resize"),this._dragFillStart>0&&(r=this._rangeValue,this.values(0,this._oldValue1+o),this.values(1,this._oldValue1+o+r),s=this.values(0),a=this.values(1),s+r>this.options.max&&this.values(0,this.options.max-r),a-r<this.options.min&&this.values(1,this.options.min+r)),this._dragFillStart++,!0):!1},t}(r);t.wijslider=s,s.prototype.widgetEventPrefix="wijslider";var a=function(){function e(){this.wijCSS={uiSliderRange:"ui-slider-range",uiSliderHandle:"ui-slider-handle",wijmoSliderDecButton:"wijmo-wijslider-decbutton",wijmoSliderIncButton:"wijmo-wijslider-incbutton",wijmoSliderHorizontal:"wijmo-wijslider-horizontal",wijmoSliderVertical:"wijmo-wijslider-vertical",uiSliderRangeMax:"ui-slider-range-max",uiSliderRangeMin:"ui-slider-range-min",uiSlider:"ui-slider",uiSliderHorizontal:"ui-slider-horizontal",uiSliderVertical:"ui-slider-vertical"},this.buttonMouseOver=null,this.buttonMouseOut=null,this.buttonMouseDown=null,this.buttonMouseUp=null,this.buttonClick=null,this.dragFill=!0,this.minRange=0,this.animate=!1,this.max=100,this.min=0,this.orientation="horizontal",this.range=!1,this.step=1,this.value=0,this.values=null,this.change=null,this.slide=null,this.start=null,this.stop=null}return e}();i.ui&&i.ui.slider&&(s.prototype.options=i.extend(!0,{},i.ui.slider.prototype.options,e.wijmoWidget.prototype.options,new a),i.wijmo.registerWidget(n,i.ui.slider,s.prototype))}(e.slider||(e.slider={}));var t=e.slider}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijsplitter",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setFullSplit=function(e){var t=this,i=t._fields,n=e?"100%":i.width,o=e?"100%":i.height;t.element.css("width",n).css("height",o)},t.prototype._setOption=function(e,t){var n=this,o=n.options,r,s=i.extend({},o[e]);if("fullSplit"===e)n._setFullSplit(t);else if(i.isPlainObject(o[e]))return"panel1"===e&&void 0!==t.collapsed?n._setPanel1Collapsed(t.collapsed):"panel2"===e&&void 0!==t.collapsed&&n._setPanel2Collapsed(t.collapsed),o[e]=i.extend(!0,o[e],t),"resizeSettings"===e&&n._initResizer(),void 0;i.Widget.prototype._setOption.apply(n,arguments),s!==t&&("orientation"===e?n.refresh():"collapsingPanel"===e?n.refresh():"fullSplit"===e?n.refresh(!0,!1):"splitterDistance"===e?(n.refresh(!1,!1),n._trigger("sized")):"showExpander"===e&&(r=n._fields.expander,r&&r.length&&r.css("display",t?"":"none"))),"disabled"===e&&n._handleDisabledOption(t,n.element)},t.prototype._create=function(){var e=this,t=e.element,n=e.options,o;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),100==n.splitterDistance&&(o=this.element.width()-n.panel2.minSize,n.panel1.minSize>n.splitterDistance?n.splitterDistance=n.panel1.minSize:o<n.splitterDistance&&(n.splitterDistance=o)),e._fields={width:t.width(),height:t.height()},n.fullSplit&&e._setFullSplit(!0),e._splitterify(),e._updateElementsCss(),e._updateElements(),e._bindEvents(),e._initResizer(),n.disabled&&e.disable(),e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){n.fullSplit&&(e.refresh(),e._updateElements(),e._initResizer())},"wijsplitter"),e._trigger("load",null,e)},t.prototype._handleDisabledOption=function(e,t){var i=this;e?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(t)),i.disabledDiv.appendTo("body")):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null)},t.prototype.destroy=function(){var e=this,t=e.options,n=e.element,o=e._fields,r=o.wrapper,s=o.expander,a=o.bar,l=o.panel1,d=o.panel2,c=o.originalStyle,h=e.widgetName,u=o.oriPnl1Content,p=o.oriPnl2Content,f=o.oriPnl1ContentStyle,g=o.oriPnl2ContentStyle,m=t.wijCSS,w=m.vSplitterCss,v=m.vSplitterCssPrefix,b=m.hSplitterCss,_=m.hSplitterCssPrefix,y=m.panelCss;i.fn.resizable&&l&&l.n.is(":ui-resizable")&&l.n.resizable("destroy"),u&&(u.removeClass(v+l.contentCss).removeClass(m.hSplitterCssPrefix+l.contentCss).removeClass(m.content),void 0===f?u.removeAttr("style"):u.attr("style",f),u.appendTo(n)),p&&(p.removeClass(v+d.contentCss).removeClass(m.hSplitterCssPrefix+d.contentCss).removeClass(m.content),void 0===g?p.removeAttr("style"):p.attr("style",g),p.appendTo(n)),l.n.unbind("."+h),s.unbind("."+h),a.unbind("."+h),i(window).unbind("."+h),r.remove(),n.removeClass(w).removeClass(b),void 0===c?n.removeAttr("style"):n.attr("style",c),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),e._fields=null},t.prototype.refresh=function(e,t){var n=this,o=n._fields,r=o.panel1;if(!o._isResizing&&((t||void 0===t)&&n._updateElementsCss(),n._updateElements(),e||void 0===e)){if(!i.fn.resizable)return;r&&r.n.is(":ui-resizable")&&r.n.resizable("destroy"),n._initResizer()}},t.prototype._createDisabledDiv=function(e){var t=this,n=e?e:t.element,o=n.offset(),r=n.outerWidth(),s=n.outerHeight(),a={"z-index":"99999",position:"absolute",width:r,height:s,left:o.left,top:o.top};return i.browser.msie&&i.extend(a,{"background-color":"#fff",opacity:.1}),i("<div></div>").addClass("ui-disabled").css(a)},t.prototype._splitterify=function(){var e=this,t=e.element,n=e.options,o=e._fields,r,s,a,l,d={n:void 0,content:t.find(">div:eq(0)")},c={n:void 0,content:t.find(">div:eq(1)")};o.originalStyle=t.attr("style"),r=i("<div></div>").appendTo(t),d.n=i("<div></div>").appendTo(r),0===d.content.length?d.content=i("<div></div>"):(o.oriPnl1Content=d.content,o.oriPnl1ContentStyle=d.content.attr("style")),d.content.appendTo(d.n),s=i("<div></div>").appendTo(r),-1!==n.barZIndex&&s.css("z-index",n.barZIndex),a=i("<div></div>").appendTo(s).attr("role","button"),l=i("<span></span>").appendTo(a),c.n=i("<div></div>").appendTo(r),0===c.content.length?c.content=i("<div></div>"):(o.oriPnl2Content=c.content,o.oriPnl2ContentStyle=c.content.attr("style")),c.content.appendTo(c.n),o.wrapper=r,o.panel1=d,o.panel2=c,o.bar=s,o.expander=a,o.icon=l},t.prototype._updateElementsCss=function(){var e=this,t=e.element,i=e.options,n="vertical"===i.orientation,o=e._fields,r=o.wrapper,s=i.collapsingPanel,a="panel1"===i.collapsingPanel?"panel2":"panel1",l=o.bar,d=o.expander,c=o.icon,h=i.wijCSS,u=h.vSplitterCss,p=h.vSplitterCssPrefix,f=h.hSplitterCss,g=h.hSplitterCssPrefix,m=h.panelCss;t.removeClass(u).removeClass(f).addClass(n?u:f),r.attr("class",h.wrapperCss),o[s].n.removeClass(p+m[s].n).removeClass(g+m[s].n).addClass((n?p:g)+m[s].n),o[s].content.removeClass(p+m[s].content).removeClass(g+m[s].content).removeClass(h.content).addClass((n?p:g)+m[s].content).addClass(h.content),l.attr("class",(n?p:g)+h.barCss+" "+h.header).css("width","").css("height",""),d.attr("class",h.cornerCssPrefix+(n?"bl "+p:"tr "+g)+h.expanderCss+" "+h.stateDefault).css("left","").css("top",""),c.attr("class",h.icon+" "+(n?h.iconArrowLeft:h.iconArrowUp)),o[a].n.removeClass(p+m[a].n).removeClass(g+m[a].n).addClass((n?p:g)+m[a].n),o[a].content.removeClass(p+m[a].content).removeClass(g+m[a].content).removeClass(h.content).addClass((n?p:g)+m[a].content).addClass(h.content),e._updateExpanderCss()},t.prototype._updateExpanderCss=function(){var e=this,t=e.options,i=e._fields,n=i.expander,o=i.icon,r=t.wijCSS,s=r.cornerCssPrefix,a="vertical"===t.orientation,l="panel1"!==t.collapsingPanel,d=a?r.vSplitterCssPrefix:r.hSplitterCssPrefix,c=2*(a?1:0)+(l?1:0),h=["bl","tr","tr","bl"][c],u=["br","tl"][+l],p=[r.iconArrowDown,r.iconArrowUp,r.iconArrowRight,r.iconArrowLeft][c],f=["tr","bl","bl","tr"][c],g=["tl","br"][+l],m=[r.iconArrowUp,r.iconArrowDown,r.iconArrowLeft,r.iconArrowRight][c];n.removeClass(d+t.collapsingPanel+"-"+r.expandedCss).removeClass(d+t.collapsingPanel+"-"+r.collapsedCss).removeClass(s+h).removeClass(s+u).removeClass(s+f).removeClass(s+g),o.removeClass(p).removeClass(m),t.panel1.collapsed||t.panel2.collapsed?(n.addClass(s+h).addClass(s+u).addClass(d+t.collapsingPanel+"-"+r.collapsedCss),o.addClass(p)):(n.addClass(s+f).addClass(s+g).addClass(d+t.collapsingPanel+"-"+r.expandedCss),o.addClass(m))},t.prototype._AddVisiblity=function(e){e.wijTriggerVisibility&&e.wijTriggerVisibility()},t.prototype._updateElements=function(){var e=this,t=e.element,i=e.options,n=i.splitterDistance,o=i.collapsingPanel,r="panel1"===i.collapsingPanel?"panel2":"panel1",s=e._fields,a=s.wrapper,l=s.panel1,d=s.panel2,c=s.bar,h=s.expander,u=t.width(),p=t.height(),f,g;a.height(p),e._setPanelsScrollMode(),"vertical"===i.orientation?(f=c.outerWidth(!0),n>u-f&&(n=u-f),a.width(2*u),i.panel1.collapsed?("panel1"===o&&h.addClass(i.wijCSS.vSplitterCssPrefix+"panel1-"+i.wijCSS.collapsedCss),s.panel1.n.css("display","none"),s.panel2.n.css("display",""),this._AddVisiblity(s.panel2.n),n=0):("panel1"===o&&h.addClass(i.wijCSS.vSplitterCssPrefix+"panel1-"+i.wijCSS.expandedCss),s.panel1.n.css("display",""),this._AddVisiblity(s.panel1.n),s.panel2.n.css("display",i.panel2.collapsed?"none":"")),i.panel2.collapsed?("panel2"===o&&h.addClass(i.wijCSS.vSplitterCssPrefix+"panel2-"+i.wijCSS.collapsedCss),s.panel2.n.css("display","none"),n="panel1"===o?u-f:u):("panel2"===o&&h.addClass(i.wijCSS.vSplitterCssPrefix+"panel2-"+i.wijCSS.expandedCss),s.panel2.n.css("display",""),this._AddVisiblity(s.panel2.n)),!i.panel1.collapsed&&!i.panel2.collapsed&&h.addClass(i.wijCSS.vSplitterCssPrefix+i.collapsingPanel+"-"+i.wijCSS.expandedCss),"panel1"===o?(s.panel1.n.height(p).width(n),s.panel2.n.height(p).width(u-n-f)):(s.panel1.n.height(p).width(n-f),s.panel2.n.height(p).width(u-n)),s.panel1.content.outerHeight(p,!0),c.outerHeight(p,!0),s.panel2.content.outerHeight(p,!0),h.css("cursor","pointer").css("top",p/2-h.outerHeight(!0)/2)):(g=c.outerHeight(!0),n>p-g&&(n=p-g),i.panel1.collapsed?("panel1"===o&&h.addClass(i.wijCSS.hSplitterCssPrefix+"panel1-"+i.wijCSS.collapsedCss),s.panel1.n.css("display","none"),s.panel2.n.css("display",""),this._AddVisiblity(s.panel2.n),n=0):("panel1"===o&&h.addClass(i.wijCSS.hSplitterCssPrefix+"panel1-"+i.wijCSS.expandedCss),s.panel1.n.css("display",""),this._AddVisiblity(s.panel1.n),s.panel2.n.css("display",i.panel2.collapsed?"none":"")),i.panel2.collapsed?("panel2"===o&&h.addClass(i.wijCSS.hSplitterCssPrefix+"panel2-"+i.wijCSS.collapsedCss),s.panel2.n.css("display","none"),n="panel1"===o?p-g:p):("panel2"===o&&h.addClass(i.wijCSS.hSplitterCssPrefix+"panel2-"+i.wijCSS.expandedCss),s.panel2.n.css("display",""),this._AddVisiblity(s.panel2.n)),"panel1"===o?(s.panel1.n.width(u).height(n),s.panel2.n.width(u).height(p-n-g),s.panel1.content.outerHeight(n,!0),s.panel2.content.outerHeight(p-n-g,!0)):(s.panel1.n.width(u).height(n-g),s.panel2.n.width(u).height(p-n),s.panel1.content.outerHeight(n-g,!0),s.panel2.content.outerHeight(p-n,!0)),h.css("cursor","pointer").css("left",u/2-h.outerWidth(!0)/2)),h.css("display",i.showExpander?"":"none")},t.prototype._bindEvents=function(){var e=this,t=e.options,n=e._fields,o=n.bar,r=n.expander,s=e.widgetName;r.bind("mouseover."+s,function(e){t.disabled||r.addClass(t.wijCSS.stateHover)}).bind("mouseout."+s,function(e){t.disabled||r.removeClass(t.wijCSS.stateHover).removeClass(t.wijCSS.stateActive)}).bind("mousedown."+s,function(e){t.disabled||r.addClass(t.wijCSS.stateActive)}).bind("mouseup."+s,function(i){t.disabled||(r.removeClass(t.wijCSS.stateActive),"panel1"===t.collapsingPanel?e._setPanel1Collapsed(!t.panel1.collapsed,i):e._setPanel2Collapsed(!t.panel2.collapsed,i))}),o.bind("mouseover."+s,function(e){t.disabled||o.addClass(t.wijCSS.stateHover)}).bind("mouseout."+s,function(e){t.disabled||o.removeClass(t.wijCSS.stateHover)}),n.panel1.n.bind("animating."+s,function(i){t.disabled||(e._adjustLayout(e),e._trigger("sizing",i,null))}).bind("animated."+s,function(i){t.disabled||(e._adjustLayout(e),e._trigger("sized",i,null))}),e.element.on("mouseover."+s,".ui-resizable-handle",function(e){t.disabled||o.addClass(t.wijCSS.stateHover)}).on("mouseout."+s,".ui-resizable-handle",function(e){t.disabled||o.removeClass(t.wijCSS.stateHover)}),i(window).bind("resize."+s,function(i){t.disabled||t.fullSplit&&e.element.is(":visible")&&(e._updateElements(),e._initResizer())})},t.prototype._setPanel1Collapsed=function(e,t){var n=this,o=n.options,r=o.panel1.collapsed,s=i(".ui-resizable-handle",n.element);r!==e&&("panel1"!==o.collapsingPanel||n._trigger(r?"expand":"collapse",t,null))&&(o.panel1.collapsed=e,e?(o.panel2.collapsed=!1,"panel2"===o.collapsingPanel&&s.hide()):s.show(),n._updateElements(),n._updateExpanderCss(),"panel1"===o.collapsingPanel&&n._trigger(e?"collapsed":"expanded",t,null))},t.prototype._setPanel2Collapsed=function(e,t){var n=this,o=n.options,r=o.panel2.collapsed,s=i(".ui-resizable-handle",n.element);r!==e&&("panel2"!==o.collapsingPanel||n._trigger(r?"expand":"collapse",t,null))&&(o.panel2.collapsed=e,e?(o.panel1.collapsed=!1,"panel1"===o.collapsingPanel&&s.hide()):s.show(),n._updateElements(),n._updateExpanderCss(),"panel2"===o.collapsingPanel&&n._trigger(e?"collapsed":"expanded",t,null))},t.prototype._initResizer=function(){var e=this,t=e.element,n=e.options,o=e._fields,r=o.bar,s=n.collapsingPanel,a="panel1"===n.collapsingPanel?"panel2":"panel1",l=n.resizeSettings,d=l.animationOptions,c=d.disabled?0:d.duration,h=t.width(),u=t.height(),p,f,g,m,w,v,b;i.fn.resizable&&("vertical"===n.orientation?(p=r.outerWidth(!0),f=h-p-n[a].minSize,g=n[s].minSize,2>g&&(g=2),o.panel1.n.resizable({zIndex:o.panel1.n.zIndex()+100,wijanimate:!0,minWidth:g,maxWidth:f,handles:"e",helper:n.wijCSS.vSplitterCssPrefix+n.wijCSS.resizeHelperCss,animateDuration:c,animateEasing:d.easing,disabledAnimate:d.disabled,ghost:l.ghost,start:function(){o._isResizing=!0},stop:function(){o._isResizing=!1}})):(m=r.outerHeight(!0),w=u-m-n[a].minSize,v=n[s].minSize,2>v&&(v=2),o.panel1.n.resizable({zIndex:o.panel1.n.zIndex()+100,wijanimate:!0,minHeight:v,maxHeight:w,handles:"s",helper:n.wijCSS.hSplitterCssPrefix+n.wijCSS.resizeHelperCss,animateDuration:c,animateEasing:d.easing,disabledAnimate:d.disabled,ghost:l.ghost,start:function(){o._isResizing=!0;var t=o.panel1.content.find("iframe")[0];t&&e._addTransparentDivForIframe(t,o.panel1);var i=o.panel2.content.find("iframe")[0];i&&e._addTransparentDivForIframe(i,o.panel2)},stop:function(){o._isResizing=!1;var e=o.panel1.content.find("iframe")[0];if(e){var t=i(e).parent().children()[0];i(t).remove()}var n=o.panel2.content.find("iframe")[0];if(n){var r=i(n).parent().children()[0];i(r).remove()}}})),b=i(".ui-resizable-handle",t),n[a].collapsed?b.hide():b.show(),i.browser.msie&&parseInt(i.browser.version)<7&&"vertical"===n.orientation&&b.height(t.height()))},t.prototype._addTransparentDivForIframe=function(e,t){var n=t.content.width()-20,o=t.content.height(),r=i("<div style='width:"+n+"px; height:"+o+"px; background-color:gray; position:absolute; z-index:1000; filter:alpha(Opacity=0); opacity: 0'>");r.prependTo(t.content)},t.prototype._adjustLayout=function(e){var t=e.options,i=e._fields,n=i.panel1,o="vertical"===t.orientation?n.n.width():n.n.height();t.splitterDistance!==o&&(t.splitterDistance=o,e._updateElements())},t.prototype._setPanelsScrollMode=function(){var e=this,t=e._fields,n=e.options,o=[n.panel1.scrollBars,n.panel2.scrollBars];i.each([t.panel1,t.panel2],function(e,t){"auto"===o[e]?t.content.css("overflow","auto"):"both"===o[e]?t.content.css("overflow","scroll"):"none"===o[e]?t.content.css("overflow","hidden"):"horizontal"===o[e]?t.content.css("overflow-x","scroll").css("overflow-y","hidden"):"vertical"===o[e]&&t.content.css("overflow-x","hidden").css("overflow-y","scroll")})},t}(e.wijmoWidget);t.wijsplitter=o;var r=function(){function e(){this.initSelector=":jqmData(role='wijsplitter')",this.sizing=null,this.sized=null,this.expand=null,this.collapse=null,this.expanded=null,this.collapsed=null,this.barZIndex=-1,this.showExpander=!0,this.splitterDistance=100,this.orientation="vertical",this.fullSplit=!1,this.resizeSettings={animationOptions:{duration:100,easing:"swing",disabled:!1},ghost:!1},this.panel1={minSize:1,collapsed:!1,scrollBars:"auto"},this.panel2={minSize:1,collapsed:!1,scrollBars:"auto"},this.collapsingPanel="panel1",this.wijCSS={cornerCssPrefix:"ui-corner-",arrowCssPrefix:"ui-icon-triangle-1-",panelCss:{panel1:{n:"panel1",content:"panel1-content"},panel2:{n:"panel2",content:"panel2-content"}},wrapperCss:"wijmo-wijsplitter-wrapper",hSplitterCss:"wijmo-wijsplitter-horizontal",vSplitterCss:"wijmo-wijsplitter-vertical",hSplitterCssPrefix:"wijmo-wijsplitter-h-",vSplitterCssPrefix:"wijmo-wijsplitter-v-",collapsedCss:"collapsed",expandedCss:"expanded",resizeHelperCss:"resize-helper",barCss:"bar",expanderCss:"expander"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c"}}return e}();o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new r),i.wijmo.registerWidget("wijsplitter",o.prototype),null!=i.ui&&null!=i.ui.plugin&&i.ui.plugin.add("resizable","wijanimate",{stop:function(e,t){var n=i(this).data("uiResizable"),o=n.options,r=n.element,s=n._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),l=a&&i.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,d=a?0:n.sizeDiff.width,c,h,u;r.css("width",n.originalSize.width).css("height",n.originalSize.height),c={width:n.size.width-d,height:n.size.height-l},h=parseInt(r.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(r.css("top"),10)+(n.position.top-n.originalPosition.top)||null,o.disabledAnimate?(r.css(i.extend(c,u&&h?{top:u,left:h}:{})),r.trigger("animated")):r.animate(i.extend(c,u&&h?{top:u,left:h}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var t={width:parseInt(r.css("width"),10),height:parseInt(r.css("height"),10),top:parseInt(r.css("top"),10),left:parseInt(r.css("left"),10)};s&&s.length&&i(s[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e),r.trigger("animating")},complete:function(){r.trigger("animated")}})}})}(e.splitter||(e.splitter={}));var t=e.splitter}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijmo-wijprogressbar",o="ui-progressbar",r=o+"-label",s=n+"-lb-",a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){return i.ui.progressbar.prototype._create.apply(this,arguments)},t.prototype._destroy=function(){return i.ui.progressbar.prototype._destroy.apply(this,arguments)},t.prototype._setOptions=function(){return i.ui.progressbar.prototype._setOptions.apply(this,arguments)},t.prototype._setOption=function(e,t){return i.ui.progressbar.prototype._setOption.apply(this,arguments)},t.prototype._constrainedValue=function(e){return i.ui.progressbar.prototype._constrainedValue.apply(this,arguments)},t.prototype.value=function(e){return i.ui.progressbar.prototype.value.apply(this,arguments)},t.prototype._percentage=function(){return i.ui.progressbar.prototype._percentage.apply(this,arguments)},t.prototype._refreshValue=function(e){return i.ui.progressbar.prototype._refreshValue.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUIProgress=a;var l=function(){function e(){this.wijCSS={uiProgressbar:"ui-progressbar",uiProgressbarValue:"ui-progressbar-value"},this.labelAlign="center",this.maxValue=100,this.minValue=0,this.fillDirection="east",this.labelFormatString="{1}%",this.toolTipFormatString="{1}%",this.indicatorIncrement=1,this.indicatorImage="",this.animationDelay=0,this.animationOptions={disabled:!1,easing:null,duration:500},this.progressChanging=null,this.beforeProgressChanging=null,this.progressChanged=null,this.value=0}return e}(),d=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(e,t){var n=this,o=n.options,r;switch(e){case"value":return o[e]=parseInt(t,10),void n._refreshValue();case"maxValue":o.max=t;case"minValue":return r=parseInt(t,10),o[e]=r,n["maxValue"===e?"max":"min"]=r,n._refreshValue(!0),void 0;case"labelFormatString":case"toolTipFormatString":return o[e]=t,void n._refreshValue(!0);case"fillDirection":case"labelAlign":case"indicatorImage":return o[e]=t,void n._updateElementsCss()}i.Widget.prototype._setOption.apply(n,arguments),"disabled"===e&&n._handleDisabledOption(t,n.element)},t.prototype._create=function(){var t=this,o=t.options,s=o.wijCSS,a=t.element;t.directions={east:"left",west:"right",north:"bottom",south:"top"},t.min=o.minValue,t.max=o.max=o.maxValue,a.addClass(n),e.prototype._create.call(this),a.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").addClass(s.uiProgressbar).addClass(s.widget).addClass(s.content).addClass(s.cornerAll),this.valueDiv.removeClass("ui-progressbar-value ui-widget-header ui-corner-left").addClass(s.uiProgressbarValue).addClass(s.header),t.label=i("<span>").addClass(r).appendTo(a),t._updateElementsCss(),t._isInit=!0,o.disabled&&t.disable(),t._refreshValue()},t.prototype._handleDisabledOption=function(e,t){var i=this;e?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(t)),i.disabledDiv.appendTo("body")):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null)},t.prototype._createDisabledDiv=function(e){var t=this,n=e?e:t.element,o=n.offset(),r=n.outerWidth(),s=n.outerHeight(),a={"z-index":"99999",position:"absolute",width:r,height:s,left:o.left,top:o.top};return i.browser.msie&&i.extend(a,{"background-color":"#fff",opacity:.1}),i("<div></div>").addClass("ui-disabled").css(a)},t.prototype._triggerEvent=function(e,t,i,n){return n?this._trigger(e,null,{oldValue:t,newValue:i})===!1:void 0},t.prototype._refreshValue=function(e){var t=this,n=t.options,o,r=n.animationOptions,s=n.indicatorIncrement,a=t.element,l,d,c;t._isInit&&(c=a.attr("aria-valuenow"),l=t.value(),d=(l-t.min)/(t.max-t.min)*100,o=parseInt(c)!=l,t._triggerEvent("beforeProgressChanging",c,l,o)||(!r.disabled&&r.duration>0?setTimeout(function(){i.wijmo.wijprogressbar.animations.progress({content:t.valueDiv,complete:function(){1!==s&&(t._refreshProgress(d,l,o),"running"===n.labelAlign&&t._updateRunningLabelCss(d)),t._triggerEvent("progressChanged",c,l,o),t._lastStep=d},step:function(i){t._performAnimating(i,e,o)},progressValue:100*l},r)},n.animationDelay):(t._refreshProgress(Math.round(d)),"running"===n.labelAlign&&t._updateRunningLabelCss(d),t._lastStep=d,t._triggerEvent("progressChanged",c,l,o))))},t.prototype._refreshProgress=function(e,t,n){var o=this,r=o.options,s=r.wijCSS,a=r.fillDirection,l=o.element;void 0===t&&(t=i.wijmo.wijprogressbar.mul(e,o.max-o.min)/100+o.min),o._triggerEvent("progressChanging",l.attr("aria-valuenow"),t,n)||(o._isHorizontal()?o.valueDiv.toggleClass("east"===a?s.cornerRight:s.cornerLeft,t===o.max).width(e+"%"):o.valueDiv.toggleClass("south"===a?s.cornerBottom:s.cornerTop,t===o.max).height(e+"%"),o.label.html(o._getFormatString(r.labelFormatString,e,t)),o._isHorizontal()||o._ajustLabelPosition(),l.attr("aria-valuenow",t).attr("title",o._getFormatString(r.toolTipFormatString,e,t)))},t.prototype._isHorizontal=function(){var e=this.options.fillDirection;return"west"===e||"east"===e},t.prototype._getRotateTextOffset=function(e){var t,i;return e.css("width","auto"),t=e.outerWidth(),i=e.outerHeight(),e.css("width",""),Math.max(t-i-4,0)},t.prototype._updateElementsCss=function(){var e=this,t=e.options,i=e.element,o=t.fillDirection;i.removeClass(n+"-west "+n+"-east "+n+"-north "+n+"-south").addClass(n+"-"+o),e._updateProgressCss(),e._updateLabelCss()},t.prototype._updateLabelCss=function(){var e=this,t=e.options,n=e.element,o=t.labelAlign,r=e.label,a=e._lastStep,l=n.height();r.removeClass(s+"west "+s+"east "+s+"south "+s+"north "+s+"center "+s+"running").addClass(s+o).css({left:"",right:"",top:"",bottom:"",width:"","text-align":"","line-height":""}),"north"!==o&&"south"!==o&&("running"!==o||!!e._isHorizontal())&&r.css("line-height",l+"px"),"running"===o?e._updateRunningLabelCss(a):e._isHorizontal()||(i.browser.msie||("north"===o?r.css("width","100%").css("text-align","right"):"south"===o&&r.css("width","100%").css("text-align","left")),e._ajustLabelPosition())},t.prototype._updateRunningLabelCss=function(e){var t=this,n=t.options,o=n.fillDirection,r=t.element,s=t.label,a=t.valueDiv,l=t._isHorizontal(),d,c,h,u;d=r[l?"width":"height"](),c=s[l?"outerWidth":"outerHeight"](),h=a[l?"outerWidth":"outerHeight"](),!l&&!i.browser.msie&&(c+=t._getRotateTextOffset(s)),u=d===h?d-c:e*d/100-c+c*(d-h)/d,s.css(t.directions[o],u)},t.prototype._updateProgressCss=function(){var e=this,t=e.options,i=t.wijCSS,n=t.fillDirection,o=t.indicatorImage,r=e.valueDiv,s=e._lastStep,a=e.directions[n];""!==o&&r.css("background","transparent url("+o+") repeat fixed"),r.removeClass(i.cornerLeft+" "+i.cornerRight+" "+i.cornerTop+" "+i.cornerBottom).addClass(i["corner"+a.charAt(0).toUpperCase()+a.substring(1)]),"number"==typeof s?e._isHorizontal()?r.css("width",s+"%").css("height",""):r.css("height",s+"%").css("width",""):r.css({width:"",height:""})},t.prototype._performAnimating=function(e,t,n){var o=this,r=o.options,s=r.indicatorIncrement,a=e/100,l=100*i.wijmo.wijprogressbar.div(a-o.min,o.max-o.min),d=0,c,h,u=2;(!s||(1!==s?l=Math.floor(l/s)*s:(l=Math.round(l),u=0),o.pointNumber=d,o._lastStep!==l||t))&&(o._refreshProgress(Number(l.toFixed(u)),Number(a.toFixed(u)),n),"running"===r.labelAlign&&o._updateRunningLabelCss(l))},t.prototype._getFormatString=function(e,t,i){var n=this,o=n.max-i,r=100-t,s=/\{0\}/g;return e=e.replace(s,i.toString()),s=/\{ProgressValue\}/g,e=e.replace(s,i.toString()),s=/\{1\}/g,e=e.replace(s,t.toString()),s=/\{PercentProgress\}/g,e=e.replace(s,t.toString()),s=/\{2\}/g,e=e.replace(s,o.toString()),s=/\{RemainingProgress\}/g,e=e.replace(s,o.toString()),s=/\{3\}/g,e=e.replace(s,r.toString()),s=/\{PercentageRemaining\}/g,e=e.replace(s,r.toString()),s=/\{4\}/g,e=e.replace(s,n.min),s=/\{Min\}/g,e=e.replace(s,n.min),s=/\{5\}/g,e=e.replace(s,n.max),s=/\{Max\}/g,e=e.replace(s,n.max)},t.prototype._ajustLabelPosition=function(){var e=this,t=e.options,n;"north"===t.labelAlign&&(n=i("<span>").addClass("ui-widget").html(e.label.html()).appendTo("body").hide(),e.label.css("top",n.width()-e.label.height()),n.remove())},t.prototype.value=function(e){return i.ui.progressbar.prototype.value.apply(this,arguments)},t.prototype.destroy=function(){var e=this,t=e.element;t.attr("title","").removeClass(n+" "+n+"-east "+n+"-west "+n+"-north "+n+"-south"),e.label&&e.label.remove(),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),i.ui.progressbar.prototype.destroy.apply(this,arguments)},t}(a);t.wijprogressbar=d,i.ui&&i.ui.progressbar&&(d.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,i.ui.progressbar.prototype.options,new l),i.wijmo.registerWidget("wijprogressbar",i.ui.progressbar,d.prototype),i.extend(i.wijmo.wijprogressbar,{animations:{progress:function(e,t){e=i.extend({easing:"swing",duration:1e3},e,t),e.content.stop(!0,!0).animate({pgvalue:e.progressValue},e)}},add:function(e,t){var i=0,n=0,o;try{i=e.toString().split(".")[1].length}catch(r){}try{n=t.toString().split(".")[1].length}catch(s){}return o=Math.pow(10,Math.max(i,n)),(e*o+t*o)/o},mul:function(e,t){var i=0,n=e.toString(),o=t.toString();try{i+=n.split(".")[1].length}catch(r){}try{i+=o.split(".")[1].length}catch(s){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,i)},div:function(e,t){var i=0,n=0,o,r;try{i=e.toString().split(".")[1].length;
}catch(s){}try{n=t.toString().split(".")[1].length}catch(a){}return o=Number(e.toString().replace(".","")),r=Number(t.toString().replace(".","")),o/r*Math.pow(10,n-i)}}))}(e.progressbar||(e.progressbar={}));var t=e.progressbar}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijdialog",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){return i.ui.dialog.prototype._create.apply(this,arguments)},t.prototype._init=function(){return i.ui.dialog.prototype._init.apply(this,arguments)},t.prototype._destroy=function(){return i.ui.dialog.prototype._destroy.apply(this,arguments)},t.prototype._appendTo=function(){return i.ui.dialog.prototype._appendTo.apply(this,arguments)},t.prototype._setOptions=function(){return i.ui.dialog.prototype._setOptions.apply(this,arguments)},t.prototype._setOption=function(e,t){return i.ui.dialog.prototype._setOption.apply(this,arguments)},t.prototype.widget=function(){return i.ui.dialog.prototype.widget.apply(this,arguments)},t.prototype.close=function(){return i.ui.dialog.prototype.close.apply(this,arguments)},t.prototype.isOpen=function(){return i.ui.dialog.prototype.isOpen.apply(this,arguments)},t.prototype.moveToTop=function(){return i.ui.dialog.prototype.moveToTop.apply(this,arguments)},t.prototype._moveToTop=function(){return i.ui.dialog.prototype._moveToTop.apply(this,arguments)},t.prototype.open=function(){return i.ui.dialog.prototype.open.apply(this,arguments)},t.prototype._focusTabbable=function(){return i.ui.dialog.prototype._focusTabbable.apply(this,arguments)},t.prototype._keepFocus=function(){return i.ui.dialog.prototype._keepFocus.apply(this,arguments)},t.prototype._createWrapper=function(){return i.ui.dialog.prototype._createWrapper.apply(this,arguments)},t.prototype._createTitlebar=function(){return i.ui.dialog.prototype._createTitlebar.apply(this,arguments)},t.prototype._title=function(){return i.ui.dialog.prototype._title.apply(this,arguments)},t.prototype._createButtonPane=function(){return i.ui.dialog.prototype._createButtonPane.apply(this,arguments)},t.prototype._createButtons=function(){return i.ui.dialog.prototype._createButtons.apply(this,arguments)},t.prototype._makeDraggable=function(){return i.ui.dialog.prototype._makeDraggable.apply(this,arguments)},t.prototype._makeResizable=function(){return i.ui.dialog.prototype._makeResizable.apply(this,arguments)},t.prototype._minHeight=function(){return i.ui.dialog.prototype._minHeight.apply(this,arguments)},t.prototype._position=function(){return i.ui.dialog.prototype._position.apply(this,arguments)},t.prototype._size=function(){return i.ui.dialog.prototype._size.apply(this,arguments)},t.prototype._blockFrames=function(){return i.ui.dialog.prototype._blockFrames.apply(this,arguments)},t.prototype._unblockFrames=function(){return i.ui.dialog.prototype._unblockFrames.apply(this,arguments)},t.prototype._createOverlay=function(){if(this.options.modal){var e=this,t=e.options.wijCSS;i.ui.dialog.overlayInstances||this._delay(function(){i.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){if(!i(e.target).closest(".ui-dialog").length&&!i(e.target).closest(".ui-datepicker").length){if(e.preventDefault(),e.relatedTarget&&i(e.relatedTarget).closest(".ui-dialog").length)return;var t=i(".ui-dialog:visible:last .ui-dialog-content"),n;n=t.data("wijmoWijdialog")?t.data("wijmoWijdialog"):t.data("wijmoC1dialog"),n&&n._focusTabbable()}})}),this.overlay=i("<div>").addClass(t.overlay+" "+t.uiFront+" "+t.wijdialogOverlay).appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),i.ui.dialog.overlayInstances++}},t.prototype._destroyOverlay=function(){return i.ui.dialog.prototype._destroyOverlay.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUIDialog=o;var r=function(){function e(){this.wijCSS={wijdialog:"wijmo-wijdialog",wijdialogZone:"wijmo-wijdialog-defaultdockingzone",uiFront:"ui-front",uiDialog:"ui-dialog",wijdialogOverlay:"ui-dialog-overlay",uiDialogContent:"ui-dialog-content",wijdialogCaptionButton:"wijmo-wijdialog-captionbutton",wijdialogHasFrame:"wijmo-wijdialog-hasframe",iconPinW:"ui-icon-pin-w",iconPinS:"ui-icon-pin-s",iconRefresh:"ui-icon-refresh",iconCarat1N:"ui-icon-carat-1-n",iconCarat1S:"ui-icon-carat-1-s",iconMinus:"ui-icon-minus",iconExtlink:"ui-icon-extlink",iconNewWin:"ui-icon-newwin",uiDialogClose:"ui-dialog-titlebar-close",uiDialogTitleBar:"ui-dialog-titlebar",uiDialogButtonPanel:"ui-dialog-buttonpane",uiDialogButtons:"ui-dialog-buttons",wijdialogTitleBarClose:"",wijdialogTitleBarPin:"",wijdialogTitleBarRefresh:"",wijdialogTitleBarToggle:"",wijdialogTitleBarMinimize:"",wijdialogTitleBarMaximize:"",wijdialogTitleBarRestore:""},this.appendTo="body",this.autoOpen=!0,this.buttons=[],this.closeOnEscape=!0,this.closeText="close",this.dialogClass="",this.draggable=!0,this.height="auto",this.hide=null,this.maxHeight=null,this.maxWidth=null,this.minHeight=150,this.minWidth=150,this.modal=!1,this.position={my:"center",at:"center",of:window},this.resizable=!0,this.show=null,this.title=null,this.width=300,this.stack=!0,this.beforeClose=null,this.close=null,this.create=null,this.drag=null,this.dragStart=null,this.dragStop=null,this.focus=null,this.open=null,this.resize=null,this.resizeStart=null,this.resizeStop=null,this.zIndex=1e3,this.initSelector="",this.captionButtons={},this.collapsingAnimation=null,this.expandingAnimation=null,this.contentUrl="",this.minimizeZoneElementId="",this.buttonCreating=null,this.stateChanged=null,this.blur=null}return e}(),s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var t=this,n=t.options,o=n.wijCSS,r=t.element.attr("title");t._titlebarButtonClassPrefix="wijmo-wijdialog-titlebar-",i.ui.dialog.maxZ=i.ui.dialog.maxZ||100,i.isArray(n.buttons)&&i.each(n.buttons,function(e,t){var i=t.click;i&&"string"==typeof i&&window[i]&&(t.click=window[i])}),t.form=t.element.closest("form[id]"),e.prototype._create.call(this),t.element.removeClass("ui-dialog-content ui-widget-content").addClass(o.uiDialogContent).addClass(o.content),t.uiDialog.removeClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front").addClass(o.uiDialog).addClass(o.widget).addClass(o.content).addClass(o.cornerAll).addClass(o.uiFront).addClass(o.wijdialog).removeClass(this.options.dialogClass).addClass(this.options.dialogClass),r&&t.uiDialog.attr("title",r),t.uiDialogTitlebar.removeClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").addClass(o.uiDialogTitleBar).addClass(o.header).addClass(o.cornerAll).addClass(o.helperClearFix),t._initWijWindow(),t._bindWindowResize(),t._attachDraggableResizableEvent(),t._originalPosition=n.position,t.uiDialog.css({zIndex:n.zIndex}),t.isPin=!1,"body"===t.options.appendTo&&t.form.length&&t.uiDialog.appendTo(t.form)},t.prototype._createButtonPane=function(){var t=this.options.wijCSS;e.prototype._createButtonPane.call(this),this.uiDialogButtonPane.removeClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix").addClass(t.uiDialogButtonPanel).addClass(t.content).addClass(t.helperClearFix)},t.prototype._createButtons=function(){e.prototype._createButtons.call(this),this.uiDialog.hasClass("ui-dialog-buttons")&&this.uiDialog.removeClass("ui-dialog-buttons").addClass(this.options.wijCSS.uiDialogButtons)},t.prototype._makeDraggable=function(){e.prototype._makeDraggable.call(this),this.uiDialog.draggable("option","cancel","."+this.options.wijCSS.wijdialogCaptionButton)},t.prototype._createOverlay=function(){var t=this.options.wijCSS;e.prototype._createOverlay.call(this),this.overlay&&this.overlay.removeClass("ui-widget-overlay ui-front").addClass(t.overlay).addClass(t.uiFront)},t.prototype._handleDisabledOption=function(e,t){var n=this;this.uiDialog.removeClass(this.options.wijCSS.stateDisabled),e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv()),n.disabledDiv.appendTo(n.options.appendTo),i.browser.msie&&n.uiDialog.data("ui-draggable")&&n.uiDialog.draggable("disable"),this.uiDialog.addClass(this.options.wijCSS.stateDisabled)):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null,i.browser.msie&&n.uiDialog.data("ui-draggable")&&n.uiDialog.draggable("enable"))},t.prototype._createDisabledDiv=function(){var e=this,t,n=e.uiDialog,o=n.offset(),r=n.outerWidth(),s=n.outerHeight();return t=i("<div></div>").addClass(e.options.wijCSS.stateDisabled).css({"z-index":"99999",position:"absolute",width:r,height:s,left:o.left,top:o.top}),i.browser.msie&&(t.css("background-color","white"),"9.0"===i.browser.version&&t.css("opacity","0.1")),t},t.prototype.destroy=function(){var t=this,i=t.options.wijCSS;t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.prototype.destroy.call(this),t.element.removeClass(i.uiDialogContent).removeClass(i.content),t.element.unbind(".wijdialog").removeData("wijdialog").removeData(this.widgetFullName)},t.prototype._attachDraggableResizableEvent=function(){var e=this,t=e.uiDialog,i=e.options;i.draggable&&t.draggable&&t.bind("dragstop",function(t,i){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(t,i){e._createIframeMask()}),i.resizable&&t.resizable&&t.bind("resizestop",function(t,i){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(t,i){e._createIframeMask(),void 0===e.initWidth&&void 0===e.initHeight&&(e.initWidth=e.uiDialog.width(),e.initHeight=e.uiDialog.height())})},t.prototype._createIframeMask=function(){var e=this;e.innerFrame&&(e.mask=i("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(i.ui.dialog.maxZ+1)+"'></div>").appendTo(e.uiDialog))},t.prototype._destoryIframeMask=function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=void 0)},t.prototype._initWijWindow=function(){var e=this,t=!0;e._createCaptionButtons(),e._checkUrl(),e.uiDialog.bind("mousedown",function(t){var n=t.target;i.contains(e.element[0],n)||e.uiDialog.focus()}).bind("mouseenter",function(e){t=!0}).bind("mouseleave",function(e){t=!1}).bind("focusout",function(i){t||e._trigger("blur",i,{el:e.element})})},t.prototype._moveToTop=function(e,t){var n=this,o=n.options,r;return o.modal&&!t||!o.stack&&!o.modal?(n._trigger("focus",e),!1):(o.zIndex>i.ui.dialog.maxZ&&(i.ui.dialog.maxZ=o.zIndex),n.overlay&&(i.ui.dialog.maxZ+=1,n.overlay.css("z-index",i.ui.dialog.maxZ)),r={scrollTop:n.element.scrollTop(),scrollLeft:n.element.scrollLeft()},i.ui.dialog.maxZ+=1,n.uiDialog.css("z-index",i.ui.dialog.maxZ),n.element.attr(r),n._trigger("focus",e),!1)},t.prototype._checkUrl=function(){var e=this,t=e.options,n=t.contentUrl,o=i('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');"string"==typeof n&&n.length>0&&(e.element.addClass(t.wijCSS.wijdialogHasFrame),e.element.append(o),e.innerFrame=o),e.contentWrapper=e.element},t.prototype._setOption=function(t,n){var o=this;e.prototype._setOption.call(this,t,n),"disabled"===t?o._handleDisabledOption(n,o.element):"contentUrl"===t?o.innerFrame?o.innerFrame.attr("src",n):o._checkUrl():"captionButtons"===t?o._createCaptionButtons():"minimizeZoneElementId"===t?"minimized"===o.getState()&&i("#"+n).length>0&&i("#"+n).append(o.uiDialog):"stack"===t&&(n||o.uiDialog.css("z-index",o.options.zIndex))},t.prototype._createCaptionButtons=function(){var e=[],t=this,n=t.options,o,r=n.wijCSS,s={pin:{visible:!0,click:t.pin,iconClassOn:r.iconPinW,iconClassOff:r.iconPinS},refresh:{visible:!0,click:t.refresh,iconClassOn:r.iconRefresh},toggle:{visible:!0,click:t.toggle,iconClassOn:r.iconCarat1N,iconClassOff:r.iconCarat1S},minimize:{visible:!0,click:t.minimize,iconClassOn:r.iconMinus},maximize:{visible:!0,click:t.maximize,iconClassOn:r.iconExtlink},close:{visible:!0,text:n.closeText,click:t.close,iconClassOn:r.iconClose}},a=n.captionButtons,l=t.uiDialogTitlebar;for(l.children("."+n.wijCSS.uiDialogClose+", ."+n.wijCSS.wijdialogCaptionButton).remove(),i.each(s,function(t,n){a&&a[t]&&i.extend(n,a[t]),e.push({button:t,info:n})}),t._trigger("buttonCreating",null,e),o=0;o<e.length;o++)t._createCaptionButton(e[o],l)},t.prototype._createCaptionButton=function(e,t,n){var o=this,r=o.options.wijCSS,s,a=o._titlebarButtonClassPrefix+e.button+" "+r["wijdialogTitleBar"+e.button.charAt(0).toUpperCase()+e.button.substring(1)],l=t.children("."+o._titlebarButtonClassPrefix+e.button),d=e.info,c=i("<span></span>");if(d.visible){if(0===l.size()){if(c.addClass("ui-icon "+d.iconClassOn).text(d.text||e.button),s=i('<a href="#"></a>').append(c).addClass(a+" ui-corner-all "+r.wijdialogCaptionButton).attr("role","button").hover(function(){s.addClass(r.stateHover)},function(){s.removeClass(r.stateHover)}).click(function(e){return c.hasAllClasses(d.iconClassOff)?c.removeClass(d.iconClassOff):c.addClass(d.iconClassOff),i.isFunction(d.click)&&d.click.apply(o,arguments),!1}),n)return s;s.appendTo(t)}o[e.button+"Button"]=s}else l.remove()},t.prototype.pin=function(){var e=this.isPin,t=this.pinButton.children("span"),i=this.options.wijCSS;e?t.removeClass(i.iconPinS):t.length&&(t.hasAllClasses(i.iconPinS)||t.addClass(i.iconPinS)),this._enableDisableDragger(!e),this.isPin=!e},t.prototype.refresh=function(){var e=this.innerFrame;void 0!==e&&e.attr("src",e.attr("src"))},t.prototype.toggle=function(){var e=this,t=e.toggleButton.children("span"),i=e.options.wijCSS;e.minimized||(void 0!==e.collapsed&&e.collapsed?(e.collapsed=!1,t.hasAllClasses(i.iconCarat1S)&&t.removeClass(i.iconCarat1S),e._expandDialogContent(!0)):(e.collapsed=!0,t.hasAllClasses(i.iconCarat1S)||t.addClass(i.iconCarat1S),e._collapseDialogContent(!0)))},t.prototype._expandDialogContent=function(e){var t=this,n=t.options,o=n.expandingAnimation;t.uiDialog.height("auto"),e&&null!==o?t.contentWrapper.show(o.animated,o.options,o.duration,function(e){t.uiDialog.css("height",t._toggleHeight),i.isFunction(o.callback)&&o.callback(e),n.resizable&&t._enableDisableResizer(!1)}):(t.contentWrapper.show(),n.resizable&&t._enableDisableResizer(!1),t.uiDialog.css("height",t.toggleHeight))},t.prototype._collapseDialogContent=function(e,t){var i=this,n=i.options,o=n.collapsingAnimation;n.resizable&&i._enableDisableResizer(!0),t||(i._toggleHeight=i.uiDialog[0].style.height),i.uiDialog.height("auto"),e&&null!==o?i.contentWrapper.hide(o.animated,o.options,o.duration):i.contentWrapper.hide(),i._enableDisableDragger(i.isPin)},t.prototype._enableDisableResizer=function(e){var t=this.uiDialog;this.options.resizable&&(t.resizable({disabled:e}),e&&t.removeClass(this.options.wijCSS.stateDisabled))},t.prototype._enableDisableDragger=function(e){var t=this.uiDialog;this.options.draggable&&(t.draggable({disabled:e}),e&&t.removeClass(this.options.wijCSS.stateDisabled))},t.prototype.minimize=function(){var e=this,t=e.uiDialog,n=e.options,o=n.wijCSS,r=null,s=i("<div></div>"),a=i("<div></div>"),l,d,c,h,u={width:void 0,height:void 0},p,f={width:void 0,height:void 0},g="uiDialog",m;e.minimized||(h=e.uiDialog.position(),u.width=e.uiDialog.width(),u.height=e.uiDialog.height(),m=e.getState(),e.maximized?(e.maximized=!1,e.restoreButton.remove(),i(window).unbind(".onWinResize")):(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState()),e._enableDisableResizer(!0),e.collapsed&&e._collapseDialogContent(!1),s.appendTo(e.options.appendTo).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.contentWrapper.hide(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.hide(),t.height("auto"),t.width("auto"),e._doButtonAction(e.minimizeButton,"hide"),e._restoreButton(!0,e.minimizeButton,"After"),e._doButtonAction(e.pinButton,"hide"),e._doButtonAction(e.refreshButton,"hide"),e._doButtonAction(e.toggleButton,"hide"),e._doButtonAction(e.maximizeButton,"show"),i.browser.webkit&&i("."+o.wijdialogCaptionButton,e.uiDialog).css("float","left"),e.innerFrame&&(g="copy",e[g]=e.uiDialog.clone(),e[g].empty(),e.uiDialogTitlebar.appendTo(e[g])),n.minimizeZoneElementId.length>0&&(r=i("#"+n.minimizeZoneElementId)),null!==r&&r.size()>0?r.append(e[g]):(l=i("."+o.wijdialogZone),0===l.size()&&(l=i('<div class="'+o.wijdialogZone+'"></div>'),i(document.body).append(l)),l.append(e[g]).css("z-index",t.css("z-index"))),e[g].css("position","static"),e[g].css("float","left"),i.browser.msie&&"6.0"===i.browser.version&&(d=i(document).scrollTop(),c=document.documentElement.clientHeight-l.height()+d,l.css({position:"absolute",left:"0px",top:c})),a.appendTo("body").css({top:e[g].offset().top,left:e[g].offset().left,height:e[g].innerHeight(),width:e[g].innerWidth(),position:"absolute"}),e.uiDialog.hide(),e.innerFrame&&e[g].hide(),s.effect("transfer",{to:a,className:o.content},100,function(){s.remove(),a.remove(),e[g].show(),e.minimized=!0,p=e.uiDialog.position(),f.width=e.uiDialog.width(),f.height=e.uiDialog.height(),e._enableDisableDragger(!0),e._trigger("resize",null,{originalPosition:h,originalSize:u,position:p,size:f}),e._trigger("stateChanged",null,{originalState:m,state:"minimized"})}))},t.prototype._doButtonAction=function(e,t){void 0!==e&&(e.removeClass(this.options.wijCSS.stateHover),e[t]())},t.prototype.maximize=function(){var e=this,t=i(window),n,o={width:void 0,height:void 0},r,s={width:void 0,height:void 0},a;e.maximized||(e._enableDisableDragger(!1),n=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e.minimized?e.restore():(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState(),a="normal"),e.maximized=!0,void 0!==e.maximizeButton&&(e.maximizeButton.hide(),e._restoreButton(!0,e.maximizeButton,"Before")),i.browser.webkit&&i("."+this.options.wijCSS.wijdialogCaptionButton).css("float",""),e._onWinResize(e,t),e.collapsed&&e._collapseDialogContent(!1),e.collapsed||e._enableDisableDragger(!0),e._enableDisableResizer(!0),r=e.uiDialog.position(),s.width=e.uiDialog.width(),s.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:n,originalSize:o,position:r,size:s}),"normal"===a&&e._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},t.prototype._bindWindowResize=function(){var e=this,t=i(window),n,o,r;t.resize(function(){e.maximized&&e._onWinResize(e,t)}),i.browser.msie&&"6.0"===i.browser.version&&t.bind("scroll.wijdialog resize.wijdialog",function(){e.minimized&&(o=i(document).scrollTop(),r=e.uiDialog.parent(),n=document.documentElement.clientHeight-r.height()+o,r.css({top:n}))})},t.prototype._saveNormalState=function(){var e=this,t=e.uiDialog,i=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=i.css("height"),e.normalInnerWidth=i.css("width"),e.normalInnerMinWidth=i.css("min-width"),e.normalInnerMinHeight=i.css("min-height"))},t.prototype._onWinResize=function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},t.prototype._restoreButton=function(e,t,i){var n=this,o={button:"restore",info:{visible:e,click:n.restore,iconClassOn:this.options.wijCSS.iconNewWin}},r=n._createCaptionButton(o,n.uiDialogTitlebar,!0);e&&(r["insert"+i](t),n.restoreButton=r)},t.prototype._appendToBody=function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(this.options.appendTo)},t.prototype.restore=function(){var e=this,t=e.uiDialog,n,o={width:void 0,height:void 0},r,s={width:void 0,height:void 0},a=i("<div></div>"),l=i("<div></div>"),d="uiDialog",c;e.minimized?(e.minimized=!1,e.innerFrame&&(d="copy",e[d]||(d="uiDialog")),n=e[d].position(),o.width=e[d].width(),o.height=e[d].height(),a.appendTo(e.options.appendTo).css({top:e[d].offset().top,left:e[d].offset().left,height:e[d].innerHeight(),width:e[d].innerWidth(),position:"absolute"}),t.css("position","absolute"),t.css("float",""),e._appendToBody(t),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.show(),l.appendTo(e.options.appendTo).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.uiDialog.hide(),a.effect("transfer",{to:l,className:this.options.wijCSS.content},150,function(){e.uiDialog.show(),r=e.uiDialog.position(),s.width=e.uiDialog.width(),s.height=e.uiDialog.height(),a.remove(),l.remove(),e.copy&&e.copy.remove(),e._trigger("resize",null,{originalPosition:n,originalSize:o,position:r,size:s}),c=e.getState(),e._trigger("stateChanged",null,{originalState:"minimized",state:c})}),e.collapsed&&e._collapseDialogContent(),e._doButtonAction(e.minimizeButton,"show"),e._doButtonAction(e.restoreButton,"remove"),e._doButtonAction(e.pinButton,"show"),e._doButtonAction(e.refreshButton,"show"),e._doButtonAction(e.toggleButton,"show"),i.browser.webkit&&i("."+this.options.wijCSS.wijdialogCaptionButton).css("float","")):e.maximized&&(e.maximized=!1,n=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),i(window).unbind(".onWinResize"),e.collapsed&&e._expandDialogContent(),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.collapsed&&e._collapseDialogContent(),void 0!==e.maximizeButton&&(e.maximizeButton.show(),e._restoreButton(!1,e.maximizeButton,"before")),r=e.uiDialog.position(),s.width=e.uiDialog.width(),s.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:n,originalSize:o,position:r,size:s}),c=e.getState(),e._trigger("stateChanged",null,{originalState:"maximized",state:c}))},t.prototype.getState=function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},t.prototype.reset=function(){var e=this;"normal"===e.getState()?(e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=void 0,e.initHeight&&e.initWidth&&(e.options.width=e.initWidth,e.options.height=e.initHeight,e._size()),e._setOption("position",e._originalPosition)):(e.element.one(this.widgetEventPrefix+"statechanged",function(){e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=void 0,e.initHeight&&e.initWidth&&(e.options.width=e.initWidth,e.options.height=e.initHeight,e._size()),e._setOption("position",e._originalPosition)}),e.restore())},t.prototype.open=function(){var t=this,n=t.options;("drop"===n.hide||"bounce"===n.hide)&&i.browser.msie&&t.uiDialog.css("filter","auto"),t.innerFrame?(i.browser.msie&&"9.0"===i.browser.version?window.setTimeout(function(){t.innerFrame.attr("src",n.contentUrl)},200):t.innerFrame.attr("src",n.contentUrl),t.minimized?(t.uiDialogTitlebar.show(),t._isOpen=!0):e.prototype.open.call(this)):(t.minimized?(t.uiDialog.show(),t._isOpen=!0):e.prototype.open.call(this),t.uiDialog.wijTriggerVisibility()),t.collapsed&&t._collapseDialogContent(!1,!0),n.disabled&&(t.disabledDiv?t.disabledDiv.show():t.disable())},t.prototype.close=function(){var t=this,i=t.options;e.prototype.close.call(this)&&(t.innerFrame&&(t.innerFrame.attr("src",""),t.minimized&&t.uiDialogTitlebar.hide()),t.disabledDiv&&i.disabled&&t.disabledDiv.hide())},t.prototype._restoreToNormal=function(){var e=this,t=e.uiDialog,i=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),i.css("height",e.normalInnerHeight),i.css("width",e.normalInnerWidth),i.css("min-width",e.normalInnerMinWidth),i.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()},t}(o);t.wijdialog=s,i.ui&&i.ui.dialog&&(i.extend(i.ui.dialog.overlay,{create:function(t){0===this.instances.length&&(setTimeout(function(){i.ui.dialog.overlay.instances.length&&i(document).bind(i.ui.dialog.overlay.events,function(e){return i(e.target).zIndex()<i.ui.dialog.overlay.maxZ&&!i.contains(t.element[0],e.target)?!1:void 0})},1),i(document).bind("keydown.dialog-overlay",function(i){var n=e.getKeyCodeEnum();t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===n.ESCAPE&&(t.close(i),i.preventDefault())}),i(window).bind("resize.dialog-overlay",i.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||i("<div></div>").addClass(t.options.wijCSS.overlay)).appendTo(document.body).css({width:this.width(),height:this.height()});return i.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},height:function(){var e,t;return i.browser.msie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t>e?i(window).height()+"px":e+"px"):i(document).height()+"px"},width:function(){var e,t;return i.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t>e?i(window).width()+"px":e+"px"):i(document).width()+"px"}}),s.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,i.ui.dialog.prototype.options,new r),s.prototype.disable=function(){return this._setOption("disabled",!0)},s.prototype.enable=function(){return this._setOption("disabled",!1)},i.wijmo.registerWidget(n,i.ui.dialog,s.prototype))}(e.dialog||(e.dialog={}));var t=e.dialog}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijaccordion",o="wijmo-wijaccordion",r="wijmo-wijaccordion-top",s="wijmo-wijaccordion-bottom",a="wijmo-wijaccordion-left",l="wijmo-wijaccordion-right",d="wijmo-wijaccordion-header",c="wijmo-wijaccordion-content",h="wijmo-wijaccordion-content-active",u="wijmo-wijaccordion-icons",p="ui-helper-horizontal",f=function(t){function n(){t.apply(this,arguments),this.widgetEventPrefix="wijaccordion"}return __extends(n,t),n.prototype._setOption=function(e,i){var n=this.options;if(n[e]!==i)switch(e){case"selectedIndex":this.activate(i);break;case"disabled":i?this.element.addClass(n.wijCSS.stateDisabled):this.element.removeClass(n.wijCSS.stateDisabled);break;case"event":this._unbindLiveEvents(),this.options.event=i,this._bindLiveEvents();break;case"header":this._handleHeaderChange(i,n.header);break;case"animated":break;case"expandDirection":this._onDirectionChange(i,!0,n.expandDirection)}t.prototype._setOption.call(this,e,i)},n.prototype._handleHeaderChange=function(e,t){var i=this.options.wijCSS,n=this.element.find(t);n.removeClass(i.wijaccordionHeader).removeClass(d).removeClass(i.stateActive).removeClass(this._triangleIconOpened),n.siblings("."+c).removeClass(i.wijaccordionContent).removeClass(c).removeClass(i.content).removeClass(i.wijaccordionContentActive).removeClass(h),this._initHeaders(e)},n.prototype._initHeaders=function(e){"undefined"==typeof e&&(e=null);var t=this.options,e=e?e:t.header,i=this.element.find(e);i.each(jQuery.proxy(this._initHeader,this))},n.prototype._initHeader=function(e,t){var n=this.options,r=n.wijCSS,s=this.element.data("rightToLeft"),a=i(t),l=i(a.next()[0]);for(s&&(a.remove(),a.insertAfter(l)),a.addClass(d).addClass(r.wijaccordionHeader).attr("role","tab"),l.attr("role","tabpanel"),0===a.find("> a").length&&a.wrapInner('<a href="#"></a>'),0===a.find("> ."+r.icon).length&&i("<span></span>").addClass(r.icon).insertBefore(i("> a",a)[0]),e===n.selectedIndex?(a.addClass(r.stateDefault).addClass(r.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}),a.find("> ."+r.icon).addClass(this._triangleIconOpened),l.addClass(h).addClass(r.wijaccordionContentActive).addClass(this._contentCornerOpened).wijTriggerVisibility()):(a.addClass(r.stateDefault).addClass(r.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}),a.find("> .ui-icon").addClass(this._triangleIconClosed),l.hide()),l.addClass(c).addClass(r.wijaccordionContent).addClass(r.content);!a.parent().hasClass(o);)a.unwrap()},n.prototype._create=function(){var e=this.options,n=this;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),this.element.addClass(o).addClass(e.wijCSS.wijaccordion).addClass(e.wijCSS.widget).addClass(u).addClass(e.wijCSS.wijaccordionIcons).addClass(e.wijCSS.helperClearFix),e.disabled&&this.element.addClass(e.wijCSS.stateDisabled),this._onDirectionChange(e.expandDirection,!1),this._initHeaders(),this.element.attr("role","tablist"),i(window).on("resize.wijaccordion",function(e){n._adjustAccordion()}),("left"===e.expandDirection||"right"===e.expandDirection)&&n._adjustAccordion(),this._getDefaultLayoutSetting(),t.prototype._create.call(this)},n.prototype._init=function(){this._bindLiveEvents()},n.prototype._adjustAccordion=function(){if("top"!==this.options.expandDirection&&"bottom"!==this.options.expandDirection){var e=this._getHeaders(),t=i("."+c,this.element),n=t.parent().width(),o=parseInt(t.css("paddingLeft"),10)+parseInt(t.css("paddingRight"),10)+parseInt(t.css("borderRightWidth"),10)+parseInt(t.css("borderLeftWidth"),10),r=i("."+d,this.element).outerWidth(!0),s=n-e.length*(r+4)-o,s=576>s?s:576;t.width(s)}},n.prototype._getDefaultLayoutSetting=function(){var e=i("."+c,this.element);"top"===this.options.expandDirection||"bottom"===this.options.expandDirection?this._defaultLayoutSetting={paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}:this._defaultLayoutSetting={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),width:e.width()}},n.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass(e.wijCSS.wijaccordion).removeClass(o).removeClass(e.wijCSS.widget).removeClass(e.wijCSS.wijaccordionIcons).removeClass(u).removeAttr("role"),i(window).off("resize.wijaccordion"),t.prototype.destroy.call(this)},n.prototype._getHeaders=function(){var e=this.options,t=this.element.data("rightToLeft"),n=[],o,r,s=this.element.find(e.header);if(!(s.length>0&&!i(s[0]).hasClass(d)&&i(s[0]).hasClass(c)))return s;for(o=0;o<s.length;o+=1)r=t?i(s[o]).next("."+d):i(s[o]).prev("."+d),r.length>0&&n.push(r[0]);return i(n)},n.prototype.activate=function(e){var t,n=this.options,o=this._getHeaders(),r,s,a=this.element.data("rightToLeft"),l,d,u,f,g,m,w,v,b,_;if(r=i(jQuery.grep(o,function(e){return i(e).hasAllClasses(n.wijCSS.stateActive)})),"number"==typeof e?t=i(o[e]):"string"==typeof e?(e=parseInt(e,0),t=i(o[e])):(t=i(e),e=o.index(e)),t.hasAllClasses(n.wijCSS.stateDisabled))return!1;if(t.hasAllClasses(n.wijCSS.stateActive))if(n.requireOpenedPane){if(r.length===t.length&&r.index()===t.index())return!1}else r=t,t=i(null);else n.requireOpenedPane||(r=i(null));return l=o.index(t),d=o.index(r),u=a?t.prev("."+c):t.next("."+c),f=a?r.prev("."+c):r.next("."+c),0===r.length&&0===t.length?!1:(s="left"===n.expandDirection||"right"===n.expandDirection?this._defaultLayoutSetting.width:u.css("width"),this._trigger("beforeSelectedIndexChanged",null,{newIndex:l,prevIndex:d})?(r.removeClass(n.wijCSS.stateActive).removeClass(this._headerCornerOpened).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),t.removeClass("ui-corner-all").addClass(n.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),n.animated?(g={toShow:u,toHide:f,complete:jQuery.proxy(function(){f.removeClass(n.wijCSS.wijaccordionContentActive).removeClass(h),u.addClass(n.wijCSS.wijaccordionContentActive).addClass(h).wijTriggerVisibility(),f.css("display",""),u.css("display",""),i.fn.wijlinechart&&(f.find(".wijmo-wijlinechart").wijlinechart("redraw"),
u.find(".wijmo-wijlinechart").wijlinechart("redraw")),null!==s&&void 0!==s&&("left"===n.expandDirection||"right"===n.expandDirection)&&u.width(s),this._trigger("selectedIndexChanged",null,{newIndex:l,prevIndex:d})},this),horizontal:this.element.hasClass(p),rightToLeft:this.element.data("rightToLeft"),down:l>d,autoHeight:n.autoHeight||n.fillSpace,defaultLayoutSetting:this._defaultLayoutSetting},m=n.animated,w=n.duration,i.isFunction(m)&&(n.animated=m(g)),i.isFunction(w)&&(n.duration=w(g)),v=i.wijmo.wijaccordion.animations,b=n.duration,_=n.animated,_&&!v[_]&&!i.easing[_]&&(_="slide"),v[_]||(v[_]=function(e){this.slide(e,{easing:_,duration:b||700})}),v[_](g)):(r.length>0&&f.hide().removeClass(n.wijCSS.wijaccordionContentActive).removeClass(h),t.length>0&&u.show().addClass(h).addClass(n.wijCSS.wijaccordionContentActive).addClass(this._contentCornerOpened).wijTriggerVisibility(),i.fn.wijlinechart&&(f.find(".wijmo-wijlinechart").wijlinechart("redraw"),u.find(".wijmo-wijlinechart").wijlinechart("redraw")),null!==s&&void 0!==s&&("left"===n.expandDirection||"right"===n.expandDirection)&&u.width(s),this._trigger("selectedIndexChanged",null,{newIndex:l,prevIndex:d})),this.options.selectedIndex=l,void 0):!1)},n.prototype._bindLiveEvents=function(){var e=this,t=this.options,n="."+d;this.element.on(t.event+".wijaccordion",n,jQuery.proxy(this._onHeaderClick,this)).on("keydown.wijaccordion",n,jQuery.proxy(this._onHeaderKeyDown,this)).on("mouseenter.wijaccordion",n,function(){i(this).addClass(t.wijCSS.stateHover)}).on("mouseleave.wijaccordion",n,function(){i(this).removeClass(t.wijCSS.stateHover)}).on("focus.wijaccordion",n,function(){i(this).addClass(t.wijCSS.stateFocus)}).on("blur.wijaccordion",n,function(){i(this).removeClass(t.wijCSS.stateFocus)})},n.prototype._unbindLiveEvents=function(){this.element.off(".wijaccordion","."+d)},n.prototype._onHeaderClick=function(e){return this.options.disabled||this.activate(e.currentTarget),!1},n.prototype._onHeaderKeyDown=function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)&&i.ui){var n=e.getKeyCodeEnum(),o=this.element.find("."+d+"."+this.options.wijCSS.stateFocus),r,s=this._getHeaders();if(o.length>0)switch(r=i("."+d,this.element).index(o),t.keyCode){case n.RIGHT:case n.DOWN:if(s[r+1])return s[r+1].focus(),!1;break;case n.LEFT:case n.UP:if(s[r-1])return s[r-1].focus(),!1;break;case n.SPACE:case n.ENTER:this.activate(t.currentTarget),t.preventDefault()}return!0}},n.prototype._onDirectionChange=function(e,t,n){"undefined"==typeof n&&(n=null);var h,u,f,g,m,w,v=this.options;switch(t&&(u=this.element.find("."+d+"."+this._headerCornerOpened),u.removeClass(this._headerCornerOpened),f=this.element.find("."+c+"."+this._contentCornerOpened),f.removeClass(this._contentCornerOpened),g=this.element.find("."+this._triangleIconOpened),m=this.element.find("."+this._triangleIconClosed),g.removeClass(this._triangleIconOpened),m.removeClass(this._triangleIconClosed)),null!==n&&this.element.removeClass(o+"-"+n),e){case"top":this._headerCornerOpened=v.wijCSS.cornerBottom,this._contentCornerOpened=v.wijCSS.cornerTop,this._triangleIconOpened=v.wijCSS.iconArrowUp,this._triangleIconClosed=v.wijCSS.iconArrowRight,h=!0,this.element.removeClass(p),this.element.addClass(r).addClass(v.wijCSS.wijaccordionTop);break;case"right":this._headerCornerOpened=v.wijCSS.cornerLeft,this._contentCornerOpened=v.wijCSS.cornerRight,this._triangleIconOpened=v.wijCSS.iconArrowRight,this._triangleIconClosed=v.wijCSS.iconArrowDown,h=!1,this.element.addClass(p),this.element.addClass(l).addClass(v.wijCSS.wijaccordionRight);break;case"left":this._headerCornerOpened=v.wijCSS.cornerRight,this._contentCornerOpened=v.wijCSS.cornerLeft,this._triangleIconOpened=v.wijCSS.iconArrowLeft,this._triangleIconClosed=v.wijCSS.iconArrowDown,h=!0,this.element.addClass(p),this.element.addClass(a).addClass(v.wijCSS.wijaccordionLeft);break;default:this._headerCornerOpened=v.wijCSS.cornerTop,this._contentCornerOpened=v.wijCSS.cornerBottom,this._triangleIconOpened=v.wijCSS.iconArrowDown,this._triangleIconClosed=v.wijCSS.iconArrowRight,h=!1,this.element.removeClass(p),this.element.addClass(s).addClass(v.wijCSS.wijaccordionBottom)}w=this.element.data("rightToLeft"),this.element.data("rightToLeft",h),t&&(g.addClass(this._triangleIconOpened),m.addClass(this._triangleIconClosed),u.addClass(this._headerCornerOpened),f.addClass(this._contentCornerOpened)),t&&h!==w&&this.element.children("."+d).each(function(e,t){var n=i(this),o;h?(o=n.next("."+c),n.remove(),n.insertAfter(o)):(o=n.prev("."+c),n.remove(),n.insertBefore(o))})},n}(e.wijmoWidget);t.wijaccordion=f;var g=function(){function e(){this.wijCSS={wijaccordion:"",wijaccordionTop:"",wijaccordionBottom:"",wijaccordionLeft:"",wijaccordionRight:"",wijaccordionHeader:"",wijaccordionContent:"",wijaccordionContentActive:"",wijaccordionIcons:""},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c"},this.initSelector=":jqmData(role='wijaccordion')",this.animated="slide",this.duration=null,this.event="click",this.disabled=!1,this.expandDirection="bottom",this.header="> li > :first-child,> :not(li):even",this.requireOpenedPane=!0,this.selectedIndex=0}return e}();f.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new g),i.wijmo.registerWidget(n,f.prototype),i.extend(i.wijmo.wijaccordion,{animations:{_parseWidth:function(e){var t=(""+e).match(/^([\d+-.]+)(.*)$/);return{value:t?t[1]:"0",unit:t?t[2]||"px":"px"}},slide:function(e,t){e=i.extend({easing:"swing",duration:300},e,t);var n,o;if(e.horizontal?(n={width:"show"},o={width:"hide"}):(n={height:"show"},o={height:"hide"}),!e.toHide.size())return void e.toShow.stop(!0,!0).animate(n,e);if(!e.toShow.size())return void e.toHide.stop(!0,!0).animate(o,e);var r=e.toShow.css("overflow"),s=0,a={},l={},d,c=e.horizontal?["width","paddingLeft","paddingRight"]:["height","paddingTop","paddingBottom"],h,u=e.toShow;e.horizontal?(h=u[0].style.height,u.height(parseInt(u.parent().height(),10)-parseInt(u.css("paddingTop"),10)-parseInt(u.css("paddingBottom"),10)-(parseInt(u.css("borderTopWidth"),10)||0)-(parseInt(u.css("borderBottomWidth"),10)||0))):(h=u[0].style.width,u.width(parseInt(u.parent().width(),10)-parseInt(u.css("paddingLeft"),10)-parseInt(u.css("paddingRight"),10)-(parseInt(u.css("borderLeftWidth"),10)||0)-(parseInt(u.css("borderRightWidth"),10)||0))),i.each(c,function(t,n){l[n]="hide",e.horizontal||"height"!==n?a[n]=i.wijmo.wijaccordion.animations._parseWidth(e.defaultLayoutSetting[n]):a[n]=i.wijmo.wijaccordion.animations._parseWidth(i.css(e.toShow[0],n))}),d=e.horizontal?{width:0,overflow:"hidden"}:{height:0,overflow:"hidden"},e.toShow.css(d).stop(!0,!0).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").stop(!0,!0).animate(l,{step:function(t,i){var n;(i.prop===e.horizontal?"width":"height")&&(s=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start)),n=s*a[i.prop].value,0>n&&(n=0),e.toShow[0].style[i.prop]=n+a[i.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css(e.horizontal?"width":"height",""),e.toShow.css(e.horizontal?"height":"width",h),e.toShow.css({overflow:r}),e.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(e.accordion||(e.accordion={}));var t=e.accordion}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i};$.fn.extend({getBounds:function(){return $.extend({},$(this).offset(),{width:$(this).outerWidth(!0),height:$(this).outerHeight(!0)})},setBounds:function(e){return $(this).css({left:e.left,top:e.top}).width(e.width).height(e.height),this},getMaxZIndex:function(){var e=1*("auto"==$(this).css("z-index")?0:$(this).css("z-index"));return $(this).siblings().each(function(t,i){e=Math.max(e,1*("auto"==$(i).css("z-index")?0:$(i).css("z-index")))}),Math.max(e,$(this).zIndex())}});var wijmo;!function(e){!function(t){var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._init=function(){if(this.elementZIndex=this.element.zIndex(),this.options.ensureOutermost){var e=$("form");0===e.length&&(e=$(document.body)),this.element.appendTo(e)}this.element.data("visible.wijpopup",!1),this.element.css("position","absolute"),this.element.position({of:$(document.body)}),this.element.hide()},t.prototype._setOption=function(t,i){if(e.prototype._setOption.call(this,t,i),"autoHide"===t){var n=this.isVisible();this.hide(),n&&this.show()}},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),this.isVisible()&&this.hide(),$.browser.msie&&parseInt($.browser.version)<7){var t=this.element.data("backframe.wijpopup");t||t.remove()}var i=this;this.element.unbind(".wijpopup"),$.each(["visible","backframe","animating","width"],function(e,t){i.element.removeData(t+".wijpopup")})},t.prototype.isVisible=function(){return!!this.element.data("visible.wijpopup")&&this.element.is(":visible")},t.prototype.isAnimating=function(){return!!this.element.data("animating.wijpopup")},t.prototype.show=function(e){var t=this;if(this._setPosition(e),!this.isVisible()&&this._trigger("showing")!==!1){this.options.autoHide&&window.setTimeout(function(){t._bindDocMouseUpEvent()},0);var i=this.options.showEffect||"show",n=this.options.showDuration||300,o=this.options.showOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[i]?this.element.show(i,o,n,$.proxy(this._showCompleted,this)):this.element[i]("show"===i?null:n,$.proxy(this._showCompleted,this)),(!i||!n||"show"===i||0>=n)&&this._showCompleted()}},t.prototype._showCompleted=function(){this.element.removeData("animating.wijpopup"),this.element.data("visible.wijpopup",!0),this._trigger("shown")},t.prototype.showAt=function(e,t){this.show({my:"left+"+e+" top+"+t,at:"left top",of:document.body})},t.prototype.hide=function(){if(this.isVisible()){if(this._trigger("hiding")===!1)return void this._bindDocMouseUpEvent();var e=this.options.hideEffect||"hide",t=this.options.hideDuration||300,i=this.options.hideOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[e]?this.element.hide(e,i,t,$.proxy(this._hideCompleted,this)):this.element[e]("hide"===e?null:t,$.proxy(this._hideCompleted,this)),(!e||!t||"hide"===e||0>=t)&&this._hideCompleted()}},t.prototype._hideCompleted=function(){if(void 0!==this.element.data("width.wijpopup")&&(this.element.width(this.element.data("width.wijpopup")),this.element.removeData("width.wijpopup")),this.element.unbind("move.wijpopup"),this.element.removeData("animating.wijpopup"),$.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e&&e.hide()}this._trigger("hidden")},t.prototype._onDocMouseUp=function(e,t){var i=e.target?e.target:e.srcElement;t.isVisible()&&!!t.options.autoHide&&(i!=t.element.get(0)&&$(i).parents().index(t.element)<0?t.hide():this._bindDocMouseUpEvent())},t.prototype._bindDocMouseUpEvent=function(){var e=this;$(document).one("mouseup.wijpopup",function(t){e._onDocMouseUp(t,e)})},t.prototype._onMove=function(e){var t=this.element.data("backframe.wijpopup");t&&(this.element.before(t),t.css({top:this.element.css("top"),left:this.element.css("left")}))},t.prototype._addBackgroundIFrame=function(){if($.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e||(e=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1}),this.element.before(e),this.element.data("backframe.wijpopup",e),this.element.bind("move.wijpopup",$.proxy(this._onMove,this))),e.setBounds(this.element.getBounds()),e.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},t.prototype._setZIndex=function(e){this.element.css("z-index",e);var t=this.element.data("backframe.wijpopup");t&&t.css("z-index",this.element.css("z-index")-1)},t.prototype._setPosition=function(e){var t=this.element.is(":visible"),i;this.element.show(),this.element.position($.extend({},this.options.position,e?e:{})),t||this.element.hide(),e&&(i=e.of),i||(i=this.options.position.of),this._addBackgroundIFrame();var n=Math.max(1e3,this.elementZIndex);i&&(n=Math.max(n,$(i).getMaxZIndex())),this._setZIndex(n+10),this._trigger("posChanged")},t}(e.JQueryUIWidget);t.wijpopup=i;var n=function(){function e(){this.ensureOutermost=!1,this.showEffect="show",this.showOptions={},this.showDuration=300,this.hideEffect="hide",this.hideOptions={},this.hideDuration=100,this.autoHide=!1,this.position={at:"left bottom",my:"left top"},this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.posChanged=null}return e}();i.prototype.options=$.extend(!0,{},e.wijmoWidget.prototype.options,new n),$.wijmo.registerWidget("wijpopup",i.prototype)}(e.popup||(e.popup={}));var t=e.popup}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n=function(){function e(){this.wijCSS={superpanelHeader:"wijmo-wijsuperpanel-header",superpanelFooter:"wijmo-wijsuperpanel-footer",superpanelHandle:"",superpanelVBarbuttonTop:"",superpanelVBarbuttonBottom:"",superpanelHBarbuttonLeft:"",superpanelHBarbuttonRight:"",superpanelHBarContainer:"",superpanelVBarContainer:"",superpanelButton:"",superpanelButtonLeft:"",superpanelButtonRight:"",superpanelButtonTop:"",superpanelButtonBottom:""},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.initSelector=":jqmData(role='wijsuperpanel')",this.allowResize=!1,this.autoRefresh=!1,this.animationOptions={queue:!1,disabled:!1,duration:250,easing:void 0},this.hScrollerActivating=null,this.hScroller={scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.keyboardSupport=!1,this.keyDownInterval=100,this.mouseWheelSupport=!0,this.bubbleScrollingEvent=!0,this.resizableOptions={handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},this.resized=null,this.dragStop=null,this.painted=null,this.scrolling=null,this.scroll=null,this.scrolled=null,this.showRounder=!0,this.vScrollerActivating=null,this.vScroller={scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.customScrolling=!1,this.listenContentScroll=!1}return e}(),o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.needToScroll=function(e){},t.prototype.scrollChildIntoView=function(e){},t.prototype.hScrollTo=function(e,t){},t.prototype.vScrollTo=function(e,t){},t.prototype.scrollPxToValue=function(e,t){},t.prototype.scrollTo=function(e,t,i){},t.prototype.refresh=function(){},t.prototype.paintPanel=function(e){},t.prototype.getContentElement=function(){},t}(e.wijmoWidget);t.wijsuperpanel=o;var r;if(i.support.isTouchEnabled&&i.support.isTouchEnabled()){var s="wijmo-wijsuperpanel-handle",a="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper-touch'></div></div>";o.prototype=i.extend(!0,{},i.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,t){var n=this,o=n.options,r=n._fields();switch("animationOptions"===e||"resizableOptions"===e?t=i.extend(o[e],t):("hScroller"===e||"vScroller"===e)&&(t=i.extend(o[e],t),n.refresh()),i.Widget.prototype._setOption.apply(n,arguments),e){case"allowResize":n._initResizer();break;case"disabled":n._handleDisabledOption(t,n.element);break;case"mouseWheelSupport":case"keyboardSupport":n._bindElementEvents(n,r,n.element,o)}},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._createDom(),e.options.disabled&&e.disable(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijsuperpanel")},_handleDisabledOption:function(e,t){var i=this;e?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(t)),i.disabledDiv.appendTo("body")):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null)},_createDisabledDiv:function(e){var t=this,n=e?e:t.element,o=n.offset(),r=n.outerWidth(),s=n.outerHeight();return i("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:r,height:s,left:o.left,top:o.top})},_createDom:function(){var e=this,t=e.element;e.paintPanel(),e._initResizer(),e._bindElementEvents()},_applyOverflow:function(e){var t={},n=this.options,o=n.hScroller.scrollBarVisibility,r=n.vScroller.scrollBarVisibility;t["overflow-x"]=o,t["overflow-y"]=r,i.support.isTouchEnabled&&i.support.isTouchEnabled()&&"visible"===o&&"visible"===r&&(t["overflow-x"]="auto",t["overflow-y"]="auto"),e.css(t)},_createAdditionalDom:function(e,t,n){n.attr("tabindex")||(n.attr("tabindex","-1"),t.tabindex=!0);var o=t.stateContainer=i(a),r,s=e.options.wijCSS;e._applyOverflow(t.stateContainer),t.contentWrapper=o.children(),n.contents().each(function(e,n){var o=i(n);return o.hasAllClasses(s.superpanelHeader)?void(t.header=o):o.hasAllClasses(s.superpanelFooter)?void(t.footer=o):void t.contentWrapper[0].appendChild(n)}),void 0!==t.header&&n.prepend(t.header),n[0].appendChild(o[0]),void 0!==t.footer&&t.footer.insertAfter(o),e._resetDom(),t.contentWrapper.css("float","left"),t.contentWidth=t.contentWrapper.width(),t.contentHeight=t.contentWrapper.height(),t.contentWrapper.css("float","")},_bindElementEvents:function(){var e=this,t=e.element,n=e.options,o=e.widgetName,r=t.find(".wijmo-wijsuperpanel-statecontainer"),s=r.scrollTop(),a=r.scrollLeft();r.bind("scroll",function(t,o){var r=i(this).scrollTop(),l=i(this).scrollLeft(),d,c,h,u,p;(r!==s||l!==a)&&(r===s?(c="h",d=l>a?"right":"left",h=n.hScroller.scrollValue,p=l):(c="v",d=r>s?"bottom":"top",h=n.vScroller.scrollValue,p=r),u=e.scrollPxToValue(p,c),e._trigger("scrolling",null,{dir:c,direction:d,oldValue:h,newValue:u,beforePosition:{left:-a,top:-s}}),e._triggerScroll(p,c),e._updateScrollValue(p,c),e._trigger("scrolled",null,{dir:c,beforePosition:{left:-a,top:-s},afterPosition:{left:-l,top:-r},newValue:u}),a=l,s=r)}),n.keyboardSupport?void 0===e._keyboardBind&&(e._keyboardBind=!0,t.bind("keydown."+o,e,e._panelKeyDown)):(t.unbind("keydown."+o,e._panelKeyDown),e._keyboardBind=void 0),n.mouseWheelSupport||t.bind("mousewheel",function(e){return e.stopPropagation(),!1})},_setScrollingInterval:function(e,t,i,n){var o=i.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){i._doScrolling(t,i,n)},o.keyDownInterval))},_triggerScroll:function(e,t){var i={position:e,dir:t};this._trigger("scroll",null,i)},_panelKeyDown:function(t){var i=t.data,n=i.options,o,r,s=e.getKeyCodeEnum();n.keyboardSupport&&!n.disabled&&(o=t.shiftKey,r=t.keyCode,r===s.LEFT?i._doScrolling("left",i,o):r===s.RIGHT?i._doScrolling("right",i,o):r===s.UP?i._doScrolling("top",i,o):r===s.DOWN&&i._doScrolling("bottom",i,o),t.stopPropagation(),t.preventDefault())},_doScrolling:function(e,t,i){var n,o,r,s=t._fields(),a=s.stateContainer[0],l={},d;"top"===e||"bottom"===e?(o="v",r="scrollTop"):("left"===e||"right"===e)&&(o="h",r="scrollLeft"),n=i?t._getLargeChange(o):t._getSmallChange(o),d=a[r],"top"===e||"left"===e?l[r]=d-n:l[r]=d+n,t._animateTo(l)},_getLargeChange:function(e){var t=this,i=t._fields(),n,o="h"==e?i.clientWidth:i.clientHeight;return n=o?o:i.stateContainer["h"==e?"width":"height"]()},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(e,t){var n=this.options.wijCSS.cornerAll;if(this.options.showRounder){if(t.addClass(n),e._rounderAdded)return;if(i.browser.msie)return;var o="",r="",s,a;i.browser.webkit?(r="WebkitBorderTopLeftRadius",o="WebkitBorderRadius"):i.browser.mozilla?(r="MozBorderRadiusBottomleft",o="MozBorderRadius"):(r="border-top-left-radius",o="border-radius"),s=t.css(r),a=parseInt(s,10),t.css(o,a+1),e._rounderAdded=!0,e._radiusKey=o}else t.removeClass(n)},_initResizer:function(){var e=this,t=e.options,n=e._fields(),o=n.resizer,r,s;i.fn.resizable&&(!o&&t.allowResize&&(r=t.resizableOptions,s=r.stop,r.stop=function(t){e._resetDom(),e._trigger("resized"),i.isFunction(s)&&s(t)},n.resizer=o=e.element.resizable(r)),!t.allowResize&&n.resizer&&(o.resizable("destroy"),n.resizer=null))},_resetDom:function(){var e=this,t=e.options,i=e.element,n=e._fields(),o=i.width(),r=i.height();void 0!==n.header&&(r-=n.header.outerHeight()),void 0!==n.footer&&(r-=n.footer.outerHeight()),n.stateContainer.length&&(n.stateContainer.css({width:o,height:r}),n.clientWidth=n.stateContainer[0].clientWidth,n.clientHeight=n.stateContainer[0].clientHeight)},_fields:function(){var e=this,t=e.element,i=e.widgetName+"-fields",n=e._fieldsStore;return void 0===n&&(n={},t.data(i,n),e._fieldsStore=n),n},_getScrollOffset:function(e){var t=i(e),n,o,r,s,a,l,d,c,h,u={left:null,top:null};return 0===t.length?u:(n=this._fields(),o=n.contentWrapper,r=t.offset(),r.leftWidth=r.left+t.outerWidth(),r.topHeight=r.top+t.outerHeight(),a=o.offset(),a.leftWidth=a.left+n.clientWidth,a.topHeight=a.top+n.clientHeight,c=r.left-a.left,r.left<a.left?u.left=c:r.leftWidth>a.leftWidth&&(h=r.leftWidth-a.left-n.clientWidth,h>c?u.left=c:u.left=h),l=r.top-a.top,r.top<a.top?u.top=l:r.topHeight>a.topHeight&&(d=r.topHeight-a.top-n.clientHeight,d>l?u.top=l:u.top=d),u)},_initialize:function(e,t,i){var n=i.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",n.widget,n.content].join(" ")),i._setRounder(i,t),i._createAdditionalDom(i,e,t),i._trigger("painted"),i._initScrollPosition()},_initScrollPosition:function(){var e=this.options,t=e.hScroller,i=e.vScroller,n=t.scrollValue,o=i.scrollValue,r=this._fields(),s=n?this._scrollValueToPx(n,"h"):0,a=o?this._scrollValueToPx(o,"v"):0;n&&r.stateContainer.prop("scrollLeft",s),o&&r.stateContainer.prop("scrollTop",a)},_updateScrollValue:function(e,t){var n=this.scrollPxToValue(e,t),o=this.options,r="h"===t?"hScroller":"vScroller",s=i.Event("scrollValueChanged");o[r].scrollValue=n,this._trigger("scrollValueChanged",s,o[r])},scrollPxToValue:function(e,t){var i=this.options,n="h"===t?"clientWidth":"clientHeight",o="h"===t?"scrollWidth":"scrollHeight",r="h"===t?"hScroller":"vScroller",s=this._fields(),a=s.stateContainer[0],l=a[n],d=a[o],c=i[r].scrollMin,h=i[r].scrollMax,u=h-c,p=u*e/(d-l)+c;return p},_scrollValueToPx:function(e,t){var i=this.options,n="h"===t?"clientWidth":"clientHeight",o="h"===t?"scrollWidth":"scrollHeight",r="h"===t?"hScroller":"vScroller",s=this._fields(),a=s.stateContainer[0],l=a[n],d=a[o],c=i[r].scrollMin,h=i[r].scrollMax,u=h-c,p=(e-c)*(d-l)/u;return p},_animateTo:function(e){var t=this,i=t.element,n=t.options,o=n.animationOptions,r=t._fields();r.stateContainer.animate(e,o)},destroy:function(){var e=this,t=e.element,n=e.options,o=e._fields(),r,s=n.wijCSS;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),void 0!==o.resizer&&o.resizer.resizable("destroy"),t.unbind("."+e.widgetName),t.removeClass(["wijmo-wijsuperpanel",s.widget,s.content,s.cornerAll].join(" ")),r=o.contentWrapper,r.contents().each(function(e,i){t.append(i)}),o.stateContainer.remove(),i.Widget.prototype.destroy.apply(e,arguments)},doScrolling:function(e,t){this._doScrolling(e,this,t)},paintPanel:function(e){var t=this,i=t.element,n=t._fields();n.initialized||this._initialize(n,i,t)},needToScroll:function(e){var t=this._getScrollOffset(e);return null!==t.top||null!==t.left},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),i=t.left,n=t.top;this.scrollTo(i,n)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(e,t){var i=t?this._scrollValueToPx(e):e;this._animateTo({scrollLeft:i})},vScrollTo:function(e,t){var i=t?this._scrollValueToPx(e):e;this._animateTo({scrollTop:i})},refresh:function(){var e=this,t=e._fields();e._applyOverflow(t.stateContainer),e._resetDom()},scrollTo:function(e,t,i){var n=i?this._scrollValueToPx(e):e,o=i?this._scrollValueToPx(t):t;this._animateTo({scrollTop:o}),this._animateTo({scrollLeft:n})}}),o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,{wijCSS:{superpanelHeader:"wijmo-wijsuperpanel-header",superpanelFooter:"wijmo-wijsuperpanel-footer",superpanelHandle:"",superpanelVBarbuttonTop:"",superpanelVBarbuttonBottom:"",superpanelHBarbuttonLeft:"",superpanelHBarbuttonRight:"",superpanelHBarContainer:"",superpanelVBarContainer:"",superpanelButton:"",superpanelButtonLeft:"",superpanelButtonRight:"",superpanelButtonTop:"",superpanelButtonBottom:""},wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:void 0},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,painted:null,scroll:null,showRounder:!0,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}}),i.wijmo.registerWidget("wijsuperpanel",o.prototype)}else{var s="wijmo-wijsuperpanel-handle",l="wijmo-wijsuperpanel-hbarcontainer",d="wijmo-wijsuperpanel-vbarcontainer",c="",a="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",h="<div class='wijmo-wijsuperpanel-hbarcontainer {superpanelHBarContainer} {header}'><div class='wijmo-wijsuperpanel-handle {superpanelHandle} {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft {superpanelHBarbuttonLeft} {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright {superpanelHBarbuttonRight} {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",u="<div class='wijmo-wijsuperpanel-vbarcontainer {superpanelVBarContainer} {header}'><div class='wijmo-wijsuperpanel-handle {superpanelHandle} {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop {superpanelVBarbuttonTop} {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom {superpanelVBarbuttonBottom} {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",p="<div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonleft {superpanelButtonLeft}'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonright {superpanelButtonRight}'><span class='{icon} {iconCaratRight}'></span></div>",f="<div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton}  wijmo-wijsuperpanel-buttontop {superpanelButtonTop}'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonbottom {superpanelButtonBottom}'><span class='{icon} {iconCaratDown}'> </span></div>";o.prototype=i.extend(!0,{},i.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,t){var n=this,o=n.options,r=n._fields(),s=r.hbarDrag,a=r.vbarDrag,l=r.resizer;switch("animationOptions"===e?t=i.extend(o.animationOptions,t):"hScroller"===e?(void 0!==t.scrollLargeChange&&null!==t.scrollLargeChange&&(n._autoHLarge=!1),t=i.extend(o.hScroller,t),n.refresh()):"vScroller"===e?(void 0!==t.scrollLargeChange&&null!==t.scrollLargeChange&&(n._autoVLarge=!1),t=i.extend(o.vScroller,t),n.refresh()):"resizableOptions"===e&&(t=i.extend(n.resizableOptions,t)),i.Widget.prototype._setOption.apply(n,arguments),i.isPlainObject(t)&&(n.options[e]=t),e){case"allowResize":n._initResizer();break;case"disabled":t?(void 0!==s&&s.draggable("disable"),void 0!==a&&a.draggable("disable"),void 0!==l&&l.resizable("disable")):(void 0!==s&&s.draggable("enable"),void 0!==a&&a.draggable("enable"),void 0!==l&&l.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":n._bindElementEvents(n,r,n.element,o)}return n},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._initMarkup(),e.paintPanel(),e._initResizer(),e.options.disabled&&e.disable(),e._detectAutoRefresh(),t.listenContentScroll&&e._listenContentScroll(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver(),e.refresh()},"wijsuperpanel")},_initMarkup:function(){var e=this.options.wijCSS,t=/\{(\w+?)\}/gi,i=function(t,i){return e[i]};c=e.stateActive,h=h.replace(t,i),u=u.replace(t,i),p=p.replace(t,i),f=f.replace(t,i)},_detectAutoRefresh:function(){var e=this,t=i.wijmo.wijsuperpanel.panels;void 0===t&&(t=[],i.wijmo.wijsuperpanel.panels=t),t.push(e),e.options.autoRefresh&&(i.wijmo.wijsuperpanel.setAutoRefreshInterval||(i.wijmo.wijsuperpanel.setAutoRefreshInterval=e._setAutoRefreshInterval,i.wijmo.wijsuperpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var e=i.wijmo.wijsuperpanel.autoRereshInterval,t=i.wijmo.wijsuperpanel.panels,n;n=window.setInterval(function(){window.clearInterval(n);var e=t.length,o=!1,r,s,a,l,d,c;for(r=0;e>r;r++)s=t[r],a=s.element[0],l=s.options.autoRefresh,l&&(o=!0),d=s.getContentElement(),c=s._paintedMark,l&&d.is(":visible")&&(void 0===c||c.width!==d[0].offsetWidth||c.height!==d[0].offsetHeight||c.mainWidth!==a.offsetWidth||c.mainHeight!==a.offsetHeight)&&s.paintPanel();o&&window.setTimeout(i.wijmo.wijsuperpanel.setAutoRefreshInterval,0)},void 0===e?500:e)},destroy:function(){var e=this,t=e._fields(),n=e.element,o,r,s=e.options.wijCSS;i.wijmo.wijsuperpanel.panels=i.grep(i.wijmo.wijsuperpanel.panels,function(t){return t!==e},!1),t.initialized&&(e._radiusKey&&e.element.css(e._radiusKey,""),void 0!==t.intervalID&&(window.clearInterval(t.intervalID),t.intervalID=void 0),void 0!==t.resizer&&t.resizer.resizable("destroy"),void 0!==t.hbarContainer&&(t.hbarDrag.remove(),t.hbarContainer.unbind("."+e.widgetName)),void 0!==t.vbarContainer&&(t.vbarDrag.remove(),t.vbarContainer.unbind("."+e.widgetName)),n.unbind("."+e.widgetName),t.contentWrapper.unbind("."+e.widgetName),o=t.stateContainer.find(">.wijmo-wijsuperpanel-button"),o.unbind("."+e.widgetName),r=t.templateWrapper,r.contents().each(function(e,t){n.append(t)}),t.stateContainer.remove(),t.tabindex&&n.removeAttr("tabindex"),n.removeClass(["wijmo-wijsuperpanel",s.widget,s.content,s.cornerAll].join(" ")),i.Widget.prototype.destroy.apply(e,arguments))},_fields:function(){var e=this,t=e.element,i=e.widgetName+"-fields",n=e._fieldsStore;return void 0===n&&(n={},t.data(i,n),e._fieldsStore=n),n},_hasMode:function(e,t){var n=e.scrollMode.split(",");return n=i.map(n,function(e){return i.trim(e).toLowerCase()}),i.inArray(t.toLowerCase(),n)>-1},_bindElementEvents:function(e,t,i,n){var o=e._hasMode(n.hScroller,"edge"),r=e._hasMode(n.vScroller,"edge"),s=e.widgetName;o||r?void 0===e._mousemoveBind&&(e._mousemoveBind=!0,i.bind("mousemove."+s,e,e._contentMouseMove),i.bind("mouseleave."+s,null,function(){e._clearInterval();
})):(i.unbind("mousemove",e._contentMouseMove),e._mousemoveBind=void 0),n.mouseWheelSupport?void 0===e._mouseWheelBind&&(e._mouseWheelBind=!0,i.bind("mousewheel."+s,e,e._panelMouseWheel)):(i.unbind("mousewheel",e._panelMouseWheel),e._mouseWheelBind=void 0),n.keyboardSupport?void 0===e._keyboardBind&&(e._keyboardBind=!0,i.bind("keydown."+s,e,e._panelKeyDown)):(i.unbind("keydown",e._panelKeyDown),e._keyboardBind=void 0)},_dragStop:function(e,t,i){var n={dragHandle:i};t._trigger("dragStop",e,n)},_contentMouseMove:function(e){if(!e.data.options.disabled){var t=e.data,n=t.options,o=n.hScroller,r=n.vScroller,s=i(e.currentTarget),a=t._fields(),l=t._hasMode(o,"edge"),d=t._hasMode(r,"edge"),c={X:e.pageX,Y:e.pageY},h=s.offset(),u=h.left,p=h.top,f=o.hoverEdgeSpan,g=r.hoverEdgeSpan,m=s.innerHeight(),w=s.innerWidth(),v="";u=c.X-u,p=c.Y-p,t._clearInterval(),l&&(f>u&&(v="left"),u>w-f&&(v="right")),d&&(g>p&&(v="top"),p>m-g&&(v="bottom")),t._setScrollingInterval(a,v,t,!1)}},_setScrollingInterval:function(e,t,i,n){var o=i.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){i._doScrolling(t,i,n)},o.keyDownInterval))},_scrollButtonMouseOver:function(e){var t=e.data,n=t.options,o=i(e.currentTarget);n.disabled||o.hasAllClasses(n.wijCSS.stateDisabled)||(o.bind("mouseout."+t.widgetName,t,t._buttonMouseOut).bind("mousedown."+t.widgetName,t,t._buttonMouseDown).bind("mouseup."+t.widgetName,t,t._buttonMouseUp).addClass(n.wijCSS.stateHover),t._buttonScroll(o,t,"buttonshover"))},_buttonScroll:function(e,t,i){var n="",o=t.options,r=t._fields(),s=t._hasMode(o.hScroller,i),a=t._hasMode(o.vScroller,i);e.hasClass("wijmo-wijsuperpanel-buttonleft")&&s?n="left":e.hasClass("wijmo-wijsuperpanel-buttonright")&&s?n="right":e.hasClass("wijmo-wijsuperpanel-buttontop")&&a?n="top":e.hasClass("wijmo-wijsuperpanel-buttonbottom")&&a&&(n="bottom"),n.length>0&&(t._clearInterval(),t._doScrolling(n,t,!0),t._setScrollingInterval(r,n,t,!0))},_listenContentScroll:function(){var e=this,t=e.options,i=e._fields(),n=i.hbarContainer,o=i.hbarDrag,r=i.vbarContainer,s=i.vbarDrag,a=i.templateWrapper,l=i.contentWrapper,d=l.width(),c=l.height(),h=a&&a.offset(),u=h&&h.left,p=h&&h.top,f=i.contentWidth,g=i.contentHeight;l.bind("scroll",function(i){var h=a.position(),u=h.left,p=h.top;l.scrollTop(0).scrollLeft(0),a.css({left:u,top:p}),0>=u&&u>d-f&&(e._updateScrollValue(e.scrollPxToValue(-u,"h"),t.hScroller),e._scrollDrag("h",n,o,!0)),0>=p&&p>c-g&&(e._updateScrollValue(e.scrollPxToValue(-p,"v"),t.vScroller),e._scrollDrag("v",r,s,!0))})},_buttonMouseDown:function(e){var t=e.data,n=i(e.currentTarget),o=t.options.wijCSS;t.options.disabled||n.hasAllClasses(o.stateDisabled)||(n.addClass(o.stateActive),t._buttonScroll(n,t,"buttons"))},_buttonMouseUp:function(e){var t=e.data,n=i(e.currentTarget);n.removeClass(t.options.wijCSS.stateActive),t._clearInterval()},_buttonMouseOut:function(e){var t=e.data,n=t.options.wijCSS,o=i(e.currentTarget);o.unbind("mouseout",t._buttonMouseOut).unbind("mousedown",t._buttonMouseDown).unbind("mouseup",t._buttonMouseUp).removeClass(n.stateHover).removeClass(n.stateActive),t._clearInterval()},_updateScrollValue:function(e,t){var n=i.Event("scrollValueChanged");t.scrollValue=e,this._trigger("scrollValueChanged",n,t)},_panelKeyDown:function(t){var i=t.data,n=i.options,o=t.shiftKey,r=t.keyCode,s=e.getKeyCodeEnum();n.keyboardSupport&&!n.disabled&&(r===s.LEFT?i._doScrolling("left",i,o):r===s.RIGHT?i._doScrolling("right",i,o):r===s.UP?i._doScrolling("top",i,o):r===s.DOWN&&i._doScrolling("bottom",i,o),t.stopPropagation(),t.preventDefault())},_draggingInternal:function(e,t,i,n){var o=i.dir,r="h"===o,s=r?"left":"top",a=e.position[s]-t._getScrollContainerPadding(s),l=t._getTrackLen(o)-n[r?"outerWidth":"outerHeight"](!0),d=a/l,c=i.scrollMax-i.scrollLargeChange+1,h=d*c,u,p,f;h<i.scrollMin&&(h=i.scrollMin),h>c&&(h=c),u={oldValue:i.scrollValue,newValue:h,dir:o},t._scrolling(!0,t,u)&&(t.customScroll&&(f=Math.abs(t.customScroll),p=t.scrollPxToValue(f,i.dir)),t._updateScrollValue(p||h,i),t.customScroll=void 0,t._setDragAndContentPosition(!0,!1,o,"dragging"))},_dragging:function(e,t,n){var o=n.options,r=i(e.target),s=r.parent();s.hasAllClasses(l)?n._draggingInternal(t,n,o.hScroller,r):n._draggingInternal(t,n,o.vScroller,r)},_panelMouseWheel:function(e,t){var n=e.data,o=n.options,r,s="",a,d=o.hScroller,c=o.vScroller,h;o.mouseWheelSupport&&!o.disabled&&(r=i(e.srcElement||e.originalEvent.target),a=r.closest("."+l,n.element).size()>0,s=t>0?a?"left":"top":a?"right":"bottom",s.length>0&&n._doScrolling(s,n),h=!1,"left"===s&&(h=!n.hNeedScrollBar||Math.abs(d.scrollValue-d.scrollMin)<.001),"right"===s&&(h=!n.hNeedScrollBar||Math.abs(d.scrollValue-(d.scrollMax-n._getHScrollBarLargeChange()+1))<.001),"top"===s&&(h=!n.vNeedScrollBar||Math.abs(c.scrollValue-c.scrollMin)<.001),"bottom"===s&&(h=!n.vNeedScrollBar||Math.abs(c.scrollValue-(c.scrollMax-n._getVScrollBarLargeChange()+1))<.001),h&&o.bubbleScrollingEvent&&"left"!==s&&"right"!==s||(e.stopPropagation(),e.preventDefault()))},_documentMouseUp:function(e){var t=e.data.self,n=e.data.ele;n.removeClass(t.options.wijCSS.stateActive),t._clearInterval(),i(document).unbind("mouseup",t._documentMouseUp)},_scrollerMouseOver:function(e){var t=e.data,n=t.options,o,r=null,s=!1;n.disabled||(o=i(e.srcElement||e.originalEvent.target||e.originalEvent.srcElement),o.hasAllClasses(n.wijCSS.stateDefault)?(r=o,s=!0):o.parent().hasAllClasses(n.wijCSS.stateDefault)?(r=o.parent(),s=!0):(o.hasAllClasses(d)||o.hasAllClasses(l))&&(r=o),r&&(s&&r.addClass(n.wijCSS.stateHover),r.bind("mouseout."+t.widgetName,t,t._elementMouseOut),r.bind("mousedown."+t.widgetName,t,t._elementMouseDown),r.bind("mouseup."+t.widgetName,t,t._elementMouseUp)))},_elementMouseUp:function(e){var t=i(e.currentTarget);t.removeClass(c)},_elementMouseDown:function(e){var t=i(e.currentTarget),n=e.data,o,r,a="",h=!1,u=!1,p,f,g;if(!n.options.disabled&&1===e.which){if(t.hasClass("wijmo-wijsuperpanel-vbar-buttontop"))a="top",u=!0;else if(t.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom"))a="bottom",u=!0;else if(t.hasClass("wijmo-wijsuperpanel-hbar-buttonleft"))a="left",u=!0;else if(t.hasClass("wijmo-wijsuperpanel-hbar-buttonright"))a="right",u=!0;else{if(t.hasAllClasses(s))return void t.addClass(c);t.hasAllClasses(l)?(o=t.find("."+s),p=o.offset(),a=e.pageX<p.left?"left":"right",h=!0):t.hasAllClasses(d)&&(r=t.find("."+s),f=r.offset(),a=e.pageY<f.top?"top":"bottom",h=!0)}n._clearInterval(),n._doScrolling(a,n,h),g=n._fields(),n._setScrollingInterval(g,a,n,h),u&&t.addClass(c),i(document).bind("mouseup."+n.widgetName,{self:n,ele:t},n._documentMouseUp)}},doScrolling:function(e,t){this._doScrolling(e,this,t)},_setScrollerValue:function(e,t,i,n,o,r,s){var a=t.scrollMin,l=r?n:i,d=t.scrollValue,c=0,h,u,p,f,g;if(d||(d=a),o){if(h=t.scrollMax-n+1,Math.abs(d-h)<.001)return s._clearInterval(),!1;u=t.firstStepChangeFix,c=d+l,!r&&Math.abs(d-a)<1e-4&&!isNaN(u)&&(c+=u),c>h&&(c=h)}else{if(Math.abs(d-a)<.001)return s._clearInterval(),!1;c=d-l,0>c&&(c=a)}return p={oldValue:t.scrollValue,newValue:c,direction:e,dir:t.dir},s._scrolling(!0,s,p)?(s.customScroll&&(g=Math.abs(s.customScroll),f=s.scrollPxToValue(g,t.dir)),s._updateScrollValue(f||c,t),s.customScroll=void 0,!0):!1},_doScrolling:function(e,t,i){var n=t.options,o=n.vScroller,r=n.hScroller,s=t._getVScrollBarSmallChange(),a=t._getVScrollBarLargeChange(),l=t._getHScrollBarLargeChange(),d=t._getHScrollBarSmallChange();if("top"===e||"bottom"===e){if(!t._setScrollerValue(e,o,s,a,"bottom"===e,i,t))return;e="v"}else if("left"===e||"right"===e){if(!t._setScrollerValue(e,r,d,l,"right"===e,i,t))return;e="h"}t._setDragAndContentPosition(!0,!0,e)},_disableButtonIfNeeded:function(e){var t=e._fields(),i=e.options,n=t.buttonLeft,o=t.buttonRight,r=t.buttonTop,s=t.buttonBottom,a,l,d,c,h,u,p,f;t.intervalID>0&&window.clearInterval(t.intervalID),void 0!==n&&(a=e._getHScrollBarLargeChange(),l=i.hScroller.scrollMax-a+1,d=i.hScroller.scrollValue,c=i.hScroller.scrollMin,void 0===d&&(d=c),Math.abs(d-c)<.001||!t.hScrolling?n.addClass(i.wijCSS.stateDisabled):n.removeClass(i.wijCSS.stateDisabled),Math.abs(d-l)<.001||!t.hScrolling?o.addClass(i.wijCSS.stateDisabled):o.removeClass(i.wijCSS.stateDisabled)),void 0!==r&&(h=e._getVScrollBarLargeChange(),u=i.vScroller.scrollMax-h+1,p=i.vScroller.scrollValue,f=i.vScroller.scrollMin,void 0===p&&(p=f),Math.abs(p-f)<.001||!t.vScrolling?r.addClass(i.wijCSS.stateDisabled):r.removeClass(i.wijCSS.stateDisabled),Math.abs(p-u)<.001||!t.vScrolling?s.addClass(i.wijCSS.stateDisabled):s.removeClass(i.wijCSS.stateDisabled))},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_elementMouseOut:function(e){var t=i(e.currentTarget),n=e.data;t.unbind("mouseout",n._elementMouseOut),t.unbind("mousedown",n._elementMouseDown),t.unbind("mouseup",n._elementMouseUp),t.removeClass(n.options.wijCSS.stateHover)},_getScrollOffset:function(e){var t=i(e),n=this._fields(),o=n.contentWrapper,r=n.templateWrapper,s,a,l,d,c,h,u,p={left:null,top:null};return 0===t.length?p:(s=t.offset(),a=r.offset(),s.leftWidth=s.left+t.outerWidth(),s.topHeight=s.top+t.outerHeight(),l=o.offset(),l.leftWidth=l.left+o.outerWidth(),l.topHeight=l.top+o.outerHeight(),h=s.left-a.left,s.left<l.left?p.left=h:s.leftWidth>l.leftWidth&&(u=s.leftWidth-a.left-o.innerWidth(),u>h?p.left=h:p.left=u),d=s.top-a.top,s.top<l.top?p.top=d:s.topHeight>l.topHeight&&(c=s.topHeight-a.top-o.innerHeight(),c>d?p.top=d:p.top=c),p)},_scrollDrag:function(e,t,i,n){var o=this,r=o.options,s="v"===e,a=s?r.vScroller:r.hScroller,l=a.scrollMin,d=a.scrollMax,c=void 0===a.scrollValue?l:a.scrollValue-l,h=o._getLargeChange(e),u=d-l-h+1,p=-1,f,g,m;c>u&&(c=u),void 0!==t&&(f=o._getTrackLen(e),g=i[s?"outerHeight":"outerWidth"](),m=o._getScrollContainerPadding(s?"top":"left"),p=c/u*(f-g)+m),p>=0&&i.css(s?"top":"left",p+"px"),o._scrollEnd(n,o,e)},needToScroll:function(e){var t=this._getScrollOffset(e);return null!==t.top||null!==t.left},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),i=t.left,n=t.top;null!==i&&this.hScrollTo(i),null!==n&&this.vScrollTo(n)},hScrollTo:function(e,t){var i=this.options;this._updateScrollValue(t?e:this.scrollPxToValue(e,"h"),i.hScroller),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(e,t){var i=this.options;this._updateScrollValue(t?e:this.scrollPxToValue(e,"v"),i.vScroller),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(e,t){var i=this.options,n="h"===t?"outerWidth":"outerHeight",o="h"===t?"contentWidth":"contentHeight",r="h"===t?"hScroller":"vScroller",s=this._fields(),a=s.contentWrapper,l=s[o],d=a[n](),c=i[r].scrollMin,h=i[r].scrollMax,u=h-c,p="h"===t?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange(),f=u-p+1,g=f*(e/(l-d));return c>g&&(g=c),g>f&&(g=f),g},scrollTo:function(e,t,i){this.hScrollTo(e,i),this.vScrollTo(t,i)},refresh:function(){this.paintPanel()},paintPanel:function(e){var t=this,n=t.element,o,r,s,a;return n.is(":visible")?(o="unknown"!=typeof document.activeElement?document.activeElement:void 0,r=t.options,s=t._fields(),s.initialized||t._initialize(s,n,t),t._resetLargeChange(t,s,r),t._bindElementEvents(t,s,n,r),a=s.templateWrapper,a.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"}),a.hide(),a.show(),s.contentWidth=a.width(),s.contentHeight=a.height(),a.css("float",""),t._setRounder(t,n),t._setInnerElementsSize(s,n),t._testScroll(t,s,r)===!1?!1:(t._initScrollBars(t,s,r),t._initScrollButtons(t,s,r),t._trigger("painted"),t._paintedMark={date:new Date,mainWidth:n[0].offsetWidth,mainHeight:n[0].offsetHeight,width:s.contentWidth,height:s.contentWidth},void 0!==o&&!e&&i(o).focus(),!0)):!1},_resetLargeChange:function(e,t,i){var n;e._autoVLarge&&(i.vScroller.scrollLargeChange=null),e._autoHLarge&&(i.hScroller.scrollLargeChange=null),t.vTrackLen=void 0,t.hTrackLen=void 0,t.vbarContainer&&(n=t.vbarContainer.children("."+s+":eq(0)"),n.detach(),t.vbarContainer.remove(),t.vbarContainer=void 0),t.hbarContainer&&(n=t.hbarContainer.children("."+s+":eq(0)"),n.detach(),t.hbarContainer.remove(),t.hbarContainer=void 0)},_initialize:function(e,t,i){var n=i.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",n.widget,n.content].join(" ")),e.oldHeight=t.css("height");var o=t.css("overflow");t.css("overflow",""),t.height(t.height()),t.css("overflow",o),i._createAdditionalDom(i,e,t)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(e,t,n,o,r,s,a){var l="h"===o,d="mouseover."+e.widgetName,c=l?"buttonLeft":"buttonTop",h=l?"buttonRight":"buttonBottom",u=s[c],g=s[h],m,w,v;e._hasMode(n,"buttons")||e._hasMode(n,"buttonshover")?(m=l?p:f,void 0===u&&(w=i(m).appendTo(a),w.bind(d,e,e._scrollButtonMouseOver),s[c]=u=a.children(l?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop"),s[h]=g=a.children(l?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")),v={my:l?"left":"top",of:r,at:l?"left":"top",collision:"none"},i.extend(v,n.decreaseButtonPosition),u.position(v),v={my:l?"right":"bottom",of:r,at:l?"right":"bottom",collision:"none"},i.extend(v,n.increaseButtonPosition),g.position(v)):void 0!==u&&(u.remove(),g.remove(),s[c]=s[h]=void 0)},_initScrollButtons:function(e,t,i){var n=t.contentWrapper,o=t.stateContainer;e._setButtonPosition(e,i,i.hScroller,"h",n,t,o),e._setButtonPosition(e,i,i.vScroller,"v",n,t,o)},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(e){var t=this,i=t.options,n=t._fields(),o="v"===e,r=o?i.vScroller:i.hScroller,s=o?"innerHeight":"innerWidth",a=o?"contentHeight":"contentWidth",l=o?"_autoVLarge":"_autoHLarge",d,c,h,u,p,f,g,m;return r.scrollLargeChange?r.scrollLargeChange:(d=r.scrollMax,c=r.scrollMin,h=d-c,u=n.contentWrapper,p=u[s](),f=n[a],g=p/(f-p),m=(h+1)*g/(1+g),isNaN(m)&&(m=0),r.scrollLargeChange=m,t[l]=!0,r.scrollLargeChange)},_getHScrollBarSmallChange:function(){var e=this.options,t;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(e,t,n){var o=n.hScroller,r=o.scrollMax,s=o.scrollMin,a=r-s,l=n.vScroller,d=l.scrollMax,c=l.scrollMin,h=d-c,u=t.hbarDrag,p=t.vbarDrag,f,g,m,w,v,b,_,y,C,S;e.hNeedScrollBar&&u.is(":visible")&&(f=e._getHScrollBarLargeChange(),g=e._getTrackLen("h"),m=e._getDragLength(a,f,g,n.hScroller.scrollMinDragLength),u.width(m),w=u.outerWidth(!0)-u.width(),u.width(m-w),v=u.children("span"),v.css("margin-left",(u.width()-v[0].offsetWidth)/2),g<=u.outerWidth(!0)?u.hide():u.show(),1==e._isDragging&&(i(document).trigger("mouseup"),e._isDragging=!1)),e.vNeedScrollBar&&p.is(":visible")&&(b=e._getVScrollBarLargeChange(),_=e._getTrackLen("v"),y=e._getDragLength(h,b,_,n.vScroller.scrollMinDragLength),p.height(y),C=p.outerHeight(!0)-p.height(),p.height(y-C),S=p.children("span"),S.css("margin-top",(p.height()-S[0].offsetHeight)/2),_<=p.outerHeight(!0)?p.hide():p.show(),1==e._isDragging&&(i(document).trigger("mouseup"),e._isDragging=!1)),e._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(e){var t=this,i=t._fields(),n=e+"TrackLen",o=i.hbarContainer,r=i.vbarContainer,s=0,a=0;return void 0!==i[n]?i[n]:("h"===e&&(a=t._getScrollContainerPadding("h"),s=o.innerWidth()),"v"===e&&(a=t._getScrollContainerPadding("v"),s=r.innerHeight()),i[n]=s-a,i[n])},_getScrollContainerPadding:function(e){var t=this,i=t._fields(),n=0,o,r;if("h"===e)n=t._getScrollContainerPadding("left")+t._getScrollContainerPadding("right");else if("v"===e)n=t._getScrollContainerPadding("top")+t._getScrollContainerPadding("bottom");else{if(o="left"===e||"right"===e?i.hbarContainer:i.vbarContainer,r=e+"Padding",void 0!==i[r])return n=i[r];o&&o.css&&(n=parseFloat(o.css("padding-"+e))),i[r]=n}return n},_triggerScroll:function(e,t,i){var n={position:e,dir:t,animationOptions:i};this._trigger("scroll",null,n)},_contentDragAnimate:function(e,t,n,o,r,s,a){var l=this,d=l.options,c="v"===e,h=c?d.vScroller:d.hScroller,u=c?"outerHeight":"outerWidth",p=c?"innerHeight":"innerWidth",f=c?"contentHeight":"contentWidth",g=c?"top":"left",m=h.scrollMin,w=h.scrollMax,v=w-m,b=void 0===h.scrollValue?m:h.scrollValue-m,_=l._getLargeChange(e),y=v-_+1,C=l._fields(),S=C.contentWrapper,j=C.templateWrapper,x,D,k,T,M,I,A,W,B,P,O,z;b>y&&(b=y),x=(C[f]-S[p]())*(b/y),Math.abs(x)<.001&&(x=0),x=Math.round(x),D=-1,void 0!==n&&(t&&o.is(":animated")&&"nonestop"!==r&&o.stop(!0,!1),k=l._getTrackLen(e),T=o[u](!0),M=k-T,I=l._getScrollContainerPadding(g),D=b/y*M+I),t&&d.animationOptions&&!d.animationOptions.disabled?(D>=0&&"dragging"!==a&&(A=i.extend({},d.animationOptions),A.complete=void 0,W=c?{top:D}:{left:D},o.animate(W,A)),B=i.extend({},d.animationOptions),P=d.animationOptions.complete,B.complete=function(){l._scrollEnd(s,l,e),i.isFunction(P)&&P(arguments)},t&&j.is(":animated")&&"nonestop"!==r&&j.stop(!0,!1),O=c?{top:-x}:{left:-x},d.customScrolling?l._scrollEnd(s,l,e,b):j.animate(O,B),l._triggerScroll(x,e,B)):"hidden"!==h.scrollBarVisibility&&(z=c?"top":"left",D>=0&&"dragging"!==a&&(o[0].style[z]=D+"px"),d.customScrolling||(j[0].style[z]=-x+"px"),l._triggerScroll(x,e),l._scrollEnd(s,l,e,b))},_setDragAndContentPosition:function(e,t,i,n,o){var r=this,s=r._fields(),a=s.hbarContainer,l=s.hbarDrag,d=s.vbarContainer,c=s.vbarDrag;("both"===i||"h"===i)&&s.hScrolling&&r._contentDragAnimate("h",t,a,l,n,e,o),("both"===i||"v"===i)&&s.vScrolling&&r._contentDragAnimate("v",t,d,c,n,e,o),s.intervalID>0&&window.clearInterval(s.intervalID),s.intervalID=window.setInterval(function(){r._disableButtonIfNeeded(r)},500)},_scrolling:function(e,t,i){var n=!0;return e&&(i.beforePosition=t.getContentElement().position(),t._beforePosition=i.beforePosition,n=t._trigger("scrolling",null,i),t.customScroll=i.customScroll),n},_scrollEnd:function(e,t,i,n){e&&window.setTimeout(function(){var e=t.getContentElement(),o,r;e.is(":visible")&&(o=t.getContentElement().position(),r={dir:i,beforePosition:t._beforePosition,afterPosition:o},isNaN(n)||(r.newValue=n),t._trigger("scrolled",null,r))},0)},_getDragLength:function(e,t,i,n){var o=e/t,r=i/o,s=n;return s>r?r=s:r+1>=i&&(r=i-1),Math.round(r)},_needScrollbar:function(e,t){var i=this._hasMode(e,"scrollbar"),n=e.scrollBarVisibility,o=i&&("visible"===n||"auto"===n&&t);return o},_bindBarEvent:function(e,t,n){var o=this;e.bind("mouseover."+o.widgetName,o,o._scrollerMouseOver),i.fn.draggable&&t.draggable({axis:"h"===n?"x":"y",start:function(e,t){return o.options.disabled?!1:void(o._isDragging=!0)},drag:function(e,t){o._dragging(e,t,o)},containment:"parent",stop:function(e){o._dragStop(e,o,n),i(e.target).removeClass(c),o._isDragging=!1}})},_createBarIfNeeded:function(e,t,n,o,r){if(e){var a=this,l,d=a._fields(),c=n+"barContainer",h=n+"barDrag",u="h"===n,p=r[u?"innerHeight":"innerWidth"](),f=d[c]=i(o),g,m;if(t.append(f),g=f[0][u?"offsetHeight":"offsetWidth"],p-=g,l={direction:u?"horizontal":"vertical",targetBarLen:g,contentLength:p},a._trigger(u?"hScrollerActivating":"vScrollerActivating",null,l)===!1)return!1;m=d[h]=f.find("."+s),a._bindBarEvent(f,m,n),r[u?"height":"width"](p)}},_setScrollbarPosition:function(e,t,i,n,o,r,s,a,l,d,c){var h="h"===d,u,p,f,g,m,w,v,b,_,y=t.options.wijCSS;r?(u=n[0][h?"offsetHeight":"offsetWidth"],p=t._getScrollContainerPadding(d),f=h?"top":"left",g=h?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},m=h?{top:u+"px",left:null}:{left:u+"px"},w=h?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},v=h?{top:"",left:null}:{left:""},b=i[h?"innerWidth":"innerHeight"](),a===f?(n.css(g),i.css(m),h?(n.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(y.cornerBL).addClass(y.cornerTL),n.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(y.cornerBR).addClass(y.cornerTR),n.removeClass(y.cornerBottom).addClass(y.cornerTop)):(n.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(y.cornerTR).addClass(y.cornerTL),n.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(y.cornerBR).addClass(y.cornerBL),n.removeClass(y.cornerRight).addClass(y.cornerLeft))):(n.css(w),i.css(v),h?(n.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(y.cornerTL).addClass(y.cornerBL),n.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(y.cornerBL).addClass(y.cornerBR),n.removeClass(y.cornerTop).addClass(y.cornerBottom)):(n.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(y.cornerTL).addClass(y.cornerTR),n.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(y.cornerBL).addClass(y.cornerBR),n.removeClass(y.cornerLeft).addClass(y.cornerRight))),_=0,s&&(_=o[0][h?"offsetWidth":"offsetHeight"],"left"===l?n.css("right","0px"):"right"===l?n.css("left","0px"):"top"===l?n.css("bottom","0px"):"bottom"===l&&n.css("top","0px")),!h&&s&&(_=0),n[h?"width":"height"](b-p),t._enableDisableScrollBar(d,n,!c)):e.css(h?"left":"top","")},_testScroll:function(e,t,i){var n=t.templateWrapper,o=t.contentWrapper,r=t.stateContainer,s=o.innerWidth(),a=o.innerHeight(),l=t.contentWidth,d=t.contentHeight,c,p,f,g,m,w;return t.hScrolling=l>s,t.vScrolling=d>a,c=e.hNeedScrollBar=e._needScrollbar(i.hScroller,t.hScrolling),e._createBarIfNeeded(c,r,"h",h,o)===!1?!1:(c&&!t.vScrolling&&(n.css("float","left"),t.contentHeight=n.height(),t.vScrolling=t.contentHeight>a-t.hbarContainer[0].offsetHeight,n.css("float","")),p=e.vNeedScrollBar=e._needScrollbar(i.vScroller,t.vScrolling),e._createBarIfNeeded(p,r,"v",u,o)===!1?!1:p&&!t.hScrolling&&(n.css("float","left"),t.contentWidth=n.width(),t.hScrolling=t.contentWidth>s-t.vbarContainer[0].offsetWidth,n.css("float",""),t.hScrolling&&!c&&(c=e.hNeedScrollBar=e._needScrollbar(i.hScroller,t.hScrolling),e._createBarIfNeeded(c,r,"h",h,o)===!1))?!1:(f=t.hbarContainer,g=t.vbarContainer,m=i.hScroller.scrollBarPosition,w=i.vScroller.scrollBarPosition,e._setScrollbarPosition(n,e,o,f,g,c,p,m,w,"h",t.hScrolling),e._setScrollbarPosition(n,e,o,g,f,p,c,w,m,"v",t.vScrolling),void 0))},_enableDisableScrollBar:function(e,t,i){var n=this.options;"v"===e?(t[i?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled"),t.find("."+n.wijCSS.stateDefault)[i?"addClass":"removeClass"](n.wijCSS.stateDisabled)):"h"===e&&(t[i?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled"),t.find("."+n.wijCSS.stateDefault)[i?"addClass":"removeClass"](n.wijCSS.stateDisabled)),t.children("."+s)[i?"hide":"show"]()},_initResizer:function(){var e=this,t=e.options,n=e._fields(),o=n.resizer,r,s;i.fn.resizable&&(!o&&t.allowResize&&(r=t.resizableOptions,s=r.stop,r.stop=function(t){e._resizeStop(t,e),i.isFunction(s)&&s(t)},n.resizer=o=e.element.resizable(r)),!t.allowResize&&n.resizer&&(o.resizable("destroy"),n.resizer=null))},_resizeStop:function(e,t){this.options.autoRefresh||t.paintPanel(!0),t._trigger("resized")},_createAdditionalDom:function(e,t,n){n.attr("tabindex")||(n.attr("tabindex","-1"),t.tabindex=!0);var o=t.stateContainer=i(a),r,s=e.options.wijCSS;t.contentWrapper=o.children(),r=t.templateWrapper=t.contentWrapper.children(),n.contents().each(function(e,n){var o=i(n);return o.hasAllClasses(s.superpanelHeader)?void(t.header=o):o.hasAllClasses(s.superpanelFooter)?void(t.footer=o):void r[0].appendChild(n)}),void 0!==t.header&&n.prepend(t.header),n[0].appendChild(o[0]),void 0!==t.footer&&t.footer.insertAfter(o)},_setRounder:function(e,t){if(this.options.showRounder){if(t.addClass(this.options.wijCSS.cornerAll),e._rounderAdded)return;if(i.browser.msie)return;var n="",o="",r,s;i.browser.webkit?(o="WebkitBorderTopLeftRadius",n="WebkitBorderRadius"):i.browser.mozilla?(o="MozBorderRadiusBottomleft",n="MozBorderRadius"):(o="border-top-left-radius",n="border-radius"),r=t.css(o),s=parseInt(r,10),t.css(n,s+1),e._rounderAdded=!0,e._radiusKey=n}else t.removeClass(this.options.wijCSS.cornerAll)},_setInnerElementsSize:function(e,t){var i=e.stateContainer,n=e.contentWrapper,o=0,r,s,a,l;void 0!==e.header&&(o+=e.header.outerHeight()),void 0!==e.footer&&(o+=e.footer.outerHeight()),r=i[0].style,s=t.innerHeight()-o,a=t.innerWidth(),r.display="none",r.height=s+"px",r.width=a+"px",l=n[0].style,l.height=s+"px",l.width=a+"px",r.display=""}}),o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new n),i.wijmo.registerWidget("wijsuperpanel",o.prototype)}}(e.superpanel||(e.superpanel={}));var t=e.superpanel}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijtextbox",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.element,n=e.options.wijCSS,o={input:!0,textarea:!0},r={text:!0,password:!0,email:!0,url:!0},s=t.get(0).nodeName.toLowerCase();window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),o.hasOwnProperty(s)&&("input"!==s||!e.element.attr("type")||r.hasOwnProperty(e.element.attr("type").toLowerCase()))&&(t.addClass(n.wijtextbox).addClass(n.widget).addClass(n.stateDefault).addClass(n.cornerAll),e.element.bind("mouseover."+e.widgetName,function(){t.addClass(n.stateHover)}).bind("mouseout."+e.widgetName,function(){t.removeClass(n.stateHover)}).bind("mousedown."+e.widgetName,function(){t.addClass(n.stateActive)}).bind("mouseup."+e.widgetName,function(){t.removeClass(n.stateActive)}).bind("focus."+e.widgetName,function(){t.addClass(n.stateFocus)}).bind("blur."+e.widgetName,function(){t.removeClass(n.stateFocus)}),t.is(":disabled")?(e._setOption("disabled",!0),t.addClass(n.stateDisabled)):(e._setOption("disabled",!1),t.removeClass(n.stateDisabled)))},t.prototype.destroy=function(){var t=this,i=t.options.wijCSS;t.element.removeClass(i.widget).removeClass(i.stateDefault).removeClass(i.cornerAll).removeClass(i.stateHover).removeClass(i.stateActive).removeClass(i.wijtextbox).unbind("."+t.widgetName),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijtextbox=o;var r=function(){function e(){this.initSelector=":jqmData(role='wijtextbox')",this.wijCSS={wijtextbox:"wijmo-wijtextbox"}}return e}();o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new r),i.wijmo.registerWidget(n,o.prototype)}(e.textbox||(e.textbox={}));var t=e.textbox}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijdropdown",o=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype._setOption=function(e,i){var n=this,o=n.options.wijCSS;t.prototype._setOption.call(this,e,i),"disabled"===e&&(n._labelWrap.toggleClass(o.stateDisabled,i),n._label.toggleClass(o.stateDisabled,i),n.element.attr("disabled",i?"disabled":""))},n.prototype._create=function(){var e=this,t=e.element;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),"select"===t.get(0).tagName.toLowerCase()&&(t.is(":visible")?(e._activeItem=null,e._createSelect(),e._bindEvents(),e.needInit=!1):e.needInit=!0,e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijdropdown"))},n.prototype._createSelect=function(){this.cssWidth=this.element.get(0).style.width;var e=this,t=e.options,n=e.options.wijCSS,o=e.element,r=o.width(),s=r,a=o.wrap("<div></div>").parent().addClass(n.helperHidden),l=a.wrap("<div></div>").parent().attr("role","select").addClass(n.wijdropdown).addClass(n.widget).addClass(n.stateDefault).addClass(n.cornerAll).addClass(n.helperClearFix),d=i("<label></label>").addClass(n.wijdropdownLabel).addClass(n.cornerAll).attr("id",o.get(0).id+"_select"),c=i("<div></div>").addClass(n.wijdropdownTrigger).addClass(n.stateDefault).addClass(n.cornerRight),h=i('<a href="#"></a>'),u=i("<div>").addClass(n.wijmodropdown),p=i("<ul></ul>").addClass(n.wijdropdownList).addClass(n.content).addClass(n.widget).addClass(n.cornerAll).addClass(n.helperReset).appendTo(u);o.attr("name")&&""!==o.attr("name")&&d.attr("name",o.attr("name")),i("<span></span>").addClass(n.icon).addClass(n.iconArrowDown).appendTo(c),""!==o.get(0).tabIndex&&h.attr("tabindex",o.attr("tabindex")),o.get(0).disabled!==!1&&(e.options.disabled=!0),e.options.disabled&&(h.addClass(n.stateDisabled),d.addClass(n.stateDisabled)),h.append(d),l.append(a).append(h).append(c),t.ensureDropDownOnBody?u.wrap(i("<div></div>").addClass(n.wijdropdown)).parent().appendTo("body").css("position","absolute"):l.append(u),s+=parseInt(d.css("padding-left").replace(/px/,""),10),s+=parseInt(d.css("padding-right").replace(/px/,""),10),s-=16,l.width(s),e._container=l,e._buildList(p,u,s),e._rightTrigger=c,e._label=d,e._listContainer=u,e._list=p,e._value=o.val(),e._selectedIndex=i("option",o).index(o.find("option:selected")),e._selectWrap=a,e._labelWrap=h,l.attr("title",o.attr("title"))},n.prototype._buildList=function(e,t,n){var o=this,r=o.options.wijCSS,s=o.element,a;t.show(),s.children().each(function(t,n){var s=i(n),a,l,d,c=!1;return s.is("option")?e.append(o._buildItem(s)):(a=i("<li></li>").addClass(r.wijdropdownOptgroup),l=i("<span>"+s.attr("label")+"</span>").addClass(r.wijdropdownOptgroupHeader).addClass(r.priorityPrimary),d=i("<ul></ul>").addClass(r.helperReset).addClass(r.wijdropdownItems),"disabled"==s.attr("disabled")&&(c=!0,a.addClass(r.stateDisabled)),s.children("option").each(function(){return c&&i(this).attr("disabled","disabled"),d.append(o._buildItem(i(this))),this}),a.append(l).append(d),e.append(a)),this}),t.height(""),a=t.height(),a=e.outerHeight()<a?e.outerHeight():a,(""===this.cssWidth||"auto"===this.cssWidth)&&e.outerWidth()>n-19&&(n=e.outerWidth()+10,this._container.width(n)),t.css({height:a,width:n}),i.browser.msie&&/^[8]\.[0-9]+/.test(i.browser.version)?e.setOutWidth(n-19):e.setOutWidth(n-18),t.data("wijmoWijsuperpanel")?(t.wijsuperpanel("paintPanel"),o.superpanel=t.data("wijmoWijsuperpanel")):o.superpanel=t.wijsuperpanel().data("wijmoWijsuperpanel"),i.fn.bgiframe&&o.superpanel.element.bgiframe(),o.superpanel.vNeedScrollBar||(i.browser.msie&&/^[8]\.[0-9]+/.test(i.browser.version)?e.setOutWidth(n-1):e.setOutWidth(n),o.superpanel.refresh()),t.hide()},n.prototype._handelEvents=function(e){var t=this,i=t.options.wijCSS,n="."+t.widgetName,o=t.element;e.bind("click"+n,function(i){t.options.disabled||(t._listContainer.is(":hidden")?t._show():t._hide(),o.click(),e.get(0)===t._label.get(0)?i.preventDefault():t._labelWrap.focus())}).bind("mouseover"+n,function(){t.options.disabled||(t._label.addClass(i.stateHover),t._rightTrigger.addClass(i.stateHover),o.trigger("mouseover"))}).bind("mouseout"+n,function(){t.options.disabled||(t._label.removeClass(i.stateHover),t._rightTrigger.removeClass(i.stateHover),o.trigger("mouseout"))}).bind("mousedown"+n,function(){t.options.disabled||(t._label.addClass(i.stateActive),t._rightTrigger.addClass(i.stateActive),o.trigger("mousedown"))}).bind("mouseup"+n,function(){t.options.disabled||(t._label.removeClass(i.stateActive),t._rightTrigger.removeClass(i.stateActive),o.trigger("mouseup"))})},n.prototype._bindEvents=function(){var t=this,n=t.options.wijCSS,o="."+t.widgetName,r=t._label,s=t._rightTrigger,a=t._labelWrap,l=t._listContainer,d=t.element,c=!1,h;t._handelEvents(t._label),t._handelEvents(t._rightTrigger),i(window).bind("resize",function(e){t._setListContainerPosition()}),i(document).bind("mouseup"+o,function(e){return l.is(":hidden")?(r.removeClass(n.stateFocus),void s.removeClass(n.stateFocus)):(h=l.offset(),void(e.target!==r.get(0)&&e.target!==s.get(0)&&e.target!==s.children().get(0)&&(i(e.target).closest(l).length>0||(e.pageX<h.left||e.pageX>h.left+l.width()||e.pageY<h.top||e.pageY>h.top+l.height())&&(r.removeClass(n.stateFocus),
s.removeClass(n.stateFocus),t._hide()))))}),l.bind("click"+o,function(e){var o=i(e.target),r=o.closest("li"),s=r.attr("disabled")&&"disabled"===r.attr("disabled");s||(o.closest("li."+n.wijdropdownItem,i(this).get(0)).length>0&&(t._setValue(),l.css("z-index",""),i.browser.msie&&/^[6,7].[0-9]+/.test(i.browser.version)&&l.parent().css("z-index",""),l.hide(),t._setValueToEle()),d.click())}),a.bind("keydown"+o,function(i){if(!t.options.disabled){var n=e.getKeyCodeEnum();switch(i.which){case n.UP:case n.LEFT:t._previous(),t._setValue(),t._setValueToEle();break;case n.DOWN:case n.RIGHT:t._next(),t._setValue(),t._setValueToEle();break;case n.PAGE_DOWN:t._nextPage(),t._setValue(),t._setValueToEle();break;case n.PAGE_UP:t._previousPage(),t._setValue(),t._setValueToEle();break;case n.ENTER:case n.NUMPAD_ENTER:t._setValue(),t._listContainer.hide(),t._setValueToEle()}i.which!==n.TAB&&i.preventDefault(),d.trigger("keydown")}}).bind("focus"+o,function(){t.options.disabled||(r.addClass(n.stateFocus),s.addClass(n.stateFocus),d.focus())}).bind("blur"+o,function(){t.options.disabled||(r.removeClass(n.stateFocus),s.removeClass(n.stateFocus),d.trigger("blur"))}).bind("keypress"+o,function(){t.options.disabled||d.trigger("keypress")}).bind("keyup"+o,function(){t.options.disabled||d.trigger("keyup")}),c=/chrome/.test(navigator.userAgent.toLowerCase()),(c||i.browser.safari)&&(a.bind("click"+o,function(){a.focus()}),s.bind("mouseout"+o,function(){t.options.disabled||(r.removeClass(n.stateFocus),s.removeClass(n.stateFocus))}))},n.prototype._setListContainerPosition=function(){var e=this,t=e.options,i;t.ensureDropDownOnBody&&(i=e._container.offset(),e._listContainer.parent().offset({left:i.left,top:i.top+e._container.outerHeight()}))},n.prototype._init=function(){var e=this;e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())},n.prototype._buildItem=function(e){var t=e.val(),n=e.text(),o=this,r=o.options.wijCSS,s;return""===n&&(n="&nbsp;"),s=i("<li></li>").addClass(r.wijdropdownItem).addClass(r.stateDefault).addClass(r.cornerAll).append(i("<span>"+n+"</span>")).attr("role","option"),e.is(":disabled")?s.attr("disabled","disabled").addClass(r.stateDisabled):s.mousemove(function(e){var t=i(e.target).closest("."+r.wijdropdownItem);t!==this.last&&o._activate(i(this)),this.last=i(e.target).closest("."+r.wijdropdownItem)}),s.data("value",t),s},n.prototype._show=function(){var e=this,t=e._listContainer,n=e.options.showingAnimation;e._setListContainerPosition(),t.css("z-index","100000"),i.browser.msie&&/^[6,7]\.[0-9]+/.test(i.browser.version)&&t.parent().css("z-index","99999"),n?t.show(n.effect,n.options,n.speed,function(){e._initActiveItem()}):t.show()},n.prototype._hide=function(){var e=this,t=e._listContainer,n=e.options.hidingAnimation;t.is(":hidden")||(n?t.hide(n.effect,n.options,n.speed,function(){i.isFunction(n.callback)&&n.callback.apply(e,arguments),i.browser.msie&&/^[6,7]\.[0-9]+/.test(i.browser.version)&&t.parent().css("z-index",""),t.css("z-index","")}):(i.browser.msie&&"6.0"===i.browser.version&&t.parent().css("z-index",""),t.css("z-index",""),t.hide()))},n.prototype._setValue=function(){var e=this,t=e.options.wijCSS,n=e._listContainer,o,r;e._activeItem&&(e._label.text(e._activeItem.text()),e._value=e._activeItem.data("value"),e._selectedIndex=i("li."+t.wijdropdownItem,n).index(e._activeItem),e.superpanel.vNeedScrollBar&&(o=e._activeItem.offset().top,r=e._activeItem.outerHeight(),n.offset().top>o?n.wijsuperpanel("scrollTo",0,o-e._list.offset().top):n.offset().top<o+r-n.innerHeight()&&n.wijsuperpanel("scrollTo",0,o+r-n.height()-e._list.offset().top)))},n.prototype._setValueToEle=function(){var e=this,t=e.element,n=t.find(":selected"),o=i("option",t).index(n),r=e._selectedIndex;o!==r&&(i.browser.mozilla&&t.val(e._value),n.removeAttr("selected"),t.find("option:eq("+r+")").prop("selected",!0),t.trigger("change"))},n.prototype._initActiveItem=function(){var e=this,t=e.options.wijCSS;if(void 0!==e._value){if(-1===e._selectedIndex)return void e._activate(e._list.find("li."+t.wijdropdownItem).eq(0));e._list.find("li."+t.wijdropdownItem).each(function(t){return t===e._selectedIndex?(e._activate(i(this)),!1):void 0})}},n.prototype._activate=function(e){var t=this,i=t.options.wijCSS;t._deactivate(),t._activeItem=e,t._activeItem.addClass(i.stateHover).attr("aria-selected",!0)},n.prototype._deactivate=function(){var e=this,t=e.options.wijCSS;e._activeItem&&e._activeItem.removeClass(t.stateHover).attr("aria-selected",!1)},n.prototype._next=function(){this._move("next","first")},n.prototype._previous=function(){this._move("prev","last")},n.prototype._nextPage=function(){this._movePage("first")},n.prototype._previousPage=function(){this._movePage("last")},n.prototype.refresh=function(){var e=this,t=e.options.wijCSS,n=e.element,o;if(e.needInit)e.element.is(":visible")&&(e._activeItem=null,e._createSelect(),e._bindEvents(),e._init(),e.needInit=!1);else{if(!e._list)return;e._listContainer.show(),e._list.empty(),e._buildList(e._list,e._listContainer,o),e._value=e.element.val(),e._selectedIndex=i("option",n).index(n.find("option:selected")),e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())}},n.prototype._move=function(e,t){var i=this,n=i.options.wijCSS,o,r;return i._activeItem?(o=i._activeItem[e]().eq(0),o.length?r=i._getNextItem(o,e,t):i._activeItem.closest("."+n.wijdropdownOptgroup).length&&(r=i._getNextItem(i._activeItem.closest("."+n.wijdropdownOptgroup)[e](),e,t)),r&&r.length||(r=i._getNextItem(i._list.find("."+n.wijdropdownItem+":"+t),e,t)),void i._activate(r)):void i._activate(i._list.find("."+n.wijdropdownItem+":"+t))},n.prototype._movePage=function(e){var t=this,n=t.options.wijCSS,o,r,s,a,l="first"===e?"next":"prev",d="first"===e?"last":"first";t.superpanel.vNeedScrollBar?(o=t._activeItem.offset().top,r=t.options.height,s=t._list.find("."+n.wijdropdownItem).filter(function(){var t=i(this).offset().top-o+("first"===e?-r:r)+i(this).height(),n=i(this).height();return n>t&&t>-n}),s.length||(s=t._list.find("."+n.wijdropdownItem+":"+d))):s=t._list.find("."+n.wijdropdownItem+":"+(t._activeItem?d:e)),a=t._getNextItem(s,l),a&&a.length||(a=t._getNextItem(s,"next"===l?"prev":"next")),t._activate(a)},n.prototype._getNextItem=function(e,t,i){var n=this.options.wijCSS,o;return e.length?(o=e.is("."+n.wijdropdownOptgroup)?e.find(">ul>li."+n.wijdropdownItem).length?e.find(">ul>li."+n.wijdropdownItem+":"+i).eq(0):this._getNextItem(e[t]().eq(0)):e,"disabled"===o.attr("disabled")?o[t]().length?this._getNextItem(o[t](),t):(i||(i="next"==t?"first":"last"),this._getNextItem(o.closest("."+n.wijdropdownOptgroup)[t](),t,i)):o):void 0},n.prototype.destroy=function(){var e=this,i=e.options.wijCSS;this.element.attr("title",this._container.attr("title")),this.element.closest("."+i.wijdropdown).find(">div."+i.wijdropdownTrigger+",>div."+i.wijmodropdown+",>a").remove(),this._listContainer.remove(),this.element.unwrap().unwrap().removeData("maxZIndex"),t.prototype.destroy.call(this)},n}(e.wijmoWidget);t.wijdropdown=o;var r=function(){function e(){this.initSelector=":jqmData(role='wijdropdown')",this.wijCSS={wijmodropdown:"wijmo-dropdown",wijdropdown:"wijmo-wijdropdown",wijdropdownLabel:"wijmo-dropdown-label",wijdropdownTrigger:"wijmo-dropdown-trigger",wijdropdownList:"wijmo-dropdown-list",wijdropdownOptgroup:"wijmo-dropdown-optgroup",wijdropdownOptgroupHeader:"wijmo-optgroup-header",wijdropdownItems:"wijmo-dropdown-items",wijdropdownItem:"wijmo-dropdown-item"},this.zIndex=1e3,this.showingAnimation={effect:"blind"},this.hidingAnimation={effect:"blind"},this.ensureDropDownOnBody=!1}return e}();o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new r),i.wijmo.registerWidget(n,o.prototype)}(e.dropdown||(e.dropdown={}));var t=e.dropdown}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijcheckbox",o="wijcheckbox",r=0,s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._init=function(){var e=this,t=e.element,n=e.options,s,a,l,d,c;t.is(":checkbox")&&(t.attr("id")||(t.attr("id",o+r),r+=1),t.parent().is("label")?(s=t.parent().wrap(i("<div></div>").addClass(n.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijCSS.wijcheckbox).addClass(n.wijCSS.widget),a=t.parent(),a.attr("for",t.attr("id")),s.find("."+n.wijCSS.wijcheckboxInputwrapper).append(t),s.append(a)):s=t.wrap(i("<div></div>").addClass(n.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijCSS.wijcheckbox).addClass(n.wijCSS.widget),l=i("label[for='"+t.attr("id")+"']"),l.length>0&&(s.append(l),l.attr("labelsign","C1")),t.is(":disabled")&&e._setOption("disabled",!0),d=i("<div></div>").addClass(n.wijCSS.wijcheckboxBox).addClass(n.wijCSS.widget).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll).append(i("<span></span>").addClass(n.wijCSS.wijcheckboxIcon)),n.disabled&&d.addClass(n.wijCSS.stateDisabled),c=d.children("."+n.wijCSS.wijcheckboxIcon),s.append(d),t.data("iconElement",c),t.data("boxElement",d),t.data("checkboxElement",s),d.removeClass(n.wijCSS.wijcheckboxRelative).attr("role","checkbox").bind("mouseover",function(){t.mouseover(null)}).bind("mouseout",function(){t.mouseout(null)}),(0===l.length||""===l.html())&&d.addClass(n.wijCSS.wijcheckboxRelative),t.bind("click.checkbox",function(t){n.disabled||(e.refresh(t),e._trigger("changed",null,{checked:e.options.checked}))}).bind("focus.checkbox",function(){n.disabled||d.addClass(n.wijCSS.stateFocus)}).bind("blur.checkbox",function(){n.disabled||d.removeClass(n.wijCSS.stateFocus).not("."+n.wijCSS.stateHover)}).bind("keydown.checkbox",function(t){if(32===t.keyCode){if(n.disabled)return;e.refresh(null)}}),d.bind("click.checkbox",function(i){n.disabled||(t.get(0).checked=!t.get(0).checked,t.change(),t.focus(),e.refresh(i),e._trigger("changed",null,{checked:e.options.checked}))}),e._initCheckState(),e.refresh(null),s.bind("mouseover.checkbox",function(e){n.disabled||d.addClass(n.wijCSS.stateHover)}).bind("mouseout.checkbox",function(e){n.disabled||d.removeClass(n.wijCSS.stateHover).not("."+n.wijCSS.stateFocus)}),s.attr("title",t.attr("title")))},t.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i))},t.prototype._setOption=function(t,i){var n=this,o=n.options,r,s=o.checked;e.prototype._setOption.call(this,t,i),"checked"===t?(n.element.get(0).checked=i,n.refresh(null),s!==i&&n._trigger("changed",null,{checked:i})):"disabled"===t&&(r=n.element.data("boxElement"),n.element.prop("disabled",i),r&&r.toggleClass(o.wijCSS.stateDisabled,i))},t.prototype._initCheckState=function(){var e=this,t=e.options;void 0!==t.checked&&null!==t.checked&&(e.element.get(0).checked=t.checked)},t.prototype.refresh=function(e){var t=this,i=t.options;i.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass(i.wijCSS.icon+" "+i.wijCSS.iconCheck,t.element.get(0).checked),t.element.data("boxElement").toggleClass(i.wijCSS.stateActive,t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass(i.wijCSS.stateChecked,t.element.get(0).checked),e&&e.stopPropagation()},t.prototype.destroy=function(){var t=this,i=t.element.parent().parent();i.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijcheckbox=s;var a=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();s.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new a),i.wijmo.registerWidget(n,s.prototype)}(e.checkbox||(e.checkbox={}));var t=e.checkbox}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijradio",o="wijmo-wijradio",r=0,s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.element,n=e.options.wijCSS,s,a,l,d,c,h;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),t.is(":radio")&&(t.attr("id")||(t.attr("id",o+r),r+=1),t.parent().is("label")?(a=t.parent().wrap(i("<div></div>").addClass(n.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijradio).addClass(n.widget),l=t.parent(),l.attr("for",t.attr("id")),a.find("."+n.wijradioInputwrapper).append(t),a.append(l)):a=t.wrap(i("<div></div>").addClass(n.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(n.wijradio).addClass(n.widget),d=i("label[for='"+t.attr("id")+"']"),d.length>0&&(a.append(d),d.attr("labelsign","wij")),t.is(":disabled")&&e._setOption("disabled",!0),c=i("<div></div>").addClass(n.wijradioBox).addClass(n.widget).addClass(n.stateDefault).addClass(n.cornerAll).append(i("<span></span>").addClass(n.wijradioIcon)),e.options.disabled&&c.addClass(n.stateDisabled),h=c.children("."+n.wijradioIcon),a.append(c),h.addClass(n.icon).addClass(n.iconRadioOn),t.data("iconElement",h),t.data("boxElement",c),t.data("radiobuttonElement",a),c.removeClass(n.wijradioRelative).attr("role","radio").bind("mouseover",function(){t.mouseover(null)}).bind("mouseout",function(){t.mouseout(null)}),(0===d.length||""===d.html())&&c.addClass(n.wijradioRelative),e._setDefaul(),t.bind("click.radio",function(){e.options.disabled||(s=e.options.checked,e._refresh(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked}))}).bind("focus.radio",function(){e.options.disabled||c.addClass(n.stateFocus)}).bind("blur.radio",function(){e.options.disabled||c.removeClass(n.stateFocus)}),a.click(function(){e.options.disabled||(0===d.length||""===d.html())&&(s=e.options.checked,t.prop("checked",!0),e._refresh(),t.change(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked}))}),a.bind("mouseover.radio",function(){e.options.disabled||c.addClass(n.stateHover)}).bind("mouseout.radio",function(){e.options.disabled||c.removeClass(n.stateHover)}),a.attr("title",t.attr("title")))},t.prototype._setOption=function(t,i){var n=this,o=n.options.checked;e.prototype._setOption.call(this,t,i),"checked"===t&&(n.element.prop("checked",i),n._refresh(),o!==i&&n._trigger("changed",null,{checked:i}))},t.prototype._setDefaul=function(){var e=this,t=e.options;void 0!==t.checked&&null!==t.checked&&this.element.prop("checked",t.checked),this.element.prop("checked")&&(this.element.parents("."+t.wijCSS.wijradio).find("."+t.wijCSS.wijradioBox).children().removeClass(t.wijCSS.iconRadioOn).addClass(t.wijCSS.iconRadioOff),this.element.data("boxElement").addClass(t.wijCSS.stateActive).attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass(t.wijCSS.stateChecked))},t.prototype._refresh=function(){var e=this.element.attr("name")||"",t=this,n=t.options.wijCSS,o;""!==e&&(i("[name='"+e+"']").each(function(e,r){return i(r).parents("."+n.wijradio).find("."+n.wijradioBox).children().removeClass(n.iconRadioOff).addClass(n.iconRadioOn),i(r).parents("."+n.wijradio).find("."+n.wijradioBox).removeClass(n.stateActive).attr("aria-checked",!1),i(r).parents("."+n.wijradio).removeClass(n.stateChecked),o=i(r).parents("."+n.wijradio).find(":radio"),o.wijradio("option","checked")&&o[0]!==t.element[0]&&o.wijradio("setCheckedOption",!1),this}),t.element.is(":checked")&&(t.element.data("iconElement").removeClass(n.iconRadioOn).addClass(n.iconRadioOff),t.element.data("boxElement").addClass(n.stateActive).attr("aria-checked",!0),t.element.data("radiobuttonElement").addClass(n.stateChecked)),t.options.checked=t.element.is(":checked"))},t.prototype.setCheckedOption=function(e){var t=this,i=t.options;null!==i.checked&&i.checked!==e&&(i.checked=e,t._trigger("changed",null,{checked:e}))},t.prototype.refresh=function(){this._refresh()},t.prototype.destroy=function(){var t=this,i=t.element.parent().parent();i.children("div."+t.options.wijCSS.wijradioBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijradio=s;var a=function(){function e(){this.initSelector=":jqmData(role='wijradio')",this.wijCSS={wijradio:"wijmo-wijradio",wijradioBox:"wijmo-wijradio-box",wijradioIcon:"wijmo-wijradio-icon",wijradioInputwrapper:"wijmo-wijradio-inputwrapper",wijradioRelative:"wijmo-wijradio-relative"},this.checked=null,this.changed=null}return e}();s.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new a),i.wijmo.registerWidget(n,s.prototype)}(e.radio||(e.radio={}));var t=e.radio}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijlist",o="wijmo-wijlist-item",r=o+"-alternate",s=o+"-selected",a=o+"-first",l=o+"-last",d="wijmo-wijlistitem-active",c="item.wijlist",h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.removeAll=function(){var e=this;e.items=[],e._refresh()},t.prototype.addItem=function(e,t){var i=this;i._checkData(),null===t||void 0===t?i.items.push(e):i.items&&i.items.splice(t,0,e),i._refresh(),i._trigger("added",null,{item:e,index:t})},t.prototype.removeItem=function(e){var t=this,i;t._checkData(),i=t.indexOf(e),i>=0&&t.removeItemAt(i)},t.prototype.indexOf=function(e){var t=this,i=-1,n=0,o;for(t._checkData(),n=0;n<t.items.length;n++)if(o=t.items[n],o.label===e.label&&o.value===e.value){i=n;break}return i},t.prototype.findIndexByLabel=function(e){var t=this,i=-1,n=0,o;if(null===e||void 0===e)return i;for(t._checkData(),n=0;n<t.items.length;n++)if(o=t.items[n],o.label===e){i=n;break}return i},t.prototype.removeItemAt=function(e){var t=this;t._checkData(),t.items.splice(e,1),t._refresh()},t.prototype._checkData=function(){var e=this;e.items||(e.items=[])},t.prototype._refresh=function(){var e=this;e.renderList(),e.refreshSuperPanel()},t.prototype._setOption=function(t,n){var o=this,r,a=s+" "+o.options.wijCSS.stateActive,l,d,c;e.prototype._setOption.call(this,t,n),"disabled"===t?o._handleDisabledOption(n,o.element):"selectionMode"===t?(r=o.selectedItem,r&&(r.selected=!1,r.element&&r.element.removeClass(a),o.selectedItem=void 0),o.selectedItems&&i.each(o.selectedItems,function(e,t){t.selected=!1,t.element.removeClass(a)}),o.selectedItem=[]):"listItems"===t?(d=o._isBind(),d?(c=o._getRenderItems(),o.setItems(c)):o.setItems(n),o.renderList(),o.refreshSuperPanel()):"dataSource"===t?(d=o._isBind(),d&&(c=o._getRenderItems(),o.setItems(c),o.renderList(),o.refreshSuperPanel())):("autoSize"===t||"maxItemsCount"===t)&&(!o.options.autoSize&&o.element.is(":visible")&&(0!==o._oriHeight?o.element.height(o._oriHeight):(l=o.ul.outerHeight(),o.element.height(l),i(".wijmo-wijsuperpanel-statecontainer",o.element).height(l),i(".wijmo-wijsuperpanel-contentwrapper",o.element).height(l))),o.refreshSuperPanel())},t.prototype._create=function(){var e=this,t=this.element,n=this.options,o=n.wijCSS,r=o.widget+" "+o.content+" "+o.cornerAll+" wijmo-wijlist",s;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),e._oriHeight=parseInt(t.css("height"),10),t.addClass(r).attr({role:"listbox","aria-activedescendant":d,"aria-multiselectable":"multiple"===n.selectionMode}).bind("click."+e.widgetName,e,e._onListClick),t.is("div")&&t.children().is("ul")&&(e._isInnerData=!0,e._templates=[],i.each(i("ul > li",t),function(t,i){e._templates.push({templateHtml:i.innerHTML})}),e._oriChildren=t.children().hide()),e.ul=i("<ul class='"+o.listul+"'></ul>").appendTo(t),null!==n.listItems&&(s=e._getRenderItems(),s&&(e.setItems(s),e.renderList(),e.refreshSuperPanel())),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refreshSuperPanel(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijlist"),n.disabled&&(e.disable(),e._handleDisabledOption(!0,e.element))},t.prototype._isBind=function(){var e=this.options,t=e.listItems;return null!==t&&t.label&&t.label.bind?!0:!1},t.prototype._getRenderItems=function(){var e=this.options,t=e.listItems;return null!==t?i.isArray(t)&&t.length>0&&"string"==typeof t[0].label?t:t.label&&t.label.bind?this._getMappingItems():null:null},t.prototype._getMappingItems=function(){var e=this.options,t=e.dataSource,n=e.listItems,o,r,s;return t&&n&&n.label&&n.label.bind&&n.value&&n.value.bind?(r=n.label.bind,s=n.value.bind,t&&0!==t.length?(o=[],i.each(t,function(e,t){o.push({label:t[r],value:t[s]})}),o):null):null},t.prototype._handleDisabledOption=function(e,t){var i=this;e?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(t)),i.disabledDiv.appendTo("body")):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null)},t.prototype._createDisabledDiv=function(e){var t=this,n=e||t.element,o=n.offset(),r=n.outerWidth(),s=n.outerHeight();return i("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:r,height:s,left:o.left,top:o.top,"pointer-events":"auto"})},t.prototype.setTemplateItems=function(e){this._setItemsByExtend(e,!0)},t.prototype.setItems=function(e){this._setItemsByExtend(e,!1)},t.prototype._setItemsByExtend=function(e,t){var n=this,o,r=[];if(i.each(e,function(e,t){r[e]=i.extend(!0,{label:"",value:""},t)}),t){if(n._templates&&r&&r.length!==n._templates.length)return;n.items=r,n.items||(n.items=[]),i.each(n._templates,function(e){n.items[e]?n.items[e].templateHtml=n._templates[e].templateHtml:n.items.push({templateHtml:n._templates[e].templateHtml,label:r[e].label,value:r[e].value})})}else n.items=r;return r?(o=i.grep(r,function(e){return e.selected},void 0),void("single"===n.options.selectionMode?(n.selectedItems=[],n.selectedItem=o.length>0?o[0]:void 0):n.selectedItems=o)):null},t.prototype.filterItems=function(e,t,n,r){var a=this,l=a._escapeRegex(e),d,c=s+" "+a.options.wijCSS.stateActive,h=a.options.wijCSS.priorityPrimary,u="highlight-filter",p,f="",g=!1,m=null;return this.items?(i("li[wijhidden]."+o,a.element)&&i("li[wijhidden]."+o,a.element).length>0&&(g=!0),i("span."+u,a.element)&&i("span."+u,a.element).length>0&&(g=!0),g||e&&0!==e.length?(d=new RegExp(l,"i"),i.each(this.items,function(e,o){p=o.label,o.templateHtml?p=o.templateHtml:void 0!==o.text&&(p=o.text),i("span."+u,o.element).length>0&&o.element.empty().append(p);var r=d.exec(o.label);null===r&&t?o.element&&(o.element.hide(),o.element.attr("wijhidden","wijhidden")):(o.selected?(a.activate(null,o,!1),o.element&&o.element.addClass(c),a.selectedItem=o):o.element&&o.element.hasAllClasses(c)&&o.element.removeClass(c),n&&(f=p.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+l+")(?![^<>]*>)(?![^&;]+;)","gi"),"<span class='"+h+" "+u+"'>$1</span>"),o.element&&o.element.html(f)),o.element&&!o.element.is(":visible")&&(o.element.show(),o.element.removeAttr("wijhidden")),void 0!==l&&0!==l.length&&null===m&&r&&0===r.index&&(m=o))}),m):void i.each(this.items,function(e,t){t.selected?(a.activate(null,t,!1),t.element&&t.element.addClass(c),a.selectedItem=t):t.element&&t.element.hasAllClasses(c)&&t.element.removeClass(c)})):null},t.prototype.popItem=function(){var e=this;e._checkData(),e.items.pop(),e._refresh()},t.prototype.getList=function(){return this.ul},t.prototype._onListClick=function(e){var t=e.data;t.options.disabled||i(e.target).closest("."+o).length&&t.select(e)},t.prototype.destroy=function(){var t=this,i=this.element,n=this.options,o=n.wijCSS,r=o.widget+" "+o.content+" "+o.cornerAll+" wijmo-wijlist";void 0!==t.superPanel&&t.superPanel.destroy(),i.removeClass("wijmo-wijobserver-visibility").removeClass(r).removeAttr("role").removeAttr("aria-activedescendant").unbind("."+t.widgetName),t.ul.remove(),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),t._isInnerData&&t._oriChildren.show(),e.prototype.destroy.call(this)},t.prototype.activate=function(e,t,i){var n=this,o,r;n.deactivate(),null!==t&&void 0!==t&&n._trigger("focusing",e,t)!==!1&&(o=n.active=t,r=o&&o.element,r&&(n.options.addHoverItemClass&&r.addClass(n.options.wijCSS.stateHover),r.attr("id",d)),i&&void 0!==n.superPanel&&n.superPanel.scrollChildIntoView(r),n.element.is(":visible")&&n._trigger("focus",e,t))},t.prototype.deactivate=function(){var e=this,t=e.active,i;t&&(i=t.element,e._trigger("blur",null,t),i&&i.removeClass(e.options.wijCSS.stateHover).removeAttr("id"),e.active=void 0)},t.prototype.next=function(e){this.move("next","."+o+":first",e)},t.prototype.nextPage=function(){this.superPanel.doScrolling("bottom",!0)},t.prototype.previous=function(e){this.move("prev","."+o+":last",e)},t.prototype.previousPage=function(){this.superPanel.doScrolling("top",!0)},t.prototype.first=function(){return this.active&&!this.active.element.prev().length},t.prototype.last=function(){return this.active&&!this.active.element.next().length},t.prototype.move=function(e,t,i){var n=this,r,s;return n.active?(s=n.active.element[e+"All"](":visible."+o).eq(0),void(s.length?n.activate(i,s.data(c),!0):n.activate(i,n.element.children(t).data(c),!0))):(r=n.ul.children(":visible"+t).data(c),void n.activate(i,r,!0))},t.prototype.select=function(e,t){var n=this,r,a,l=s+" "+n.options.wijCSS.stateActive,d,h,u;(n.active||(n.active=i(i(e.target).closest("."+o)).data(c),n.active))&&(r=n.active.element,void 0===r||r.attr("wijhidden")||(d=r.data(c),d&&(h="single"===n.options.selectionMode,h?(u=n.selectedItem,r.addClass(l).attr("aria-selected","true"),d.selected=!0,void 0!==u&&d!==u&&(u.selected=!1,u.element&&u.element.removeClass(l).removeAttr("aria-selected")),n.selectedItem=d,a=i.inArray(d,n.items),n._trigger("selected",e,{item:d,previousItem:u,selectedIndex:a,data:t})):(d.selected=!d.selected,d.selected?r.addClass(l).attr("aria-selected","true"):r.removeClass(l).removeClass("wijmo-wijcombobox-selecteditem").removeAttr("aria-selected","true"),a=[],n.selectedItems=i.grep(n.items,function(e,t){return e.selected&&a.push(t),e.selected===!0},void 0),n._trigger("selected",e,{selectedIndex:a,item:d,selectedItems:n.selectedItems})))))},t.prototype._findItemsByValues=function(e){var t,n=[];return n=i.grep(this.items,function(i,n){t=!1;for(var o=0;o<e.length;o++)i.value===e[o]&&(t=!0);return t},void 0)},t.prototype._findItemsByIndices=function(e){var t=this,n=this.items.length,o=[];return i.each(e,function(e,i){i>=0&&n>i&&o.push(t.items[i])}),o},t.prototype.getItems=function(e,t){var n=this,o,r,s,a;if(r=i.isArray(e),o=!r&&"number"==typeof e||r&&"number"==typeof e[0],s=r?e:[e],t){if(!o)return null;a=n._findItemsByIndices(s)}else a=n._findItemsByValues(s);return a},t.prototype.selectItems=function(e,t,n){var o=this,r="single"===this.options.selectionMode,a=s+" "+o.options.wijCSS.stateActive,l,d,c;c=o.getItems(e,n),r?(c.length>0&&(l=c[0],l.selected=!0,l.element.addClass(a)),d=o.selectedItem,d&&(d.selected=!1,d.element.removeClass(a)),o.selectedItem=l,t&&o._trigger("selected",null,{item:l,previousItem:d})):(i.each(c,function(e,t){t.selected=!0,t.element.addClass(a)}),o.selectedItems=i.grep(o.items,function(e){return e.selected},void 0),t&&o._trigger("selected",null,{selectedItems:o.selectedItems}))},t.prototype.unselectItems=function(e){var t=this,n=this.options.selectionMode,o=s+" "+t.options.wijCSS.stateActive,r,a;if("single"===n)r=t.selectedItem,r&&(r.selected=!1,r.element.removeClass(o).removeClass("wijmo-wijcombobox-selecteditem"),t.selectedItem=void 0);else{if(a=t.getItems(e,!0),!a||0===a.length)return;i.each(a,function(e,t){t.selected=!1,t.element.removeClass(o).removeClass("wijmo-wijcombobox-selecteditem")}),t.selectedItems=i.grep(t.items,function(e){return e.selected},void 0)}},t.prototype.renderList=function(){var e=this,t=this.ul,i=this.options,n,o,r,s,d;if(t.empty(),n=e.items,void 0!==n&&null!==n&&(o=n.length,0!==o)){for(r="single"===i.selectionMode,s=0;o>s;s++)d=n[s],e._renderItem(t,d,s,r);o>0&&(n[0].element&&n[0].element.addClass(a),n[o-1].element&&n[o-1].element.addClass(l)),e._trigger("listRendered",null,e)}},t.prototype._renderItem=function(e,t,n,a){var l=this,d=i("<li role='option' class='"+l.options.wijCSS.listItem+" "+o+" "+l.options.wijCSS.cornerAll+"'></li>"),h=s+" "+l.options.wijCSS.stateActive,u,p;return t.element=d,t.list=l,l._trigger("itemRendering",null,t)!==!1?(u=t.label,t.title&&d.attr("title",t.title),t.templateHtml?u=t.templateHtml:void 0!==t.text&&(u=t.text),d.bind("mouseover",function(e){l.options.disabled||l.activate(e,t,!1)}).bind("mouseout",function(){l.options.disabled||l.options.keepHightlightOnMouseLeave||l.deactivate()}).data(c,t),t.templateHtml?d.append(u):d.text(u),d.appendTo(e),l._isInnerData||(p=t.imageUrl,void 0!==p&&p.length>0&&d.prepend("<img src='"+t.imageUrl+"'>")),t.selected&&(l.activate(null,t,!1),d.addClass(h)),n%2===1&&d.addClass(r),l._trigger("itemRendered",null,t),d):void 0},t.prototype._escapeRegex=function(e){return void 0===e?e:e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},t.prototype.adjustOptions=function(){var e=this.options,t;if(null!==e.data)for(t=0;t<e.listItems.length;t++)delete e.listItems[t].element,delete e.listItems[t].list;return e},t.prototype.refreshSuperPanel=function(){var e=this,t=this.element,n=this.options,r=this.ul,s=r.children("."+o+":first"),a,l,d,c=t.find(".wijmo-wijsuperpanel-header"),h=t.find(".wijmo-wijsuperpanel-footer"),u=null,p,f,g,m,w,v,b;return t.is(":visible")?(l=r.outerHeight(),d=t.innerWidth(),n.autoSize&&(u=s.outerHeight(!0)*n.maxItemsCount),null!==u&&t.height(Math.min(u,l)),p=t.innerHeight(),c.length&&(p-=c.height()),h.length&&(p-=h.height()),f=p/(l-p),w=101*f/(1+f),g=s.outerHeight()/(l-p)*(101-w),void 0===e.superPanel?(v={allowResize:!1,keyboardSupport:!1,bubbleScrollingEvent:!0,hScroller:{scrollBarVisibility:"hidden"},vScroller:{scrollSmallChange:g,scrollLargeChange:w}},i.extend(v,n.superPanelOptions),e.superPanel=t.wijsuperpanel(v).data("wijmoWijsuperpanel"),e.superPanel&&e.superPanel.vNeedScrollBar&&(r.setOutWidth(d-18),e.superPanel.refresh())):(m=e.superPanel.options.vScroller,m.scrollLargeChange=w,m.scrollSmallChange=g,e.superPanel.paintPanel(),e.superPanel.vNeedScrollBar||i.support.isTouchEnabled&&i.support.isTouchEnabled()?(r.setOutWidth(d-18),e.superPanel.refresh()):(r.setOutWidth(t.outerWidth()),a=t.children(".wijmo-wijsuperpanel-header").outerHeight(),null!==a&&void 0!==a&&t.height(l+a),e.superPanel.refresh())),b=r.css("padding-top"),b.length>0?(m=e.superPanel.options.vScroller,m.firstStepChangeFix=e.superPanel.scrollPxToValue(parseFloat(b),"v")):m.firstStepChangeFix=0,r.setOutWidth(r.parent().parent().innerWidth()),n.disabled&&e.disabledDiv&&e.disabledDiv.css("left",t.offset().left).css("top",t.offset().top).css("width",t.outerWidth()).css("height",t.outerHeight()),void 0):!1},t}(e.wijmoWidget);t.wijlist=h;var u=function(){function e(){this.wijCSS={listul:"wijmo-wijlist-ul",listItem:"wijmo-wijlist-item"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-up-b",stateActive:"ui-btn-down-b"},this.initSelector=":jqmData(role='wijlist')",this.dataSource=null,this.listItems=[],this.selected=null,this.selectionMode="single",this.autoSize=!1,this.maxItemsCount=5,this.addHoverItemClass=!0,this.superPanelOptions=null,this.disabled=!1,this.focusing=null,this.focus=null,this.blur=null,this.itemRendering=null,this.itemRendered=null,this.listRendered=null,this.added=null,this.keepHightlightOnMouseLeave=!1}return e}();h.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new u),i.wijmo.registerWidget("wijlist",h.prototype)}(e.list||(e.list={}));var t=e.list;
}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijcalendar",o={general:0,weekEnd:1,otherMonth:2,outOfRange:4,today:8,custom:16,disabled:32,selected:64,gap:128},r=function(e){function t(){e.apply(this,arguments),this._touchRangeSelect=!1}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.options.wijCSS;e._originalStyle=e.element.attr("style"),window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),i.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(this.options),this.element.addClass("wijmo-wijcalendar  "+t.datepickerInline+" "+t.datepicker+" "+t.widget+" "+t.content+" "+t.helperClearFix+" "+t.cornerAll).attr("role","grid"),this._previewWrapper(this.options.allowPreview),this.element.data("preview.wijcalendar",!1),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijcalendar")},t.prototype._init=function(){if(this.options.popupMode){var e={autoHide:!!this.options.autoHide,showing:void 0,shown:void 0,hiding:void 0,hidden:void 0},t=this;this.options.beforePopup&&(e.showing=this.options.beforePopup),this.options.afterPopup&&(e.shown=this.options.afterPopup),this.options.beforeClose&&(e.hiding=this.options.beforeClose),e.hidden=function(e){t.element.removeData("lastdate.wijcalendar"),t.options.afterClose&&t.options.afterClose.call(e)},this.element.wijpopup(e)}else this.element.removeAttr("style"),this._originalStyle&&this.element.attr("style",this._originalStyle);this._getSelectedDates(),this._getDisabledDates(),this._resetWidth(),this.refresh()},t.prototype.destroy=function(){var t=this.options.wijCSS;e.prototype.destroy.call(this),this.close(),this.element.html(""),this.element.removeClass("wijmo-wijcalendar "+t.datepickerInline+" "+t.datepicker+" "+t.widget+" "+t.content+" "+t.helperClearFix+" "+t.cornerAll+" "+t.datepickerMulti).removeAttr("role");var n=this;i.each(["preview","disableddates","selecteddates","dragging","lastdate","animating"],function(e,t){n.element.removeData(t+".wijcalendar")}),this._previewWrapper(!1)},t.prototype._setOption=function(t,i){switch(e.prototype._setOption.call(this,t,i),t){case"showWeekDays":case"showWeekNumbers":case"showTitle":case"showOtherMonthDays":case"selectionMode":this.unSelectAll(),this._resetWidth(),this.refresh();break;case"culture":this.refresh();break;case"allowPreview":this._previewWrapper(i),this.refresh();break;case"monthCols":this._resetWidth(),this.refresh();break;case"monthRows":this._myGrid&&(this._myGrid=void 0);break;case"autoHide":this.element.wijpopup({autoHide:this.options.autoHide});break;case"selectedDates":this._getSelectedDates().setDates(i),this.refresh();break;case"disabledDates":this._getDisabledDates().setDates(i),this.refresh();break;case"displayDate":this.refresh();break;case"allowQuickPick":this.refresh()}},t.prototype._previewWrapper=function(e){e?this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")||this.element.wrap("<div class='wijmo-wijcalendar-preview-wrapper "+this.options.wijCSS.helperClearFix+"'></div>"):this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.unwrap()},t.prototype._isRTL=function(){return!!this._getCulture(null).isRTL},t.prototype.refresh=function(){this._myGrid&&(this._myGrid=void 0),this.element.empty().append(this._createCalendar()),this.element[(this._isRTL()?"add":"remove")+"Class"](this.options.wijCSS.datepickerRtl),this.options.showTitle?this.element.removeClass("wijmo-wijcalendar-notitle"):this.element.addClass("wijmo-wijcalendar-notitle"),this._bindEvents()},t.prototype.refreshDate=function(e){this._monthViews&&(e<this._groupStartDate||e>this._groupEndDate||i.each(this._monthViews,function(){this._refreshDate(e)}))},t.prototype.getDisplayDate=function(){var e=this.options.displayDate?this.options.displayDate:new Date;return l.isSameDate(e,new Date(1900,0,1))&&(e=new Date),e},t.prototype.getSelectedDate=function(){var e=this.options.selectedDates;return e&&0!==e.length?e[0]:null},t.prototype.selectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().add(e),this.refreshDate(e),!0)},t.prototype.unSelectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().remove(e),this.refreshDate(e),!0)},t.prototype.unSelectAll=function(){var e=this.options.selectedDates,t;if(e&&e.length>0)for(this._getSelectedDates().clear(),t=0;t<e.length;t++)this.refreshDate(e[t])},t.prototype._slideToDate=function(e){if(!l.isSameMonth(this.getDisplayDate(),e)){var t=this.element.is(":visible");if(t){if(this._trigger("beforeSlide")===!1)return;this._isSingleMonth()?this._playSlideAnimation(e):this._playMmSlideAnimation(e)}else this.options.displayDate=e}},t.prototype.isPopupShowing=function(){return this.options.popupMode?this.element.wijpopup("isVisible"):!1},t.prototype.popup=function(e){this._myGrid=void 0,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmoWijpopup")&&this.element.wijpopup("show",e)},t.prototype.popupAt=function(e,t){this._myGrid=void 0,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmoWijpopup")&&this.element.wijpopup("showAt",e,t)},t.prototype.close=function(){this.isPopupShowing()&&this.element.wijpopup("hide")},t.prototype._getCulture=function(e){return Globalize.findClosestCulture(e||this.options.culture)},t.prototype._getDates=function(e){var t=e.toLowerCase()+".wijcalendar",i=this.element.data(t);return void 0===i&&(i=new c(this,e),this.element.data(t,i)),i},t.prototype._getDisabledDates=function(){return this._getDates("disabledDates")},t.prototype._getSelectedDates=function(){return this._getDates("selectedDates")},t.prototype._onDayDragStart=function(e){return e.preventDefault(),e.stopPropagation(),!1},t.prototype._onDayMouseDown=function(e){e.preventDefault(),e.stopPropagation();var t=this.options,n=this,o,r,s=!1,a=t.selectedDates,l=!1,d=[];if(1!==e.which)return 0===e.which&&this._onTouchstart(e),!1;if(i.browser.msie&&parseFloat(i.browser.version)>=10)if(e.originalEvent.pointerType){if(2===e.originalEvent.pointerType||"touch"===e.originalEvent.pointerType)return this._onTouchstart(e),!1}else if(e.originalEvent.originalEvent&&e.originalEvent.originalEvent.pointerType&&(2===e.originalEvent.originalEvent.pointerType||"touch"===e.originalEvent.originalEvent.pointerType))return this._onTouchstart(e),!1;return o=this._getCellDate(e.currentTarget),void 0===o?!1:t.selectionMode.day?(r={date:o},this._trigger("beforeSelect",null,r)===!1?!1:((!t.selectionMode.days||!e.metaKey&&!e.shiftKey&&!e.ctrlKey)&&this.unSelectAll(),!t.selectionMode.days||(e.shiftKey&&this.element.data("lastdate.wijcalendar")?(this._selectRange(this.element.data("lastdate.wijcalendar"),o,null),s=!0):e.ctrlKey&&(this.element.data("lastdate.wijcalendar",o),i.each(a,function(e,t){return o.getFullYear()===t.getFullYear()&&o.getMonth()===t.getMonth()&&o.getDate()===t.getDate()?(l=!0,!1):void 0}),l?this.unSelectDate(o):this.selectDate(o),a=t.selectedDates,i.each(a,function(e,t){d.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:d}),s=!0)),s||(this.element.data("lastdate.wijcalendar",o),s=this.selectDate(o),this._trigger("selectedDatesChanged",null,{dates:[o]})),s&&(this._trigger("afterSelect",null,r),!t.selectionMode.days||(this.element.data("dragging.wijcalendar",!0),i(document.body).bind("mouseup."+this.widgetName,function(){i(document.body).unbind("mouseup."+n.widgetName),n.element.data("dragging.wijcalendar",!1)}))),!1)):!1},t.prototype._onMouseUp=function(e){return e.preventDefault(),e.stopPropagation(),this.element.data("dragging.wijcalendar",!1),!1},t.prototype._onDayClicked=function(e){var t=this._getCellDate(e.currentTarget);return void 0===t?!1:this.options.selectionMode.day?(this.isPopupShowing()?this.close():i(e.currentTarget).hasAllClasses(this.options.wijCSS.datepickerOtherMonth)&&this._slideToDate(t),!1):!1},t.prototype._onDayMouseEnter=function(e){if(i(e.currentTarget).attr("state","hover"),this._refreshDayCell(e.currentTarget),this.element.data("dragging.wijcalendar")){var t=this._getCellDate(e.currentTarget);if(void 0===t)return;this.unSelectAll(),this._selectRange(this.element.data("lastdate.wijcalendar"),t,!0)}},t.prototype._onDayMouseLeave=function(e){i(e.currentTarget).attr("state","normal"),this._refreshDayCell(e.currentTarget)},t.prototype._onTouchstart=function(e){this._touchStartTime=new Date},t.prototype._onTouchend=function(e){e.preventDefault(),e.stopPropagation();var t=new Date,n=t-this._touchStartTime,o=this.options,r=this,s,a,l=o.selectedDates,d=!1,c=[];if(this.element.data("dragging.wijcalendar",!1),i.browser.msie){if(!(parseFloat(i.browser.version)>=10))return!1;if(e.originalEvent.pointerType){if(2!==e.originalEvent.pointerType&&"touch"!==e.originalEvent.pointerType)return!1}else{if(!e.originalEvent.originalEvent.pointerType)return!1;if(2!==e.originalEvent.originalEvent.pointerType&&"touch"!==e.originalEvent.originalEvent.pointerType)return!1}}else if(0!==e.which)return!1;return s=this._getCellDate(e.currentTarget),void 0===s?!1:o.selectionMode.day?(a={date:s},this._trigger("beforeSelect",null,a)===!1?!1:(i.each(l,function(e,t){return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()?(d=!0,!1):void 0}),!this._touchRangeSelect&&n>=750?(this.element.data("lastdate.wijcalendar",s),d?!o.selectionMode.days||this.unSelectDate(s):(o.selectionMode.days?this._touchRangeSelect=!0:this.unSelectAll(),this.selectDate(s)),l=o.selectedDates,i.each(l,function(e,t){c.push(new Date(t))}),l.length>0&&this._trigger("selectedDatesChanged",null,{dates:c})):(o.selectionMode.days||(this.unSelectAll(),this._touchRangeSelect=!1),this._touchRangeSelect?(n>=750&&(!o.selectionMode.days||(this.element.data("lastdate.wijcalendar",s),d?(this.unSelectDate(s),this._touchRangeSelect=!1):this.selectDate(s),l=o.selectedDates,i.each(l,function(e,t){c.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:c}))),750>n&&this.element.data("lastdate.wijcalendar")&&(this._selectRange(this.element.data("lastdate.wijcalendar"),s,null),this._touchRangeSelect&&(this._touchRangeSelect=!1))):(this.unSelectAll(),this.element.data("lastdate.wijcalendar",s),this.selectDate(s),this._trigger("selectedDatesChanged",null,{dates:[s]}))),this._trigger("afterSelect",null,a),this._touchStartTime=null,!1)):!1},t.prototype._selectRange=function(e,t,i){if(void 0!==e&&e!==new Date(1900,1,1)){var n=e,o=t,r=[];for(e>t&&(o=e,n=t);!(n>o);)this.selectDate(n),r[r.length]=n,n=l.addDays(n,1);i||this.element.removeData("lastdate.wijcalendar"),this._trigger("selectedDatesChanged",null,{dates:r})}else this.selectDate(e),this._trigger("selectedDatesChanged",null,{dates:[e]});return!0},t.prototype._getCellDate=function(e){var t=i(e).attr("date");return void 0===t?t:new Date(t)},t.prototype._getParentTable=function(e){var t=i(e).parents("table");return 0===t.length?void 0:t.get(0)},t.prototype._initMonthSelector=function(e){if(void 0===i(e).data("cells")){var t=e.id.split("_"),n,o,r=[],s,a,l,d,c;if("ms"!==t[t.length-1])throw Error.create("not a monthview");if(n=t.slice(0,t.length-1).join("_"),o=this._getParentTable(e)){if(o.id!==n)throw Error.create("not a monthview");for(s=0;s<o.rows.length;s++)for(c=o.rows[s],a=0;a<c.cells.length;a++)l=c.cells[a],l&&(d=i(l).attr("daytype"),void 0!==d&&i(l).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(d,10))&&(r[r.length]=l))}i(e).data("cells",r)}},t.prototype._onMonthSelectorClicked=function(e){this._initMonthSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n=[],o,r,s,a;for(this.element.removeData("lastdate.wijcalendar"),this.unSelectAll(),o=0;o<t.length;o++)r=t[o],s=i(r).attr("date"),void 0!==s&&(a=new Date(s),this.selectDate(a),n[n.length]=a);return this._trigger("selectedDatesChanged",null,{dates:n}),this.isPopupShowing()&&this.close(),!1},t.prototype._onMonthSelectorMouseEnter=function(e){this._initMonthSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseEnter(e)},t.prototype._onMonthSelectorMouseLeave=function(e){this._initMonthSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseLeave(e)},t.prototype._initWeekDaySelector=function(e){if(void 0===i(e).data("cells")){var t=e.id.split("_"),n,o,r,s=[],a=0,l,d,c;if("cs"!==t[t.length-2])throw Error.create("not a column");if(n=parseInt(t[t.length-1],10),o=t.slice(0,t.length-2).join("_"),r=this._getParentTable(e),r){if(r.id!==o)throw Error.create("not a column");for(this.options.showWeekDays&&a++;a<r.rows.length;a++)l=r.rows[a],n<l.cells.length&&(d=l.cells[n],d&&(c=i(d).attr("daytype"),void 0!==c&&i(d).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(c,10))&&(s[s.length]=d)))}i(e).data("cells",s)}},t.prototype._onWeekDayClicked=function(e){this._initWeekDaySelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n=[],o,r,s,a;for(this.unSelectAll(),o=0;o<t.length;o++)r=i(t[o]),s=r.attr("date"),void 0!==s&&(a=new Date(s),this.selectDate(a),n[n.length]=a);return this._trigger("selectedDatesChanged",null,{dates:n}),this.isPopupShowing()&&this.close(),!1},t.prototype._onWeekDayMouseEnter=function(e){this._initWeekDaySelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseEnter(e)},t.prototype._onWeekDayMouseLeave=function(e){this._initWeekDaySelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseLeave(e)},t.prototype._initWeekNumberSelector=function(e){if(void 0===i(e).data("cells")){var t=e.id.split("_"),n,o,r,s=[],a,l,d,c;if("rs"!==t[t.length-2])throw Error.create("not a row");if(n=parseInt(t[t.length-1],10),o=t.slice(0,t.length-2).join("_"),r=this._getParentTable(e),r){if(r.id!==o)throw Error.create("not a row");if(a=r.rows[n])for(l=0,this.options.showWeekNumbers&&l++;l<a.cells.length;l++)d=a.cells[l],d&&(c=i(d).attr("daytype"),void 0!==c&&i(d).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(c,10))&&(s[s.length]=d))}i(e).data("cells",s)}},t.prototype._onWeekNumberClicked=function(e){this._initWeekNumberSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n=[],o,r,s,a;for(this.unSelectAll(),o=0;o<t.length;o++)r=i(t[o]),s=r.attr("date"),void 0!==s&&(a=new Date(s),this.selectDate(a),n[n.length]=a);return this._trigger("selectedDatesChanged",null,{dates:n}),this.isPopupShowing()&&this.close(),!1},t.prototype._onWeekNumberMouseEnter=function(e){this._initWeekNumberSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseEnter(e)},t.prototype._onWeekNumberMouseLeave=function(e){this._initWeekNumberSelector(e.currentTarget);var t=i(e.currentTarget).data("cells"),n;for(n=0;n<t.length;n++)e.currentTarget=t[n],this._onDayMouseLeave(e)},t.prototype._isAnimating=function(){return!!this.element.data("animating.wijcalendar")},t.prototype._onPreviewMouseEnter=function(e){if(!this.element.data("previewContainer")&&!this._isAnimating()){var t=i(e.currentTarget),n=t.attr("id"),o=this.getDisplayDate(),r=this.options.wijCSS,s=this.options.monthCols*this.options.monthRows,a=i("<div/>");void 0!==n&&("prevPreview"===n&&(s=-s),this.options.displayDate=l.addMonths(o,s),this.element.data("preview.wijcalendar",!0),a.appendTo(document.body),a.hide(),a.addClass("wijmo-wijcalendar "+r.datepickerInline+" "+r.datepicker+" "+r.widget+" "+r.content+" "+r.helperClearFix+" "+r.cornerAll),a.append(this._createCalendar()),this.options.displayDate=o,this.element.data("preview.wijcalendar",!1),this._createMonthViews(),a.wijpopup({showEffect:"slide",showOptions:{direction:"prevPreview"===n?"right":"left"},hideEffect:"slide",hideOptions:{direction:"prevPreview"===n?"right":"left"}}),a.wijpopup("show",{my:"prevPreview"===n?"right top":"left top",at:"prevPreview"===n?"left top":"right top",of:t}),this.element.data("previewContainer",a))}},t.prototype._onPreviewMouseLeave=function(e){var t=i(e.currentTarget),n=t.attr("id"),o=this.element.data("previewContainer"),r=this;void 0!==n&&o&&(o.wijpopup("isAnimating")?window.setTimeout(function(){r._onPreviewMouseLeave(e)},200):(o.wijpopup("hide"),this.element.removeData("previewContainer")))},t.prototype._resetWidth=function(){this._myGrid||(this.element.css("height",""),this.options.monthCols>1?(this.element.css("width",17*this.options.monthCols+"em"),this.element.addClass(this.options.wijCSS.datepickerMulti)):(this.element.css("width",""),this.element.removeClass(this.options.wijCSS.datepickerMulti)))},t.prototype._playMmSlideAnimation=function(e){var t=this.element.width(),n=this.element.height(),o=this.getDisplayDate(),r,s,a,l=this.options.direction||"horizontal",d=this,c,h;this.element.height(n),this.element.wrapInner("<div class='wijmo-wijcalendar-multi-aniwrapper'></div>"),r=this.element.find(">:first-child").width(t).height(n),s=r.clone(!1),s.hide(),this.options.displayDate=e,this._createMonthViews(),s.empty().append(this._createMonthGroup()),s.appendTo(this.element),a=e>o,this.element.data("animating.wijcalendar",!0),i.effects?(r.effect("slide",{mode:"hide",direction:"horizontal"===l?a?"left":"right":a?"up":"down",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){r.remove()}),s.effect("slide",{direction:"horizontal"===l?a?"right":"left":a?"down":"up",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){for(;s.parent().is(".wijmo-wijcalendar-multi-aniwrapper");)s.parent().replaceWith(s);s.replaceWith(s.contents()),d.element.height(""),d._bindEvents(),d.element.data("animating.wijcalendar",!1),d._trigger("afterSlide")})):("horizontal"===l?(c={width:0},h={width:"100%"}):(c={height:0},h={height:"100%"}),r.animate(c,this.options.duration,null,function(){r.remove()}),s.animate(h,this.options.duration,null,function(){for(;s.parent().is(".wijmo-wijcalendar-multi-aniwrapper");)s.parent().replaceWith(s);s.replaceWith(s.contents()),d.element.height(""),d._bindEvents(),d.element.data("animating.wijcalendar",!1),d._trigger("afterSlide")}))},t.prototype._playSlideAnimation=function(e){if(this._isSingleMonth()){var t=this,n=this.getDisplayDate(),o=t.options.wijCSS,r=this.element.find("."+o.datepickerCalendar),s,a,l=1,c=this.options.direction||"horizontal",h=e>n,u=[],p,f,g;if(r.parent().is(".wijmo-wijcalendar-aniwrapper")?s=r.parent():(s=i.createWrapper(r).css({overflow:"hidden"}),s.removeClass(o.effectsWrapper),s.addClass("wijmo-wijcalendar-aniwrapper")),s.parent().is(".wijmo-wijcalendar-aniwrapper")?a=s.parent():(a=i.createWrapper(s).css({overflow:"hidden"}),a.removeClass(o.effectsWrapper),a.addClass("wijmo-wijcalendar-aniwrapper")),this._myGrid)switch(this._myGrid.gridType){case"month":l=1;break;case"year":l=10;break;case"decade":l=100}u[u.length]=e,p=r.outerWidth(),f=r.outerHeight(),"horizontal"===c?(r.width(p).css("float",h?"left":"right"),s.width((u.length+1)*p),s.css("left",h?0:-u.length*p).css("position","absolute")):(s.width(p),s.css("top",h?0:-u.length*f).css("position","absolute"),s.height((u.length+1)*f)),i.each(u,function(e,n){if(void 0===t._myGrid){var o=new d(t,n),r=t._customize(o.getHtml(!0));"horizontal"===c?r.width(p).css("float",h?"left":"right").appendTo(s):r.appendTo(s)}else"horizontal"===c?i(t._myGrid.getHtml(n,!0)).width(p).height(f).css("float",h?"left":"right").appendTo(s):i(t._myGrid.getHtml(n,!0)).height(f).appendTo(s)}),this.options.displayDate=e,void 0===this._myGrid&&this._createMonthViews(),this._refreshTitle(),this.element.data("animating.wijcalendar",!0),i.effects?s.effect("slide",{mode:"hide",direction:"horizontal"===c?h?"left":"right":h?"up":"down",easing:this.options.easing||"easeOutBack",distance:("horizontal"===c?p:f)*u.length,duration:this.options.duration},function(){for(r=s.children(":last");r.parent().is(".wijmo-wijcalendar-aniwrapper");)r.parent().replaceWith(r);r.css({"float":"",width:""}),t._bindEvents(),t.element.data("animating.wijcalendar",!1),t._trigger("afterSlide")}):(g="horizontal"===c?{width:0}:{height:0},s.animate(g,this.options.duration,null,function(){for(r=s.children(":last");r.parent().is(".wijmo-wijcalendar-aniwrapper");)r.parent().replaceWith(r);r.css({"float":"",width:""}),t._bindEvents(),t.element.data("animating.wijcalendar",!1),t._trigger("afterSlide")}))}},t.prototype._onTitleClicked=function(){if(this.options.allowQuickPick&&this._isSingleMonth()&&!this._isAnimating()){if(void 0===this._myGrid)this._myGrid=new h(this);else switch(this._myGrid.gridType){case"month":this._myGrid.gridType="year";break;case"year":this._myGrid.gridType="decade";break;case"decade":return}this._refreshTitle(),this.element.width(this.element.width()).height(this.element.height());var e=this.options.wijCSS,t=this.element.find("."+e.datepickerCalendar),n,o,r,s=t.outerWidth(),a=t.outerHeight(),l,d,c,u,p,f,g=this;n=t.parent().is(".wijmo-wijcalendar-aniwrapper")?t.parent():i.createWrapper(t).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper"),o=n.parent().is(".wijmo-wijcalendar-aniwrapper")?n.parent():i.createWrapper(n).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(s).height(a),r=i(this._myGrid.getHtml(!0)).css({position:"absolute",top:0,left:0,opacity:0}).appendTo(o).height(a),l=this._myGrid.getSelectedIndex(),d=Math.floor(l/4),c=l-4*d,u=s/4,p=a/3,f={left:u*c,top:p*d,width:u,height:p},t.width("100%").height("100%"),n.css({border:"solid 1px #cccccc"}),this.element.data("animating.wijcalendar",!0),i.effects?n.effect("size",{to:f,duration:this.options.duration||500},function(){n.remove()}):n.animate(f,this.options.duration||500,null,function(){n.remove()}),r.animate({opacity:1},this.options.duration||500,null,function(){for(r.css({position:"",top:"",left:"",filter:""});r.parent().is(".wijmo-wijcalendar-aniwrapper");)r.parent().replaceWith(r);g._bindEvents(),g.element.data("animating.wijcalendar",!1)})}},t.prototype._onMyGridClicked=function(e){if(void 0===this._myGrid)return!1;if(this._isAnimating())return!1;var t=i(e.currentTarget),n=parseInt(t.attr("index"),10),o=parseInt(t.attr("value"),10),r=this.options.wijCSS,s=this.element.find("."+r.datepickerCalendar),a,l,d,c,h,u,p,f,g,m=this;return"month"===this._myGrid.gridType||n&&11!==n?(t.hasAllClasses(r.stateActive)||this._myGrid.select(n,o),"decade"===this._myGrid.gridType?this._myGrid.gridType="year":"year"===this._myGrid.gridType?this._myGrid.gridType="month":this._myGrid=void 0,this._refreshTitle(),d=s.outerWidth(),c=s.outerHeight(),l=s.parent().is(".wijmo-wijcalendar-aniwrapper")?s.parent():i.createWrapper(s).css({overflow:"hidden"}).removeClass(r.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(d).height(c),h=i.extend({},t.position(),{width:t.width(),height:t.height()}),void 0===this._myGrid?(this._createMonthViews(),p=this.getDisplayDate(),f=this._getMonthView(p),u=this._customize(f.getHtml(!0))):u=i(this._myGrid.getHtml(!0)),g=u.height(c).appendTo(l),a=i.createWrapper(g).css({overflow:"hidden"}).removeClass(r.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").css(i.extend(h,{border:"solid 1px #cccccc",position:"absolute"})),this.element.data("animating.wijcalendar",!0),a.animate({left:0,top:0,width:d,height:c},this.options.duration||500,null,function(){g.css("width","")}),s.animate({opacity:0},this.options.duration||500,null,function(){for(s.remove();g.parent().is(".wijmo-wijcalendar-aniwrapper");)g.parent().replaceWith(g);void 0===m._myGrid&&m.element.width("").height(""),m._bindEvents(),m.element.data("animating.wijcalendar",!1)}),!1):!1},t.prototype._onMyGridMouseEnter=function(e){if(void 0!==this._myGrid){var t=i(e.currentTarget),n=parseInt(t.attr("index"),10);"month"!==this._myGrid.gridType&&(0>n||n>11)||t.addClass(this.options.wijCSS.stateHover)}},t.prototype._onMyGridMouseLeave=function(e){if(void 0!==this._myGrid){var t=i(e.currentTarget),n=parseInt(t.attr("index"),10);"month"!==this._myGrid.gridType&&(0>n||n>11)||t.removeClass(this.options.wijCSS.stateHover)}},t.prototype._bindEvents=function(){var e=this.options.wijCSS,t="";i.support.isTouchEnabled&&i.support.isTouchEnabled()&&(t="wij"),!this.element.data("preview.wijcalendar")&&!this.options.disabledState&&!this.options.disabled&&(this.element.find("div .wijmo-wijcalendar-navbutton").unbind().bind("mouseout.wijcalendar",function(){var t=i(this);t.removeClass(e.stateHover),t.hasAllClasses(e.datepickerNextHover)?t.removeClass(e.datepickerNextHover):t.hasAllClasses(e.datepickerPrevHover)&&t.removeClass(e.datepickerPrevHover)}).bind("mouseover.wijcalendar",function(){var t=i(this);t.addClass(e.stateHover),t.hasAllClasses(e.datepickerNext)?t.addClass(e.datepickerNextHover):t.hasAllClasses(e.datepickerPrev)&&t.addClass(e.datepickerPrevHover)}).bind("click.wijcalendar",i.proxy(this._onNavButtonClicked,this)),this.element.unbind(".wijcalendar").bind(t+"mouseup.wijcalendar",i.proxy(this._onMouseUp,this)),this.element.find("."+e.datepickerTitle).unbind().bind("mouseout.wijcalendar",function(){i(this).removeClass(e.stateHover)}).bind("mouseover.wijcalendar",function(){i(this).addClass(e.stateHover)}).bind("click.wijcalendar",i.proxy(this._onTitleClicked,this)),this.element.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar").bind({"mouseenter.wijcalendar":i.proxy(this._onPreviewMouseEnter,this),"mouseleave.wijcalendar":i.proxy(this._onPreviewMouseLeave,this)}),void 0===this._myGrid?(this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind(t+"click.wijcalendar",i.proxy(this._onDayClicked,this)).bind("mouseenter.wijcalendar",i.proxy(this._onDayMouseEnter,this)).bind("mouseleave.wijcalendar",i.proxy(this._onDayMouseLeave,this)).bind(t+"mousedown.wijcalendar",i.proxy(this._onDayMouseDown,this)).bind("dragstart.wijcalendar",i.proxy(this._onDayDragStart,this)),i.support.isTouchEnabled&&i.support.isTouchEnabled()&&(i.browser.msie&&this.element.unbind("contextmenu.wijcalendar").bind({"contextmenu.wijcalendar":function(){return!1}}),this.element.find(".wijmo-wijcalendar-day-selectable").unbind(t+"mouseup.wijcalendar").bind(t+"mouseup.wijcalendar",i.proxy(this._onTouchend,this))),!this.options.selectionMode.month||this.element.find(".wijmo-wijcalendar-monthselector").unbind().bind({"click.wijcalendar":i.proxy(this._onMonthSelectorClicked,this),"mouseenter.wijcalendar":i.proxy(this._onMonthSelectorMouseEnter,this),"mouseleave.wijcalendar":i.proxy(this._onMonthSelectorMouseLeave,this)}),!this.options.selectionMode.weekDay||this.element.find("."+e.datepickerWeekDay).unbind().bind({"click.wijcalendar":i.proxy(this._onWeekDayClicked,this),"mouseenter.wijcalendar":i.proxy(this._onWeekDayMouseEnter,this),"mouseleave.wijcalendar":i.proxy(this._onWeekDayMouseLeave,this)}),!this.options.selectionMode.weekNumber||this.element.find(".wijmo-wijcalendar-week-num").unbind().bind({"click.wijcalendar":i.proxy(this._onWeekNumberClicked,this),"mouseenter.wijcalendar":i.proxy(this._onWeekNumberMouseEnter,this),"mouseleave.wijcalendar":i.proxy(this._onWeekNumberMouseLeave,this)})):this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":i.proxy(this._onMyGridClicked,this),"mouseenter.wijcalendar":i.proxy(this._onMyGridMouseEnter,this),"mouseleave.wijcalendar":i.proxy(this._onMyGridMouseLeave,this)}))},t.prototype._isSelectable=function(e){var t=this.options;return t.showOtherMonthDays&&e&o.otherMonth||!(e&(o.outOfRange|o.disabled|o.otherMonth))},t.prototype._getCellClassName=function(e,t,i){var n=this.options,r="",s=n.wijCSS.stateDefault,a=!!n.selectionMode.day||!!n.selectionMode.days;return i=i||!1,!i&&!n.disabledState&&!n.disabled&&a&&this._isSelectable(e)&&(r+=" wijmo-wijcalendar-day-selectable"),e&o.weekEnd&&(r+=" "+n.wijCSS.datepickerWeekEnd),e&o.otherMonth&&(r+=" "+n.wijCSS.datepickerOtherMonth,s+=" "+n.wijCSS.prioritySecondary),e&o.outOfRange&&(r+=" wijmo-wijcalendar-outofrangeday",s+=" "+n.wijCSS.prioritySecondary),e&o.gap?r+=" wijmo-wijcalendar-gap":(e&o.disabled&&(r+=" "+n.wijCSS.datepickerUnselectable,s+=" "+n.wijCSS.stateDisabled),e&o.today&&(r+=" "+n.wijCSS.datepickerDaysCellOver+" "+n.wijCSS.datepickerToday,s+=" "+n.wijCSS.stateHighlight),e&o.selected&&0===(e&(o.outOfRange|o.disabled))&&(r+=" "+n.wijCSS.datepickerCurrentDay,s+=" "+n.wijCSS.stateActive),e&o.gap&&(r+=" wijmo-wijcalendar-gap"),e&o.custom&&(r+=" wijmo-wijcalendar-customday")),{cssCell:r,cssText:s}},t.prototype._onNavButtonClicked=function(e){if(this._isAnimating())return!1;var t=1,n=i(e.currentTarget).attr("id"),o=this.getDisplayDate(),r=o;if(void 0===this._myGrid)t=n.indexOf("quick")>=0?this.options.quickNavStep:1,t=n.indexOf("next")>=0?t:-t,t=t*this.options.monthRows*this.options.monthCols,r=l.addMonths(o,t);else switch(t=n.indexOf("next")>=0?1:-1,this._myGrid.gridType){case"month":r=l.addYears(o,t);break;case"year":r=l.addYears(o,10*t);break;case"decade":r=l.addYears(o,100*t)}return this._slideToDate(r),!1},t.prototype._getMonthGroupHtml=function(){var e=this.getDisplayDate(),t,i,n,o=this.options.wijCSS,r,s;if(this._isSingleMonth())return t=this._getMonthView(e),t.showPreview=this.options.allowPreview&&!this.element.data("preview.wijcalendar"),t.getHtml();for(i=100/this.options.monthCols+"%",n=new a,r=0;r<this.options.monthRows;r++){for(s=0;s<this.options.monthCols;s++)n.writeBeginTag("div"),n.writeAttribute("class",o.datepickerGroup+(0===s?" "+o.datepickerGroupFirst:"")+(s===this.options.monthCols-1?" "+o.datepickerGroupLast:"")),n.writeAttribute("style","width:"+i),n.writeTagRightChar(),t=this._getMonthView(e),t.showPreview=!1,n.write(t.getHtml()),n.writeEndTag("div"),e=l.addMonths(e,1);n.writeBeginTag("div"),n.writeAttribute("class",o.datepickerRowBreak),n.writeTagRightChar(),n.writeEndTag("div")}return n.toString()},t.prototype._getCalendarHtml=function(){this._createMonthViews();var e=new a;return e.write(this._getMonthGroupHtml()),e.toString()},t.prototype._customizeDayCell=function(e){if(void 0===e.attr("state")&&e.attr("state","normal"),void 0!==e.attr("daytype")&&void 0!==e.attr("date")){var t=parseInt(e.attr("daytype"),10),i=new Date(e.attr("date")),n="hover"===e.attr("state");this.options.customizeDate(e,i,t,n)}},t.prototype._customize=function(e){var t=this.options,n=this,o=i(e);return i.isFunction(t.customizeDate)?(i.each(o.find(".wijmo-wijcalendar-day-selectable"),function(e,t){n._customizeDayCell(i(t))}),o):o},t.prototype._createCalendar=function(){return this._customize(i(i.parseHTML(this._getCalendarHtml())))},t.prototype._createMonthGroup=function(){return this._customize(i(this._getMonthGroupHtml()))},t.prototype._getMonthID=function(e){return e.getFullYear()+"_"+(e.getMonth()+1)},t.prototype._createMonthViews=function(){this._monthViews={};var e="",t=this.getDisplayDate(),i,n,o,r;for(i=0;i<this.options.monthRows;i++)for(n=0;n<this.options.monthCols;n++)e=this._getMonthID(t),this._monthViews[e]=new d(this,t),0===i&&(0===n&&(this._monthViews[e].isFirst=!0),n===this.options.monthCols-1&&(this._monthViews[e].isLast=!0)),t=l.addMonths(t,1);t=this.getDisplayDate(),e=this._getMonthID(t),o=this._monthViews[e],o&&(this._groupStartDate=o.getStartDate()),r=this.options.monthRows*this.options.monthCols,r>1&&(t=l.addMonths(t,r-1),e=this._getMonthID(t),o=this._monthViews[e]),o&&(this._groupEndDate=o.getEndDate());
},t.prototype._getMonthView=function(e){var t=this._getMonthID(e);return this._monthViews[t]},t.prototype._getId=function(){return this.element.attr("id")},t.prototype._getChildElement=function(e){var t=this.element.find("[id*='"+e+"']");return 0===t.length?void 0:t},t.prototype._refreshDayCell=function(e){var t=i(e),n=this.options,r,s,a,l;void 0===t.attr("state")&&t.attr("state","normal"),void 0!==t.attr("daytype")&&void 0!==t.attr("date")&&(r=parseInt(t.attr("daytype"),10),s=new Date(t.attr("date")),a="hover"===t.attr("state"),t.attr("class",this._getCellClassName(r,s,void 0).cssCell),t.removeAttr("aria-selected"),r&o.selected&&t.attr("aria-selected",!0),i.isFunction(n.customizeDate)&&this._customizeDayCell(t)||(l=t.find("a"),l.length>0&&(l.toggleClass(this.options.wijCSS.stateHover,a),l.toggleClass(this.options.wijCSS.stateActive,0!==(r&o.selected)))))},t.prototype._isSingleMonth=function(){return this.options.monthCols*this.options.monthRows===1},t.prototype._splitString=function(e,t,i){if(void 0===i)return e.split(t);var n=[],o=e.split(t),r;for(r=0;r<o.length;r++)r>=i?n[i-1]=n[i-1]+t+o[r]:n.push(o[r]);return n},t.prototype._getNavButtonHtml=function(e,t,i,n){var o=new a;return o.writeBeginTag("a"),o.writeAttribute("id",e),o.writeAttribute("class",t),o.writeAttribute("role","button"),o.writeAttribute("href","#"),n&&(o.writeAttribute("title",n),o.writeAttribute("aria-label",n)),o.writeTagRightChar(),o.writeBeginTag("span"),o.writeAttribute("class",i),o.writeTagRightChar(),n&&o.write(n),o.writeEndTag("span"),o.writeEndTag("a"),o.toString()},t.prototype._getTitleText=function(e){if(void 0!==this._myGrid)return this._myGrid.getTitle();var t=e||this.getDisplayDate(),n=this.options.titleFormat||"MMMM yyyy";return i.isFunction(this.options.title)?this.options.title(t,n)||this._formatDate(n,t):this._formatDate(n,t)},t.prototype._refreshTitle=function(){this.element.find("."+this.options.wijCSS.datepickerTitle).html(this._getTitleText(void 0))},t.prototype._fillTitle=function(e,t){var i=this.options.wijCSS;e.writeBeginTag("div"),e.writeAttribute("class",i.datepickerTitle+" wijmo-wijcalendar-title "+i.stateDefault+" "+i.cornerAll),e.writeTagRightChar(),e.write(this._getTitleText(t)),e.writeEndTag("div")},t.prototype._getHeaderHtml=function(e,t,i){var n=!!this.element.data("preview.wijcalendar"),o=this.options.wijCSS,r=n?"none":this._isSingleMonth()?this.options.navButtons:"default",s=this.element.is("."+o.datepickerRtl),l=new a;return"quick"===r?(l.writeBeginTag("div"),l.writeAttribute("class",o.header+" wijmo-wijcalendar-header "+o.helperClearFix+" "+o.cornerAll),l.writeAttribute("role","heading"),l.writeTagRightChar(),!t||l.write(this._getNavButtonHtml("quickprev","wijmo-wijcalendar-navbutton "+o.datepickerPrev+" "+o.cornerAll,o.icon+" ui-icon-seek-"+(s?"next":"prev")+" "+(s?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.quickPrevTooltip.replace("#",this.options.quickNavStep))),l.writeBeginTag("div"),l.writeAttribute("class",o.datepickerHeader+" wijmo-wijcalendar-header-inner"),l.writeTagRightChar(),!t||l.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+o.datepickerPrev+" "+o.cornerAll,o.icon+" ui-icon-circle-triangle-"+(s?"e":"w")+" "+(s?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(l,e),!i||l.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+o.datepickerNext+" "+o.cornerAll,o.icon+" ui-icon-circle-triangle-"+(s?"w":"e")+" "+(s?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),l.writeEndTag("div"),!i||l.write(this._getNavButtonHtml("quicknext","wijmo-wijcalendar-navbutton "+o.datepickerNext+" "+o.cornerAll,o.icon+" ui-icon-seek-"+(s?"prev":"next")+" "+(s?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.quickNextTooltip.replace("#",this.options.quickNavStep))),l.writeEndTag("div")):(l.writeBeginTag("div"),l.writeAttribute("class",o.datepickerHeader+" "+o.header+" "+o.datepickerHeader+" "+o.helperClearFix+" "+o.cornerAll),l.writeAttribute("role","heading"),l.writeTagRightChar(),"none"!==r&&!!t&&l.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+o.datepickerPrev+" "+o.cornerAll,o.icon+" ui-icon-circle-triangle-"+(s?"e":"w")+" "+(s?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(l,e),"none"!==r&&!!i&&l.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+o.datepickerNext+" "+o.cornerAll,o.icon+" ui-icon-circle-triangle-"+(s?"w":"e")+" "+(s?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),l.writeEndTag("div")),l.toString()},t.prototype._formatDate=function(e,t){return l.getTicks(t)?Globalize.format(t,e,this._getCulture(null)):"&nbsp;"},t}(e.wijmoWidget);t.wijcalendar=r;var s=function(){function e(){this.initSelector=":jqmData(role='wijcalendar')",this.wijCSS={datepickerInline:"ui-datepicker-inline",datepicker:"ui-datepicker",datepickerCalendar:"ui-datepicker-calendar",datepickerMulti:"ui-datepicker-multi",datepickerRtl:"datepicker-rtl",datepickerOtherMonth:"ui-datepicker-other-month",prioritySecondary:"ui-priority-secondary",effectsWrapper:"ui-effects-wrapper",datepickerNextHover:"ui-datepicker-next-hover",datepickerPrevHover:"ui-datepicker-prev-hover",datepickerNext:"ui-datepicker-next",datepickerPrev:"ui-datepicker-prev",datepickerTitle:"ui-datepicker-title",datepickerWeekDay:"ui-datepicker-week-day",datepickerWeekEnd:"ui-datepicker-week-end",datepickerUnselectable:"ui-datepicker-unselectable",datepickerDaysCellOver:"ui-datepicker-days-cell-over",datepickerToday:"ui-datepicker-today",stateHighlight:"ui-state-highlight",datepickerCurrentDay:"ui-datepicker-current-day",datepickerGroup:"ui-datepicker-group",datepickerGroupFirst:"ui-datepicker-group-first",datepickerGroupLast:"ui-datepicker-group-last",datepickerRowBreak:"ui-datepicker-row-break",datepickerHeader:"ui-datepicker-header",uiIconGripDottedVertical:"ui-icon-grip-dotted-vertical",uiDatepickerWeekCol:"ui-datepicker-week-col"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c",stateHighlight:"ui-btn-down-e"},this.culture="",this.monthCols=1,this.monthRows=1,this.titleFormat="MMMM yyyy",this.showTitle=!0,this.displayDate=void 0,this.dayRows=6,this.dayCols=7,this.weekDayFormat="short",this.showWeekDays=!0,this.showWeekNumbers=!1,this.calendarWeekRule="firstDay",this.minDate=new Date(1900,0,1),this.maxDate=new Date(2099,11,31),this.showOtherMonthDays=!0,this.showDayPadding=!1,this.selectionMode={day:!0,days:!0},this.allowPreview=!1,this.allowQuickPick=!0,this.toolTipFormat="dddd, MMMM dd, yyyy",this.prevTooltip="Previous",this.nextTooltip="Next",this.quickPrevTooltip="Quick Previous",this.quickNextTooltip="Quick Next",this.prevPreviewTooltip="",this.nextPreviewTooltip="",this.navButtons="default",this.quickNavStep=12,this.direction="horizontal",this.duration=250,this.easing="easeInQuad",this.popupMode=!1,this.autoHide=!0,this.customizeDate=null,this.title=null,this.beforeSlide=null,this.afterSlide=null,this.beforeSelect=null,this.afterSelect=null,this.selectedDatesChanged=null}return e}();r.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new s),i.wijmo.registerWidget("wijcalendar",r.prototype);var a=function(){function e(){this._html=[]}return e.prototype.writeTagLeftChar=function(){this._html[this._html.length]="<"},e.prototype.writeTagRightChar=function(){this._html[this._html.length]=">"},e.prototype.write=function(e){this._html[this._html.length]=" "+e+" "},e.prototype.writeBeginTag=function(e){this._html[this._html.length]="<"+e},e.prototype.writeEndTag=function(e){this._html[this._html.length]="</"+e+">"},e.prototype.writeFullBeginTag=function(e){this._html[this._html.length]="<"+e+">"},e.prototype.writeSelfClosingTagEnd=function(){this._html[this._html.length]="/>"},e.prototype.writeAttribute=function(e,t){void 0!==t&&null!==t&&(this._html[this._html.length]=" "+e+'="',this._html[this._html.length]=t,this._html[this._html.length]='"')},e.prototype.clean=function(){this._html=[]},e.prototype.toString=function(){return this._html.join("")},e}();t.htmlTextWriter=a;var l={addDays:function(e,t){var i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return t&&i.getDate()===e.getDate()&&(i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i.setTime(i.getTime()+24*t*3600*1e3)),i},addMonths:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},addYears:function(e,t){return this.addMonths(e,12*t)},getDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},getTicks:function(e){return e.valueOf()},isSameDate:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},getDaysInMonth:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},getWeekStartDate:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-(e.getDay()-t+7)%7)},getDayOfYear:function(e){var t=new Date(e.getFullYear(),0,1),i=this.getTicks(e)-this.getTicks(t),n=i/864e5;return Math.floor(n)+1},getFirstDayWeekOfYear:function(e,t){var i=this.getDayOfYear(e)-1,n=e.getDay()-i%7,o;return n=(n-t+14)%7,o=(i+n)/7,Math.floor(o)+1},getDayOfWeek:function(e,t){return(e.getDay()-t+7)%7},getWeekOfYearFullDays:function(e,t,i,n){var o=this.getDayOfYear(e)-1,r=this.getDayOfWeek(e,i)-o%7;return r=(i-r+14)%7,r&&r>=n&&(r-=7),r=o-r,r>=0?Math.floor(r/7)+1:this.getWeekOfYearFullDays(this.addDays(e,-(o+1)),t,i,n)},getWeekOfYear:function(e,t,i){switch(t){case"firstDay":return this.getFirstDayWeekOfYear(e,i);case"firstFullWeek":return this.getWeekOfYearFullDays(e,t,i,7);case"firstFourDayWeek":return this.getWeekOfYearFullDays(e,t,i,4)}return this.getFirstDayWeekOfYear(e,i)},getDateToken:function(e){return e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate()}},d=function(){function e(e,t){this.calendar=e,(void 0===t||l.isSameDate(t,new Date(1900,0,1)))&&(t=new Date),this.displayDate=t,this.id=this.calendar._getId()+"_"+this.calendar._getMonthID(t),this.isFirst=!1,this.isLast=!1,this.showPreview=!1,this.culture=this.calendar._getCulture(),this._calcDates(this.displayDate)}return e.prototype._calcDates=function(e){var t=l.getDaysInMonth(e);this._startDateInMonth=new Date(e.getFullYear(),e.getMonth(),1),this._endDateInMonth=l.addDays(this._startDateInMonth,t-1),this._startDate=l.getWeekStartDate(this._startDateInMonth,this.culture.calendar.firstDay),this._endDate=l.addDays(this._startDate,this.calendar.options.dayRows*this.calendar.options.dayCols-1)},e.prototype._isFirstMonth=function(){var e=this.calendar.getDisplayDate();return l.isSameMonth(this._startDateInMonth,e)},e.prototype._isLastMonth=function(){var e=this.calendar.getDisplayDate();return e=new Date(e.getFullYear(),e.getMonth(),1),e=l.addMonths(e,this.calendar.options.monthCols*this.calendar.options.monthRows-1),l.isSameMonth(this._startDateInMonth,e)},e.prototype.getStartDate=function(){return this._startDate},e.prototype.getEndDate=function(){return this._endDate},e.prototype._getMonthDate=function(){return void 0===this._startDateInMonth,this._startDateInMonth},e.prototype._setMonthDate=function(e){this._calcDates(e)},e.prototype._getWeekDayText=function(e,t){t=t||"short";var i=this.culture.calendar.days,n="";switch(t){case"full":n=i.names[e];break;case"firstLetter":n=i.names[e].substring(0,1);break;case"abbreviated":n=i.namesAbbr[e];break;default:n=i.namesShort[e]}return n},e.prototype._getRowCount=function(){var e=this.calendar.options;return e.showWeekDays?e.dayRows+1:e.dayRows},e.prototype._getColCount=function(){var e=this.calendar.options;return e.showWeekNumbers?e.dayCols+1:e.dayCols},e.prototype._getDayType=function(e){var t=this.calendar.options,i=o.general,n=e.getDay(),r=6===n||0===n,s=e<t.minDate||e>t.maxDate,a=e<this._startDateInMonth||e>this._endDateInMonth,d=s||this.calendar._getDisabledDates().contains(e),c=this.calendar._getSelectedDates().contains(e),h=new Date,u=l.isSameDate(e,h),p=!1;return r&&(i|=o.weekEnd),u&&(i|=o.today),d&&(i|=o.disabled),a&&(i|=o.otherMonth),s&&(i|=o.outOfRange),c&&(i|=o.selected),p&&(i|=o.custom),a&&!t.showOtherMonthDays&&(i|=o.gap),i},e.prototype._refreshDate=function(e){if(!(e<this._startDate||e>this._endDate)){var t=this.calendar.options,n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),o=Date.UTC(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()),r=Math.floor(Math.abs(n-o)/864e5),s=Math.floor(r/this.calendar.options.dayCols),a=Math.floor(r%this.calendar.options.dayCols),l,d,c,h;t.showWeekNumbers&&a++,t.showWeekDays&&s++,l=i("#"+this.id,this.calendar.element).get(0),l&&s<l.rows.length&&(d=l.rows[s],a<d.cells.length&&(c=d.cells[a],h=this._getDayType(e),i(c).attr("daytype",h.toString()),this.calendar._refreshDayCell(c)))}},e.prototype._fillDayCell=function(e,t,i){var n=this.calendar.options,r=null,s=t.getDate().toString(),a=this.calendar._formatDate(n.toolTipFormat||"dddd, MMMM dd, yyyy",t),l=this._getDayType(t),d=this.calendar._isSelectable(l),c=this.calendar._getCellClassName(l,t,i);s=n.showDayPadding&&1===s.length?"0"+s:s,e.writeBeginTag("td"),e.writeAttribute("daytype",l.toString()),d&&(e.writeAttribute("title",a),e.writeAttribute("aria-label",a)),e.writeAttribute("date",t.toDateString()),e.writeAttribute("class",c.cssCell),e.writeAttribute("role","gridcell"),d||e.writeAttribute("aria-disabled","true"),e.writeTagRightChar(),l&o.gap?e.write("&#160;"):r&&r.content?e.write(r.content):(e.writeBeginTag("a"),e.writeAttribute("class",c.cssText),e.writeAttribute("href","#"),e.writeAttribute("onclick","return false;"),e.writeTagRightChar(),e.write(s),e.writeEndTag("a")),e.writeEndTag("td")},e.prototype.getHtml=function(e){e=!!e;var t=this.calendar.options,i=t.wijCSS,n=!!this.calendar.element.data("preview.wijcalendar"),o=new a,r,s,d,c,h,u,p,f,g,m,w,v;if(!e&&t.showTitle&&o.write(this.calendar._getHeaderHtml(this._startDateInMonth,this.isFirst,this.isLast)),!e&&!n&&this.showPreview&&(o.writeBeginTag("div"),o.writeAttribute("class","wijmo-wijcalendar-prevpreview-button"),o.writeAttribute("role","button"),o.writeAttribute("aria-haspopup","true"),o.writeAttribute("id","prevPreview"),o.writeTagRightChar(),o.writeBeginTag("a"),o.writeAttribute("class",i.icon+" "+i.uiIconGripDottedVertical),o.writeAttribute("href","#"),o.writeAttribute("title",t.prevPreviewTooltip),o.writeAttribute("aria-label",t.prevPreviewTooltip),o.writeAttribute("onclick","return false;"),o.writeTagRightChar(),o.write("&#160;"),o.writeEndTag("a"),o.writeEndTag("div")),o.writeBeginTag("table"),o.writeAttribute("id",this.id),o.writeAttribute("class",i.datepickerCalendar+" wijmo-wijcalendar-table"),o.writeAttribute("role","grid"),o.writeAttribute("summary",this.calendar._getTitleText(this._startDateInMonth)),o.writeAttribute("onselectstart","return false;"),o.writeTagRightChar(),t.showWeekDays){for(o.writeFullBeginTag("thead"),o.writeBeginTag("tr"),o.writeTagRightChar(),t.showWeekNumbers&&(o.writeBeginTag("th"),o.writeAttribute("id",this.id+"_ms"),o.writeAttribute("class",i.uiDatepickerWeekCol+" wijmo-wijcalendar-monthselector"+(t.selectionMode.month?" wijmo-wijcalendar-selectable":"")),o.writeAttribute("role","columnheader"),o.writeTagRightChar(),t.selectionMode.month&&!n?(o.writeBeginTag("a"),o.writeAttribute("class",i.icon+" "+i.iconArrowRightDown),o.writeAttribute("style","display: block;"),o.writeSelfClosingTagEnd()):o.write(t.weekString?t.weekString:"Wk"),o.writeEndTag("th")),d=this._startDate.getDay(),c=this._startDate,r=0;r<t.dayCols;r++)h=6===d||0===d,u=r+(t.showWeekNumbers?1:0),p=this._getWeekDayText(d,t.weekDayFormat),f=this._getWeekDayText(d,"full"),o.writeBeginTag("th"),o.writeAttribute("id",this.id+"_cs_"+u),o.writeAttribute("class",i.datepickerWeekDay+(h?" "+i.datepickerWeekEnd:"")+(t.selectionMode.weekDay?" wijmo-wijcalendar-selectable":"")),o.writeAttribute("role","columnheader"),o.writeTagRightChar(),o.writeBeginTag("span"),o.writeAttribute("title",f),o.writeAttribute("aria-label",f),o.writeTagRightChar(),o.write(p),o.writeEndTag("span"),o.writeEndTag("th"),d=(d+1)%7,c=l.addDays(c,1);o.writeEndTag("tr"),o.writeEndTag("thead")}for(o.writeFullBeginTag("tbody"),g=this._startDate,m=this._startDateInMonth,r=0;r<t.dayRows;r++){for(o.writeBeginTag("tr"),o.writeTagRightChar(),t.showWeekNumbers&&(w=r+(t.showWeekDays?1:0),o.writeBeginTag("td"),o.writeAttribute("id",this.id+"_rs_"+w),o.writeAttribute("class",i.uiDatepickerWeekCol+" wijmo-wijcalendar-week-num"+(t.selectionMode.weekNumber?" wijmo-wijcalendar-selectable":"")),o.writeAttribute("role","rowheader"),o.writeTagRightChar(),v=l.getWeekOfYear(m,t.calendarWeekRule,this.culture.calendar.firstDay),o.write(v),o.writeEndTag("td"),m=l.addDays(m,t.dayCols)),s=0;s<t.dayCols;s++)this._fillDayCell(o,g,n),g=l.addDays(g,1);o.writeEndTag("tr")}return o.writeEndTag("tbody"),o.writeEndTag("table"),!e&&!n&&this.showPreview&&(o.writeBeginTag("div"),o.writeAttribute("class","wijmo-wijcalendar-nextpreview-button"),o.writeAttribute("role","button"),o.writeAttribute("aria-haspopup","true"),o.writeAttribute("id","nextPreview"),o.writeTagRightChar(),o.writeBeginTag("a"),o.writeAttribute("class",i.icon+" "+i.uiIconGripDottedVertical),o.writeAttribute("href","#"),o.writeAttribute("title",t.nextPreviewTooltip),o.writeAttribute("aria-label",t.nextPreviewTooltip),o.writeAttribute("onclick","return false;"),o.writeTagRightChar(),o.write("&#160;"),o.writeEndTag("a"),o.writeEndTag("div")),o.toString()},e}();t.wijMonthView=d;var c=function(){function e(e,t){this._calendar=e,this._optionName=t?t:"selectedDates",this._normalize()}return e.prototype.getDates=function(){return void 0===this._calendar.options[this._optionName]&&(this._calendar.options[this._optionName]=[]),this._calendar.options[this._optionName]},e.prototype.setDates=function(e){this._calendar.options[this._optionName]=e,this._normalize()},e.prototype.getCount=function(){return this.getDates().length},e.prototype.clear=function(){this.setDates([])},e.prototype.add=function(e){this.addRange(e,e)},e.prototype.remove=function(e){this.removeRange(e,e)},e.prototype.indexOf=function(e){return this.getCount()?this._findRangeBound(e,!0,!1):-1},e.prototype.contains=function(e){return-1!==this.indexOf(e)},e.prototype.removeRange=function(e,t){if(this.getCount()){var i=this._findRangeBound(e,!1,!0),n=this._findRangeBound(t,!1,!1),o,r,s;0>i||0>n||i>n||(o=this.getDates(),o[n]>t||(r=i?o.slice(0,i):[],s=n>=o.length-1?[]:o.slice(n+1),this.setDates(r.concat(s))))}},e.prototype.addRange=function(e,t){this.removeRange(e,t);var i=this.getDates(),n=this._findRangeBound(e,!1,!0),o=n?i.slice(0,n):[],r=i.slice(n),s=[],a;for(e=l.getDate(e),t=l.getDate(t),a=e;t>=a;a=l.addDays(a,1))s[s.length]=a;this.setDates(o.concat(s.concat(r)))},e.prototype._findRangeBound=function(e,t,i){for(var n=this.getDates(),o=0,r=n.length,s;r>o;){if(s=o+r>>1,l.isSameDate(e,n[s]))return s;e<n[s]?r=s:o=s+1}return t?-1:i?o:r},e.prototype._parseDate=function(e){var t;if(e?"string"==typeof e&&(t=e):e=new Date,t){t=t.replace(/-/g,"/");try{e=new Date(t),isNaN(e)&&(e=new Date)}catch(i){e=new Date}}return e},e.prototype._normalize=function(){var e=this._calendar.options[this._optionName],t=this,n;i.isArray(e)&&(n=i.map(e,function(e,i){return t._parseDate(e)}),this._calendar.options[this._optionName]=n.sort(function(e,t){return e.getTime()-t.getTime()}))},e}();t.wijDateCollection=c;var h=function(){function e(e){this.gridType="month",this.calendar=e,e&&(this.culture=e._getCulture())}return e.prototype.select=function(e,t){var i=this.calendar.getDisplayDate();switch(this.gridType){case"month":i.setMonth(t);break;case"year":i.setFullYear(t);break;case"decade":i.setFullYear(t)}this.calendar.options.displayDate=i},e.prototype.getSelectedIndex=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),i=10*Math.floor(t/10)-1,n=100*Math.floor(t/100)-10;switch(this.gridType){case"month":return e.getMonth();case"year":return t-i;case"decade":return Math.floor((t-n)/10)}return 0},e.prototype.getTitle=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),i=10*Math.floor(t/10)-1,n=100*Math.floor(t/100)-10;switch(this.gridType){case"month":return t.toString();case"year":return i+1+" - "+(i+10);case"decade":return n+10+" - "+(n+109)}return""},e.prototype.getHtml=function(e,t){void 0===e?e=this.calendar.getDisplayDate():"boolean"==typeof e&&(t=e,e=this.calendar.getDisplayDate()),t=!!t;var i=this.calendar.options,n=3,o=4,r=new a,s=i.wijCSS,l,d,c,h,u,p,f,g,m,w,v,b,_,y;for(i.showTitle&&!t&&r.write(this.calendar._getHeaderHtml(null,!0,!0)),l=100/n+"%",l="30%",r.writeBeginTag("table"),r.writeAttribute("class",s.datepickerCalendar+" wijmo-wijcalendar-mygrid"),r.writeAttribute("role","grid"),r.writeAttribute("onselectstart","return false;"),r.writeTagRightChar(),d=e.getFullYear(),c=12*e.getFullYear(),h=10*Math.floor(d/10)-1,u=100*Math.floor(d/100)-10,p=this.culture.calendar.months,f=0;n>f;f++){for(r.writeBeginTag("tr"),r.writeAttribute("height",l),r.writeTagRightChar(),g=0;o>g;g++){switch(m=4*f+g,w=!1,v=!1,b="",_=null,this.gridType){case"month":e.getMonth()===m&&(w=!0),_=m,b=p.namesAbbr[m],v=c+m<12*i.minDate.getFullYear()+i.minDate.getMonth()||c+m>12*i.maxDate.getFullYear()+i.maxDate.getMonth();break;case"year":(0===m||11===m)&&(v=!0),_=h+m,_<i.minDate.getFullYear()||_>i.maxDate.getFullYear()?v=!0:w=d===_,b=_.toString();break;case"decade":(0===m||11===m)&&(v=!0),_=u+10*m,_+10<i.minDate.getFullYear()||_>i.maxDate.getFullYear()?v=!0:w=d>=_&&_+10>d,b=_.toString()+"-<br/>"+(_+9).toString()}y=s.datepickerWeekDay,v?y=y+" "+s.datepickerOtherMonth+" "+s.prioritySecondary+" "+s.datepickerUnselectable:!i.disabledState&&!i.disabled&&(y+=" wijmo-wijcalendar-day-selectable"),y+=" "+s.stateDefault+(v?" "+s.stateDisabled:"")+(w?" "+s.stateActive+" "+s.stateHighlight:""),r.writeBeginTag("td"),r.writeAttribute("class",y),r.writeAttribute("role","gridcell"),r.writeAttribute("index",m.toString()),r.writeAttribute("value",_.toString()),r.writeAttribute("other",v.toString()),r.writeTagRightChar(),r.writeBeginTag("a"),r.writeAttribute("href","#"),r.writeTagRightChar(),r.write(b),r.writeEndTag("a"),r.writeEndTag("td")}r.writeEndTag("tr")}return r.writeEndTag("table"),r.toString()},e}();t.wijMyGrid=h}(e.calendar||(e.calendar={}));var t=e.calendar}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijexpander",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(e,t){switch(e){case"contentUrl":t?this.element.find("> ."+this.options.wijCSS.content).wijContent(t):this.element.find("> ."+this.options.wijCSS.content).html("");break;case"disabled":t?(this.element.addClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).addClass(this.options.wijCSS.stateDisabled)):(this.element.removeClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").removeClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).removeClass(this.options.wijCSS.stateDisabled));break;case"expandDirection":this._onDirectionChange(t,!0,this.options.expandDirection);break;case"expanded":return void(t?this.expand():this.collapse())}i.wijmo.widget.prototype._setOption.apply(this,arguments)},t.prototype._create=function(){var e=this.options,t=this.element.children(),n,o;window.wijmoApplyWijTouchUtilEvents&&(i=window.wijmoApplyWijTouchUtilEvents(i)),this.element.addClass("wijmo-wijexpander ui-expander "+e.wijCSS.widget+" ui-expander-icons"),n=i(t[0]),o=i(t[1]),("left"===e.expandDirection||"top"===e.expandDirection)&&(n.remove(),n.insertAfter(o)),n.addClass("ui-expander-header"),n.attr("role","tab"),o.attr("role","tabpanel"),0===n.find("> a").length&&n.wrapInner('<a href="javascript:void(null)"></a>'),0===n.find("> .ui-icon").length&&i('<span class="ui-icon"></span>').insertBefore(i("> a",n)[0]),o.addClass("ui-expander-content "+e.wijCSS.content)},t.prototype._init=function(){var e=this.options;this._onDirectionChange(e.expandDirection,!1),e.contentUrl&&i("."+e.wijCSS.content,this.element).wijContent(this.options.contentUrl),e.expanded?(this.element.find("> .ui-expander-header").addClass(e.wijCSS.stateDefault+" "+e.wijCSS.stateActive).attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> .ui-icon").addClass(this._triangleIconOpened),this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(this.element.find("> .ui-expander-content").hide(),this.element.find("> .ui-expander-header").addClass(e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed)),e.disabled&&(this.element.addClass(e.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(e.wijCSS.stateDisabled),this.element.find("> .ui-expander-content").addClass(e.wijCSS.stateDisabled)),this._bindLiveEvents()},t.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass("wijmo-wijexpander ui-expander "+e.wijCSS.widget+" ui-helper-reset ui-expander-icons"),i.wijmo.widget.prototype.destroy.apply(this,arguments)},t.prototype._bindLiveEvents=function(){var e=this.options;this.element.on("click.wijexpander",">.ui-expander-header",jQuery.proxy(this._onHeaderClick,this)),this.element.on("mouseenter.wijexpander",".ui-expander-header",function(){i(this).addClass(e.wijCSS.stateHover)}),this.element.on("mouseleave.wijexpander",".ui-expander-header",function(){i(this).removeClass(e.wijCSS.stateHover)}),this.element.on("focus.wijexpander",".ui-expander-header",function(){i(this).addClass(e.wijCSS.stateFocus)}),this.element.on("blur.wijexpander",".ui-expander-header",function(){i(this).removeClass(e.wijCSS.stateFocus)})},t.prototype._unbindLiveEvents=function(){this.element.off(".wijexpander",".ui-expander-header")},t.prototype._onDirectionChange=function(e,t,n){"undefined"==typeof n&&(n=null);var o,r,s,a,l,d,c,h,u=this.options;switch(n&&n!==e&&this.element.removeClass("ui-expander-"+n),t&&(r=this.element.find(".ui-expander-header."+this._headerCornerOpened),r.removeClass(this._headerCornerOpened),s=this.element.find(".ui-expander-content."+this._contentCornerOpened),s.removeClass(this._contentCornerOpened),a=this.element.find("."+this._triangleIconOpened),l=this.element.find("."+this._triangleIconClosed),a.removeClass(this._triangleIconOpened),l.removeClass(this._triangleIconClosed)),e){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened=u.wijCSS.iconArrowUp,this._triangleIconClosed=u.wijCSS.iconArrowRight,o=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened=u.wijCSS.iconArrowRight,this._triangleIconClosed=u.wijCSS.iconArrowDown,o=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened=u.wijCSS.iconArrowLeft,this._triangleIconClosed=u.wijCSS.iconArrowDown,o=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened=u.wijCSS.iconArrowDown,this._triangleIconClosed=u.wijCSS.iconArrowRight,o=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-bottom")}d=this.element.data("rightToLeft"),this.element.data("rightToLeft",o),t&&(a.addClass(this._triangleIconOpened),l.addClass(this._triangleIconClosed),r.addClass(this._headerCornerOpened),s.addClass(this._contentCornerOpened)),t&&o!==d&&this.element.children(".ui-expander-header").each(function(e,t){h=i(this),o?(c=h.next(".ui-expander-content"),h.remove(),h.insertAfter(c)):(c=h.prev(".ui-expander-content"),h.remove(),h.insertBefore(c))})},t.prototype.collapse=function(){var e=this.options,t,n,o,r;if(e.allowExpand)return this.element.hasAllClasses(e.wijCSS.stateDisabled)?!1:this._trigger("beforeCollapse")?(e.animated?(t={expand:!1,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").removeClass("ui-expander-content-active"),this._trigger("afterCollapse"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},n=i.wijmo.wijexpander.animations,o=e.duration,r=e.animated,r&&!n[r]&&!i.easing[r]&&(r="slide"),n[r]||(n[r]=function(e){this.slide(e,{easing:r,duration:o||700})}),n[r](t)):(this.element.find("> .ui-expander-content").hide(),this._trigger("afterCollapse")),this.element.find("> .ui-expander-header").removeClass(e.wijCSS.stateActive).removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass(e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),this.options.expanded=!1,!0):!1},t.prototype.expand=function(){var e=this.options,t,n,o,r;if(e.allowExpand)return this.element.hasAllClasses(e.wijCSS.stateDisabled)?!1:this._trigger("beforeExpand")?(e.animated?(t={expand:!0,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),this._trigger("afterExpand"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},n=i.wijmo.wijexpander.animations,o=e.duration,r=e.animated,r&&!n[r]&&!i.easing[r]&&(r="slide"),n[r]||(n[r]=function(e){this.slide(e,{easing:r,duration:o||700})}),n[r](t)):(this.element.find("> .ui-expander-content").show(),this._trigger("afterExpand")),this.element.find("> .ui-expander-header").removeClass(e.wijCSS.cornerAll).addClass(e.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),this.options.expanded=!0,!0):!1},t.prototype._onHeaderClick=function(e){this.option("expanded",!this.options.expanded)},t}(e.wijmoWidget);t.wijexpander=o;var r=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-content ui-body ui-body-c"},this.initSelector=":jqmData(role='wijexpander')",this.allowExpand=!0,this.animated="slide",this.contentUrl="",this.expanded=!0,this.expandDirection="bottom",this.beforeCollapse=null,this.beforeExpand=null,this.afterCollapse=null,this.afterExpand=null}return e}();o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new r),i.wijmo.registerWidget(n,o.prototype),i.extend(i.wijmo.wijexpander,{animations:{slide:function(e,t){var n;e=i.extend({easing:"swing",duration:300},e,t),e.expand?(n=e.horizontal?{width:"show",opacity:"show"}:{height:"show",opacity:"show"},e.content.stop(!0,!0).animate(n,e)):(n=e.horizontal?{width:"hide",opacity:"hide"}:{height:"hide",opacity:"hide"},e.content.stop(!0,!0).animate(n,e))}}})}(e.expander||(e.expander={}));var t=e.expander}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijmenu",o=function(t){
function n(){t.apply(this,arguments)}return __extends(n,t),n._itemWidgetName="wijmenuitem",n.prototype._preventEvent=function(e){e.preventDefault(),e.stopImmediatePropagation()},n.prototype._initState=function(){var e=this;e.options.items||(e.options.items=[])},n.prototype._create=function(){var t=this,o=t.options,r=o.direction,s=o.mode,a,l=t.element,d,c=e.getKeyCodeEnum(),h=o.disabled;t._initState(),l.is(":hidden")&&l.wijAddVisibilityObserver&&l.wijAddVisibilityObserver(function(){t.refresh(),l.wijRemoveVisibilityObserver&&l.wijRemoveVisibilityObserver()},"wijmenu"),l.data("wijmomenu",i.camelCase(t.widgetFullName)),t.clickNameSpace="click.wijmenudoc"+t._newId(),l.hide(),t.cssPre="wijmo-wijmenu",t.nowIndex=9999,t.activeItem=null,t.refresh(),l.attr("tabIndex",0),t._getDisabled()&&(t.disable(),o.disabledState===!0&&(o.disabled=h)),l.bind("keydown.wijmenuEvent",function(e){if(!t._getDisabled()){"sliding"===s&&t._getSublist().stop(!0,!0);var i=t.activeItem,l,h,u=o.orientation;switch(i?(l=i._isRoot(),d=i._getSublist()):l=!0,e.keyCode){case c.PAGE_UP:t.previousPage(e),t._preventEvent(e);break;case c.PAGE_DOWN:t.nextPage(e),t._preventEvent(e);break;case c.UP:"vertical"!==u&&"sliding"!==s&&l||(t.previous(e),t._preventEvent(e));break;case c.DOWN:"vertical"!==u&&"sliding"!==s&&l?i&&"flyout"===s&&n._hasVisibleSubMenus(i)&&d.is(":hidden")&&i._showFlyoutSubmenu(e,function(){t.activate(e,i._getFirstSelectableSubItem())}):(t.next(e),t._preventEvent(e));break;case c.RIGHT:"horizontal"===u&&l&&"flyout"===s?("rtl"===r?t.previous(e):t.next(e),t._preventEvent(e)):i&&(a=i.getParent(),"rtl"===r?t._keyDownToCloseSubmenu(s,e,a):t._keyDownToOpenSubmenu(i,s,e,d));break;case c.LEFT:"horizontal"===u&&l&&"flyout"===s?("rtl"===r?t.next(e):t.previous(e),t._preventEvent(e)):(i&&(a=i.getParent()),"rtl"===r?t._keyDownToOpenSubmenu(i,s,e,d):t._keyDownToCloseSubmenu(s,e,a));break;case c.ENTER:if(!i)return;if(h=i._getLink(),"flyout"===s)break;t.select(),h.is("a")&&"#"===h.attr("href")&&t._preventEvent(e);break;case c.TAB:t.next(e),t._preventEvent(e)}}})},n.prototype._keyDownToOpenSubmenu=function(e,t,i,o){var r=this;"flyout"===t&&n._hasVisibleSubMenus(e)?o.is(":hidden")&&e._showFlyoutSubmenu(i,function(){r.activate(i,e._getFirstSelectableSubItem())}):"sliding"===t&&o.length>0&&e._getLink().trigger("click",e._getFirstSelectableSubItem())},n.prototype._keyDownToCloseSubmenu=function(e,t,n){var o=this,r=o.options,s;"flyout"===e?n&&(n._hideCurrentSubmenu(t),o.activate(t,n)):(r.backLink&&o._backLink&&o._backLink.is(":visible")&&o._backLink.trigger("click",function(){n&&o.activate(t,n)}),s=i("."+r.wijCSS.wijmenuBreadcrumb,o.domObject.menucontainer).find("li a"),s.length>0&&s.eq(s.length-2).trigger("click",function(){n&&o.activate(t,n)}))},n.prototype._createMenuItems=function(){var e=this,t=[],o=e.options,r=e.options.items.length,s=e._getSublist().children("li").length,a,l,d;for(a=0;r-s>a;a++)e._getSublist().append("<li>");return o.ensureSubmenuOnBody&&"flyout"===o.mode&&(e._submenuContainer=i("<div>").addClass(o.wijCSS.helperReset).addClass(o.wijCSS.widget).addClass(o.wijCSS.header).addClass(o.wijCSS.wijmenu).addClass(o.wijCSS.wijmenuSubmenuContainer),"horizontal"===o.orientation&&"flyout"===o.mode&&e._submenuContainer.addClass(o.wijCSS.wijmenuHorizontal),d=i("<ul>").addClass(o.wijCSS.wijmenuList).addClass(o.wijCSS.helperReset).data(i.camelCase(e.widgetFullName),e).data("wijmomenu",i.camelCase(e.widgetFullName))),i(">li",e._getSublist()).each(function(r,s){var a=i(this),c=n._getMenuItemOptions(e.options,r),h,u;return l=e._createItemWidget(a,c),t.push(l),e.options.items[r]=l.options,o.ensureSubmenuOnBody&&"flyout"===o.mode&&(u=l._getSublist(),e._bindMousehoverEvent(u),u.children().length>0&&(h=i("<li>").addClass(o.wijCSS.widget).addClass(o.wijCSS.wijmenuItem).addClass(o.wijCSS.stateDefault).addClass(o.wijCSS.cornerAll).addClass(o.wijCSS.wijmenuParent).addClass(o.wijCSS.header).append(u),i(h).appendTo(d))),o.ensureSubmenuOnBody&&"flyout"===o.mode&&i(e._submenuContainer).append(d).appendTo("body"),this}),t},n.prototype._createItemWidget=function(e,t){var o=n._itemWidgetName;return i.fn[o]&&e[o](t),n._getItemWidget(e)},n.prototype._handleDisabledOption=function(e,t){var i=this;e?(i.disabledDiv||(i.disabledDiv=i._createDisabledDiv(t)),i.disabledDiv.appendTo(i.domObject.menucontainer)):i.disabledDiv&&(i.disabledDiv.remove(),i.disabledDiv=null)},n.prototype._getDisabled=function(){var e=this,t=e.options;return t.disabledState===!0||t.disabled===!0},n.prototype._createDisabledDiv=function(e){return i("<div></div>").css({"z-index":"99999",position:"absolute",width:"100%",height:"100%",left:0,top:0})},n.prototype._innerDestroy=function(){var e=this,t=e.options;e.destroying=!0,e["flyout"===t.mode?"_killFlyout":"_killDrilldown"](),e._killMenuItems(),e._killtrigger(),e._killElement(),t.ensureSubmenuOnBody&&"flyout"===t.mode&&e._submenuContainer&&e._submenuContainer.remove(),e.destroying=!1},n.prototype.destroy=function(){var e=this;this._innerDestroy(),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),t.prototype.destroy.call(this)},n.prototype.activate=function(e,t){if(t){var i=this,o=i.options,r=i.domObject.scrollcontainer,s,a,l=!1,d=!0;s=(t.jquery?t:t.element).eq(0),i.activeItem&&i.activeItem.element.get(0)===s.get(0)||(i.deactivate(e),i.activeItem=n._getItemWidget(s),a=s.children(":first"),i._trigger("focus",e,{item:i.activeItem}),"sliding"===i.options.mode&&(d=s.parent().is("."+o.wijCSS.wijmenuCurrent),l=d&&i._hasScroll()&&r.wijsuperpanel("needToScroll",s),l&&(i._linkContainer.link=a,i._linkContainer.needToFocus=!0,r.wijsuperpanel("scrollChildIntoView",s))),a.addClass(o.wijCSS.stateFocus).end(),i.element.removeAttr("aria-activedescendant"),i.element.attr("aria-activedescendant",s.attr("id")),d&&!l&&a.is("a")&&a.focus())}},n.prototype.deactivate=function(e){var t=this,i=t.options,n=t.activeItem;n&&(setTimeout(function(){n._getLink().removeClass(i.wijCSS.stateFocus).removeAttr("id"),t._trigger("blur")},0),t.activeItem=null)},n.prototype.next=function(e){this._move("next",function(e){return e._getFirstSelectableSubItem()},e)},n.prototype.previous=function(e){this._move("previous",function(e){return e._getLastSelectableSubItem()},e)},n.prototype.first=function(){var e=this,t,i,n;return e.activeItem?(t=e._getActiveItemElement(),i=e.activeItem._getParentOrMenu(),n=i._getFirstSelectableSubItem(),n&&t[0]===n.element[0]):!1},n.prototype.last=function(){var e=this,t,i,n;return e.activeItem?(t=e._getActiveItemElement(),i=e.activeItem._getParentOrMenu(),n=i._getLastSelectableSubItem(),n&&t[0]===n.element[0]):!1},n.prototype.nextPage=function(e){var t=this,o=t._getActiveItemElement(),r,s,a,l,d;if(o?l=t.activeItem._getParentOrMenu():(l=t,o=t._getFirstSelectableSubItem()),"sliding"===t.options.mode&&t._hasScroll()){if(!o||t.last())return void t.activate(e,l._getFirstSelectableSubItem());r=o.offset().top,s=t.options.maxHeight,a=n._getSelectableSubItems(l,function(e){var t=i(e.element),n=s-(t.offset().top-r+t.height()),o=t.height();return o>n&&n>-o}),a=a.length?a[a.length-1]:l._getLastSelectableSubItem(),t.activate(e,a)}else d=!o||t.last()?l._getFirstSelectableSubItem():l._getLastSelectableSubItem(),t.activate(e,d)},n.prototype.previousPage=function(e){var t=this,o=t._getActiveItemElement(),r,s,a,l,d;if(o?l=t.activeItem._getParentOrMenu():(l=t,o=t._getFirstSelectableSubItem()),"sliding"===t.options.mode&&t._hasScroll()){if(!o||t.first())return void t.activate(e,l._getLastSelectableSubItem());r=o.offset().top,s=t.options.maxHeight,a=n._getSelectableSubItems(l,function(e){var t=i(e.element),n=t.offset().top-r+s-t.height(),o=t.height();return o>n&&n>-o}),a=a.length?a[0]:l._getFirstSelectableSubItem(),t.activate(e,a)}else d=!o||t.first()?l._getLastSelectableSubItem():l._getFirstSelectableSubItem(),t.activate(e,d)},n.prototype.select=function(e){var t=this,i=t.activeItem,n;t._trigger("select",e,{item:i}),t.options.checkable&&(n=!i.options.selected,i._setOption("selected",n))},n.prototype._getActiveItemElement=function(){return this.activeItem?this.activeItem.element:null},n.prototype.setItemDisabled=function(e,t){var n=i(e,this.element),o=this.options;n.find("."+o.wijCSS.wijmenuItem+">a").attr("disabled",t),n.find(">a").toggleClass(o.wijCSS.stateDisabled,t)},n.prototype._setOption=function(e,t){var i=this;i.destroying||(i["_set_"+e]&&i["_set_"+e](t),i.options[e]=t,"disabled"===e&&i._handleDisabledOption(t,i.domObject.menucontainer))},n.prototype._set_items=function(e){var t=this;t._getSublist().children().remove(),t.options.items=e,t.refresh()},n.prototype._set_mode=function(e){var t=this;t._innerDestroy(),t.options.mode=e,t.refresh()},n.prototype._set_backLink=function(e){var t=this,n=t.options,o;this.options.backLink=e,"sliding"===t.options.mode&&(t._killDrilldown(),t._drilldown(),o=i("."+n.wijCSS.wijmenuBreadcrumb,t.domObject.menucontainer),t._resetDrilldownMenu(o))},n.prototype._set_direction=function(e){var t=this;t._innerDestroy(),t.refresh()},n.prototype._set_orientation=function(e){var t=this,n=t.domObject.menucontainer,o=t.options.direction,r="ui-icon-triangle-1-",s="rtl"===o?"w":"e",a="horizontal"===e?s:"s",l="horizontal"===e?"s":s;n.removeClass(t.cssPre+"-vertical "+t.cssPre+"-horizontal"),"flyout"===t.options.mode?(n.addClass(t.cssPre+"-"+e),i.each(t.getItems(),function(e,t){0!==t.getItems().length&&t._getLink().find("."+r+a).removeClass(r+a+" "+r+l).addClass(r+l)})):n.addClass(t.cssPre+"-vertical")},n.prototype._getTriggerEle=function(){return n._getOuterElement(this.options.trigger,"."+this.options.wijCSS.wijmenu)},n.prototype._set_triggerEvent=function(e){var t=this,i=t.options,n=t._getTriggerEle();t._killtrigger(),i.triggerEvent=e,n.length>0&&t._initTrigger(n),"flyout"===i.mode&&(t._killFlyout(),t._flyout())},n.prototype._set_trigger=function(e){var t=this,i=t.options,n;t._killtrigger(),i.trigger=e,n=t._getTriggerEle(),n.length>0&&t._initTrigger(n),"flyout"===i.mode&&(t._killFlyout(),t._flyout())},n.prototype._initTrigger=function(e){var t=this.options,n=t.triggerEvent,o=this,r=o.domObject.menucontainer,s=".wijmenuEvent";switch(e.is("iframe")&&(e=i(e.get(0).contentWindow.document)),n){case"click":e.bind(n+s,function(e){"popup"!==t.mode&&o._displayMenu(e),e.stopPropagation()});break;case"mouseenter":e.bind(n+s,function(e){o._displayMenu(e),e.stopPropagation()});break;case"dblclick":e.bind(n+s,function(e){o._displayMenu(e),e.stopPropagation()});break;case"rtclick":e.bind("contextmenu"+s,function(e){r.hide(),o._displayMenu(e),e.preventDefault(),e.stopPropagation()})}},n.prototype._killtrigger=function(){var e=this.options,t;""!==e.trigger&&(t=i(e.trigger),t.is("iframe")&&(t=i(t.get(0).contentWindow.document)),t&&t.length>0&&t.unbind(".wijmenuEvent").unbind("wijmenuEvent"))},n.prototype._move=function(e,t,i){var o=this,r=o._getActiveItemElement(),s,a,l;return r&&r.length?(l=n._getItemWidget(r),s=l[e](),a=l._getParentOrMenu(),s?o.activate(i,s):o.activate(i,t(a)),void 0):void o.activate(i,t(o))},n.prototype._bindMousehoverEvent=function(e){var t=this,n=t.options;e.delegate("li>."+n.wijCSS.wijmenuLink,"mouseenter.wijmenuEvent",function(){var e=i(this).hasAllClasses(n.wijCSS.stateDisabled);t._getDisabled()||e||i(this).addClass(n.wijCSS.stateHover).addClass(n.wijCSS.stateDefault)}).delegate("li>."+n.wijCSS.wijmenuLink,"mouseleave.wijmenuEvent",function(){var e=i(this).hasAllClasses(n.wijCSS.stateDisabled);t._getDisabled()||e||(i(this).removeClass(n.wijCSS.stateHover).removeClass(n.wijCSS.stateDefault),i(this).data("subMenuOpened")&&i(this).addClass(n.wijCSS.stateActive))})},n.prototype.refresh=function(){var e=this,t=e.element,n=e.options,o=n.direction,r,s,a,l,d;if(e.domObject&&e._innerDestroy(),t.is("ul"))e._rootMenu=t,r=t.wrap("<div></div>").parent(),s=r.wrap("<div></div>").parent();else{if(!t.is("div"))return;e._rootMenu=i("ul:first",t),r=t,s=t.wrap("<div></div>").parent()}"rtl"===o&&e._rootMenu.addClass(n.wijCSS.wijmenuRtl),r.addClass("scrollcontainer checkablesupport"),s.addClass(n.wijCSS.widget).addClass(n.wijCSS.header).addClass(n.wijCSS.wijmenu).addClass(n.wijCSS.cornerAll).addClass(n.wijCSS.helperClearFix).attr("aria-activedescendant",n.wijCSS.activeMenuitem),"horizontal"===n.orientation&&"flyout"===n.mode&&s.addClass(n.wijCSS.wijmenuHorizontal),a={scrollcontainer:r,menucontainer:s},e.domObject=a,e._getSublist().data("topmenu",!0),e._getSublist().hasAllClasses(n.wijCSS.wijmenuList)||e._getSublist().addClass(n.wijCSS.wijmenuList).addClass(n.wijCSS.helperReset),e._items=e._createMenuItems(),t.show(),e._bindMousehoverEvent(t),this["flyout"===n.mode?"_flyout":"_drilldown"](),""!==n.trigger&&(l=e._getTriggerEle(),l.length>0&&(s.hide(),e._initTrigger(l))),i(document).bind(e.clickNameSpace,function(t){var o=n.trigger;if(!i(t.target).parent().is("."+n.wijCSS.wijmenuAllLists)&&!i(t.target).closest(n.trigger).is(n.trigger)){var r=i(t.target).closest("."+n.wijCSS.wijmenu);if(0===r.length){if("sliding"===n.mode){if(d=i("."+n.wijCSS.wijmenuBreadcrumb,s),""===n.trigger)return;e._resetDrilldownMenu(d)}else if("flyout"===n.mode&&"mouseenter"!==n.triggerEvent)return void e._hideAllMenus(t);l&&l.length>0&&e._hideMenu(t)}}})},n.prototype._flyout=function(){var e=this.domObject.menucontainer,t=this.options,n=this.getItems();e.attr("role","menu"),"horizontal"===t.orientation&&e.attr("role","menubar"),i.each(n,function(e,t){t._flyout()})},n.prototype._hideAllMenus=function(e){var t=this,n,o,r=function(t){t.getItems().length>0&&(i.each(t.getItems(),function(e,t){r(t)}),t._hideSubmenu(!1,e))};if(i.each(t._items,function(e,t){r(t)}),""!==t.options.trigger){if(n=t.domObject.menucontainer,n.data("isAnimated"))return;if(o=t._getTriggerEle(),0===o.length)return;t._hideMenu(e)}},n.prototype.hideAllMenus=function(e){this._hideAllMenus(e)},n.prototype._killFlyout=function(){i.each(this.getItems(),function(){this._killFlyout()})},n.prototype._killElement=function(){var e=this,t=e.options,n=e._getSublist();n.removeClass(t.wijCSS.wijmenuList).removeClass(t.wijCSS.helperReset).removeClass(t.wijCSS.wijmenuContent).removeClass(t.wijCSS.helperClearFix),i(document).unbind(e.clickNameSpace),e.element.is("ul")?e.element.unwrap().unwrap():e.element.unwrap(),e.domObject=null,e.element.removeData("topmenu").removeData("firstLeftValue").removeData("domObject"),n.undelegate(".wijmenuEvent")},n.prototype._killMenuItems=function(){var e=this,t=e.getItems(),i;for(i=t.length-1;i>=0;i--)t[i].destroy(!0);e._items.length=0},n.prototype._sroll=function(){var e=this.domObject.scrollcontainer,t=i.extend({hScroller:{scrollBarVisibility:"hidden"}},this.options.superPanelOptions);e.height(this.options.maxHeight),e.wijsuperpanel(t)},n.prototype._initScrollCallback=function(){var e=this,t=e.domObject.scrollcontainer;e._linkContainer={link:null,needToFocus:!1},t.wijsuperpanel({scrolled:function(){var t=e._linkContainer.link;e._linkContainer.needToFocus&&t&&t.is("a")&&(t.focus(),e._linkContainer.needToFocus=!1)}})},n.prototype._resetScroll=function(e){var t=this,i=t._rootMenu.parent(),n=5,o=t.domObject.scrollcontainer,r=e._getSublist();i.height(r.height()),o.wijsuperpanel("option","hScroller",{scrollValue:0}),o.wijsuperpanel("option","vScroller",{scrollValue:0}),o.wijsuperpanel("paintPanel"),t._hasScroll()&&(r.prev().length>0&&(n=r.prev().css("padding-left").replace(/px/g,"")),r.width(o.find(".wijmo-wijsuperpanel-contentwrapper:first").width()-n),i.height(r.height()),o.wijsuperpanel("paintPanel"))},n.prototype._hasScroll=function(){var e=this.domObject.scrollcontainer;return e.data("wijmoWijsuperpanel").vNeedScrollBar},n.prototype._resetDrillChildMenu=function(e){var t=this.options;e.removeClass(t.wijCSS.wijmenuScroll).removeClass(t.wijCSS.wijmenuCurrent).height("auto")},n.prototype._resetDrilldownMenu=function(e,t){var n=this,o=n.options,r=n._getSublist(),s=n.domObject.menucontainer,a=i("<li>"+o.crumbDefaultText+"</li>").addClass(o.wijCSS.wijmenuBreadcrumbText),l=function(e){i.each(e,function(e,t){var i=t._getSublist(),o=t.getItems();i.hide(),n._resetDrillChildMenu(i),o.length>0&&l(o)})};i("."+o.wijCSS.wijmenuCurrent,s).removeClass(o.wijCSS.wijmenuCurrent),r.animate({left:0},o.showDuration,null,function(){l(n.getItems()),r.addClass(o.wijCSS.wijmenuCurrent),t&&t()}),i("."+o.wijCSS.wijmenuAllLists,s).find("span").remove(),e.empty().append(a),i("."+o.wijCSS.wijmenuFooter,s).empty().hide(),n._resetScroll(n)},n.prototype._drilldown=function(){var e=this,t=e._getSublist(),o=e.domObject.menucontainer.attr("role","menu"),r,s=e.options,a=s.direction,l=i("<ul></ul>").addClass(s.wijCSS.wijmenuBreadcrumb).addClass(s.wijCSS.stateDefault).addClass(s.wijCSS.cornerAll).addClass(s.wijCSS.helperClearFix),d=i("<li>"+s.crumbDefaultText+"</li>").addClass(s.wijCSS.wijmenuBreadcrumbText),c=i('<li><a href="#">'+s.topLinkText+"</a></li>").addClass(s.wijCSS.wijmenuAllLists);t.wrap("<div>").parent().css("position","relative"),o.addClass(s.wijCSS.wijmenuIpod).addClass(s.wijCSS.wijmenuContainer),s.backLink?l.addClass(s.wijCSS.wijmenuFooter).appendTo(o).hide():l.addClass(s.wijCSS.wijmenuHeader).prependTo(o),s.backLink||l.append(d),r=o.width(),t.addClass(s.wijCSS.wijmenuContent).addClass(s.wijCSS.wijmenuCurrent).addClass(s.wijCSS.content).addClass(s.wijCSS.helperClearFix).css({width:r}),i.each(e.getItems(),function(e,t){t._setDrilldownUlStyle()}),e._sroll(),e._initScrollCallback(),e._resetScroll(e),e.element.data("firstLeftValue",parseFloat(t.css("left"))),t.delegate("li>."+s.wijCSS.wijmenuLink,"click",function(r,d){var h=i(this).parent(),u=h.attr("disabled"),p,f,g,m,w,v,b,_,y,C=n._getItemWidget(h),S,j;if(!e._getDisabled()&&!u&&!e._isSliding){if(t.stop(!0,!0),y=n._hasVisibleSubMenus(C),!y)return void e._leafNodeClick(r,C,l);p=C._getSublist(),p.hasAllClasses(s.wijCSS.wijmenuCurrent)||e._trigger("showing",r,C)&&(e._isSliding=!0,f=C._getParentOrMenu()._getSublist(),g=f.data("topmenu")?0:parseFloat(t.css("left")),v="rtl"===a?Math.round(g+parseFloat(o.width().toString())):Math.round(g-parseFloat(o.width().toString())),b=i("."+s.wijCSS.wijmenuFooter,o),_=function(t,r){var a=t,l=i("."+s.wijCSS.wijmenuCurrent,o),d,c;l.get(0)!==e._getSublist().get(0)&&(r?(d=r._getSublist(),c=r):(d=l.parent().closest("ul",o[0]),c=n._getItemWidget(l.parent())._getParentOrMenu()),l.hide().attr("aria-expanded","false"),e._resetDrillChildMenu(l),e._resetScroll(c),d.addClass(s.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),d.hasAllClasses(s.wijCSS.wijmenuContent)&&(a.remove(),b.hide()))},e._resetDrillChildMenu(f),e._resetScroll(C),e._slidingAnimation(t,v,function(){e._trigger("shown",r,C),e.activate(r,d||C),e.select(r),e._isSliding=!1}),p.show().addClass(s.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),s.backLink?0===b.find("a").size()&&(b.show(),S=i("<span></span>").addClass(s.wijCSS.icon).addClass(s.wijCSS.iconArrowLeft),j=i("<span></span>").addClass(s.wijCSS.wijmenuBacklinktext),e._backLink=i('<a href="#"></a>').append(S).append(j).appendTo(b).click(function(n,r){if(!e._getDisabled()){var s=e._getCurrentItemInSliding(),l=i(this),d;if(e._trigger("hidding",n,s)){if(t.stop(!0,!0),"rtl"===a)d=Math.round(t.css("left").replace("px",""))-Math.round(o.width());else if(d=Math.round(t.css("left").replace("px",""))+Math.round(o.width()),d>g)return;e._slidingAnimation(t,d,function(){e._trigger("hidden",n,s),_(l),r&&r()}),n.preventDefault()}}}),j.width(b.width()-S.width()),j.text(s.backLinkText)):(1===l.find("li").size()&&(l.empty().append(c),c.find("a").click(function(t,n){var o=i(this).parent(),r=e._getCurrentItemInSliding();e._slidingMenu(t,o,r,null,function(t){t?(_(null,t),n&&n()):e._resetDrilldownMenu(l,n)}),t.preventDefault()})),i("."+s.wijCSS.wijmenuCurrentCrumb,o).removeClass(s.wijCSS.wijmenuCurrentCrumb),m=C._getLink().text(),w=i("<li></li>").addClass(s.wijCSS.wijmenuCurrentCrumb).append(i('<a href="#">'+m+"</a>").addClass(s.wijCSS.wijmenuCrumb)),w.appendTo(l).find("a").click(function(t,n){if(!e._getDisabled()){var o=i(this).parent(),r;o.is("."+s.wijCSS.wijmenuCurrentCrumb)||(r=e._getCurrentItemInSliding(),e._slidingMenu(t,o,r,C,function(e){_(null,e),n&&n()})),t.preventDefault()}}),w.prev().append(i("<span></span>").addClass(s.wijCSS.icon).addClass(s.wijCSS.iconCaratRight))),"#"===i(this).attr("href")&&r.preventDefault())}})},n.prototype._slidingMenu=function(e,t,i,n,o){var r=this,s=r._getSublist(),a=r.options.direction,l=r.domObject.menucontainer,d=l.width(),c=t.parent().children().length-1,h,u,p,f,g=function(e,t,i){h=("rtl"===a?1:-1)*t*d,r._slidingAnimation(s,h,function(){i&&i(e)})},m=function(t,i){var n;return t!==i&&(n=r._trigger("hidding",e,t))?(c--,f&&f(),f=function(){r._trigger("hidden",e,t)},m(t.getParent(),i)):t};u=m(i,n),u!==i&&(g(u,c,function(){f&&f(),o&&o(u)}),p=t.parent().children().eq(c),p.addClass("wijmo-wijmenu-current-crumb").find("span").remove(),p.nextAll().remove())},n.prototype._getCurrentItemInSliding=function(){var e=this,t=e.domObject.menucontainer,o=i(".wijmo-wijmenu-current",t),r=n._getItemWidget(o.parent());return r},n.prototype._leafNodeClick=function(e,t,i){var n=this,o=n.options,r;n.activate(e,t),n.select(e),o.trigger&&(r=n._getTriggerEle(),r.length&&(n._hideMenu(e),n._resetDrilldownMenu(i))),"#"===t._getLink().attr("href")&&e.preventDefault()},n.prototype._slidingAnimation=function(e,t,i){var n=this.options.slidingAnimation;n&&!n.disabled?e.stop(!0,!0).animate({left:t},n.duration,n.easing,i):(e.css("left",t),i.call(this))},n.prototype._killDrilldown=function(){var e=this._getSublist(),t=this.options,n=this.domObject,o={width:"",height:""};e.css(o).removeClass(t.wijCSS.content),n.scrollcontainer&&n.scrollcontainer.parent().length>0&&(n.scrollcontainer.css(o),n.scrollcontainer.wijsuperpanel("destroy"),n.scrollcontainer.removeClass("wijmo-wijsuperpanel").append(e)),e.prevAll().remove(),n.menucontainer.removeClass(t.wijCSS.wijmenuIpod).removeClass(t.wijCSS.wijmenuContainer),i("."+t.wijCSS.wijmenuCurrent,n.menucontainer).removeClass(t.wijCSS.wijmenuCurrent),i("."+t.wijCSS.wijmenuBreadcrumb,n.menucontainer).remove(),e.undelegate("li>."+t.wijCSS.wijmenuLink,"click"),i("ul",e).css({left:"",width:""}),e.css("left",""),n.scrollcontainer=n.menucontainer.children(":first")},n.prototype._displayMenu=function(e){var t=this,o=t.options,r,s,a,l=t.domObject.menucontainer,d=i(e.target),c=!n._hasVisibleSubMenus(t);l.is(":visible")||c||t._trigger("showing",e,t)&&(l.show(),t._setPosition(d),t.nowIndex++,t._setZindex(l,t.nowIndex),l.hide(),r={context:l,show:!0},s="rtl"===o.direction?"right":"left",a=i.extend({},{option:{direction:s}},o.animation,o.showAnimation),n._animateFlyoutMenu(a,r,function(){t._trigger("shown",e,t)}),t._isClickToOpen="click"===o.triggerEvent,this.element.data("shown",!0))},n.prototype._hideMenu=function(e){var t=this,o=t.options,r=this.domObject.menucontainer,s=n.animations,a,l;this.element.data("shown")&&t._trigger("hidding",e,t)&&(this.element.data("shown",!1),i.fn.wijhide?(a={context:r,show:!1},l=i.extend({},o.animation,o.hideAnimation),r.wijhide(l,s,a,null,function(){t._setZindex(r,null),r.attr("aria-hidden",!0),t._trigger("hidden",e,t)})):(r.hide().attr("aria-hidden",!0),t._setZindex(r,null),t._trigger("hidden",e,t)))},n.prototype._setZindex=function(e,t){var n=this.domObject,o;if(n)return o=n.menucontainer,e.get(0)===o.get(0)?void(t?o.css("z-index",t):o.css("z-index","")):void(t?(e.parent().css("z-index",999),e.css("z-index",t),i.browser.msie&&parseInt(i.browser.version)<8&&0===o.css("z-index")&&o.css("z-index",9950)):(e.css("z-index",""),e.parent().css("z-index",""),i.browser.msie&&parseInt(i.browser.version)<8&&0===i("ul:visible",this._getSublist()).length&&9950===o.css("z-index")&&o.css("z-index","")))},n.prototype._setPosition=function(e){var t=this._getPosition(),n={of:e},o=this.domObject.menucontainer;o.css({left:"0",top:"0",position:"absolute"}),o.position(i.extend(n,t))},n.prototype._getPosition=function(){var e=this.options,t=e.direction,n="rtl"===t?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};return n=i.extend(n,e.position)},n.prototype._getFirstSelectableSubItem=function(){return n._getFirstSelectableSubItem(this)},n.prototype._getLastSelectableSubItem=function(){return n._getLastSelectableSubItem(this)},n.prototype.add=function(e,t){n._add(this,e,t)},n.prototype._getSublist=function(){return this._rootMenu},n.prototype.getItems=function(){return this._items},n.prototype.remove=function(e){n._remove(this,e)},n.prototype._newId=function(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",i;for(i=0;16>i;i++)t+=e[Math.round(25*Math.random())];return t},n.animations={slide:function(e,t){e=i.extend({duration:400,easing:"swing"},e,t),e.show?e.context.stop(!0,!0).animate({height:"show"},e,function(){e.context.attr("aria-hidden",!1)}):e.context.stop(!0,!0).animate({height:"hide"},e,function(){e.context.attr("aria-hidden",!0)})}},n._animateFlyoutMenu=function(e,t,o){var r=t.context;i.fn.wijshow?(r.data("isAnimated",!0),r.wijshow(e,n.animations,t,null,function(){r.data("isAnimated",!1);var e=i.browser;e.msie&&"9.0"===e.version?(r.wrap("<div></div>"),r.unwrap()):e.msie&&"6.0"===e.version&&r.css("overflow",""),r.attr("aria-hidden",!1),o&&o()})):r.show().attr("aria-hidden",!1)},n._getMenuItemOptions=function(e,t){return e&&e.items&&i.isArray(e.items)?t>=e.items.length?{}:e.items[t]:{}},n._getOuterElement=function(e,t){return i(e).filter(function(){return 0===i(this).closest(t).length})},n._hasVisibleSubMenus=function(e){var t,i,n;if(e.jquery?e.data("wijmomenu")?t=e.data(e.data("wijmomenu")):e.data("wijmomenuitem")&&(t=e.data(e.data("wijmomenuitem"))):t=e,!t)throw"the arugment 'menuItem' must be an wijmenu or wijmenuitem";if(i=t.getItems(),!i.length)return!1;for(n=0;n<i.length;n++)if(i[n].options.displayVisible)return!0;return!1},n._getFirstSelectableSubItem=function(e){var t,i=e.getItems(),n;for(t=0;t<i.length;t++)if(n=i[t].options,n.displayVisible!==!1&&!n.header&&!n.separator)return i[t];return null},n._getLastSelectableSubItem=function(e){var t,i=e.getItems(),n;for(t=i.length-1;t>=0;t--)if(n=i[t].options,n.displayVisible!==!1&&!n.header&&!n.separator)return i[t];return null},n._getSelectableSubItems=function(e,t){return i.grep(e.getItems(),function(e,i){var n=e.options;return n.header||n.separator||n.displayVisible===!1?!1:t(e,i)},!1)},n._add=function(e,t,o){var r=null,s=i("<li></li>"),a=e._getSublist(),l=e.getItems(),d,c,h=!1;"string"==typeof t?/<(h[1-5]|a)[\s\S]*>[\s\S]*<\/\1>/.test(t)&&s.append(t):i.isPlainObject(t)&&(c=jQuery.extend(!0,{},t)),(!a||a.length<=0)&&(a=i("<ul></ul>"),e.element.append(a),h=!0),(!o||isNaN(o)||o>l.length)&&0!==o&&(o=l.length),l.length>0&&l.length!==o?(d=l[o].element,s.insertBefore(d)):a.append(s),r=e._createItemWidget(s,c),null!==r&&void 0!==r&&(n._changeCollection(o,e.getItems(),e.options.items,r),e._bindModeEvents?e._bindModeEvents(r,h):r._bindModeEvents(r,h),h&&e._initUlCssClass())},n._changeCollection=function(e,t,i,n){return n?(t.splice(e,0,n),void i.splice(e,0,n.options)):(t.splice(e,1),void i.splice(e,1))},n._remove=function(e,t){var i=e.getItems()[t];i&&i.element&&i.element.remove()},n._getItemWidget=function(e){return e.data(e.data("wijmomenuitem"))},n}(e.wijmoWidget);t.wijmenu=o;var r=function(){function e(){this.initSelector=":jqmData(role='wijmenu')",this.wijCSS={wijmenu:"wijmo-wijmenu",wijmenuHorizontal:"wijmo-wijmenu-horizontal",wijmenuCurrent:"wijmo-wijmenu-current",wijmenuCurrentCrumb:"wijmo-wijmenu-current-crumb",wijmenuBreadcrumb:"wijmo-wijmenu-breadcrumb",wijmenuBreadcrumbText:"wijmo-wijmenu-breadcrumb-text",wijmenuItem:"wijmo-wijmenu-item",wijmenuLink:"wijmo-wijmenu-link",wijmenuList:"wijmo-wijmenu-list",wijmenuScroll:"wijmo-wijmenu-scroll",wijmenuContent:"wijmo-wijmenu-content",wijmenuFooter:"wijmo-wijmenu-footer",wijmenuHeader:"wijmo-wijmenu-header",wijmenuContainer:"wijmo-wijmenu-container",wijmenuIpod:"wijmo-wijmenu-ipod",wijmenuCrumb:"wijmo-wijmenu-crumb",wijmenuAllLists:"wijmo-wijmenu-all-lists",wijmenuPrevList:"wijmo-wijmenu-prev-list",wijmenuRtl:"wijmo-wijmenu-rtl",wijmenuBacklinktext:"wijmo-wijmenu-backlinktext",wijmenuSubmenuContainer:"wijmo-wijmenu-submenu-container",wijmenuParent:"wijmo-wijmenu-parent"},this.wijMobileCSS={header:"ui-header ui-bar-c",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.trigger="",this.triggerEvent="click",this.position={},this.animation={animated:"slide",duration:400,easing:null,option:null},this.showAnimation={},this.hideAnimation={animated:"fade",duration:400,easing:null,option:null},this.showDelay=400,this.hideDelay=400,this.slidingAnimation={duration:400,easing:null},this.mode="flyout",this.superPanelOptions=null,this.checkable=!1,this.orientation="horizontal",this.direction="ltr",this.maxHeight=200,this.backLink=!0,this.backLinkText="Back",this.topLinkText="All",this.crumbDefaultText="Choose an option",this.select=null,this.focus=null,this.blur=null,this.showing=null,this.shown=null,this.hidding=null,this.hidden=null,this.items=null,this.ensureSubmenuOnBody=!1}return e}();o.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new r),function(e){e._map=[],e.link=0,e.separator=1,e.header=2,e.other=3}(t.MarkupType||(t.MarkupType={}));var s=t.MarkupType,a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._initState=function(){this._items=[],this._resetMarkupValue(),this.options.items||(this.options.items=[])},t.prototype._create=function(){var t=this;t._isMobile&&i.extend(!0,t.options.wijCSS,t.options.wijMobileCSS),t.element.data("wijmomenuitem",i.camelCase(t.widgetFullName)),t._initState(),t._getOrSetOptionsValues(),t._createChildMenuItems(),t._initCssClass(),e.prototype._create.call(this)},t.prototype._refresh=function(){var e=this,t=e.options;e._set_navigateUrl(t.navigateUrl),e._set_target(t.target),e._set_displayVisible(t.displayVisible),e._createChildMenuItems(),e._initCssClass()},t.prototype._setOption=function(t,n){var o=this,r=o.options,s;if("items"===t)return e.prototype._setOption.call(this,t,n),void o._set_items(n);if(n!==r[t]&&(e.prototype._setOption.call(this,t,n),i.isFunction(o["_set_"+t])))switch(o["_set_"+t](n,!0),t){case"header":case"separator":o._refresh();break;case"displayVisible":s=o.getParent(),s&&s._setSubmenuIcon()}},t.prototype.index=function(){return this.element.index()},t.prototype._set_selected=function(e){var t=this,i=t.options,n=t._getMenuItemType();n===s.link?t._getLink().toggleClass(i.wijCSS.stateActive,e):t.options.selected=!1},t.prototype._set_items=function(e){var t=this;t._getSublist().remove(),t._items=[],e.length>0&&(t._createChildMenuItems(),t._initUlCssClass()),t._setSubmenuIcon(e.length>0),t._bindModeEvents(t,!0),t._resetMarkupValue()},t.prototype._bindModeEvents=function(e,t){var i=this,n=e._getMenu(),o=n.options;t&&(i._initUlCssClass(),i._setSubmenuIcon(),i._resetMarkupValue()),"flyout"===o.mode?t?(i._killFlyout(),i._flyout()):e._flyout():(i._setDrilldownUlStyle(),e.element.parent().is(":visible")&&n._resetScroll(e._getParentOrMenu()))},t.prototype._set_value=function(e,t){this.options.value=e},t.prototype._set_text=function(e,t){var i=this,n=i.options;e||t?i._setText(e):n.text=i._getText()},t.prototype._set_navigateUrl=function(e,t){var i=this,n=i.options,o=i._getLink();o.is("a")&&(e||t?o.attr("href",e):n.navigateUrl=o.attr("href"))},t.prototype._set_target=function(e,t){var i=this,n=i.options,o=i._getLink();o.is("a")&&(n.target||t?o.attr("target",e):n.target=o.attr("target")||"")},t.prototype._set_iconClass=function(e,t){var n=this,o=n.options,r,a,l,d;o.header!==!0&&o.separator!==!0&&(r=n._getLink(),a=r.find("span."+o.wijCSS.wijmenuitemIcon),e?(0===a.length&&(a=i("<span>"),l=r.children("."+o.wijCSS.wijmenuText).wrap("<span>").parent(),l.addClass(o.wijCSS.wijmenuText),l.prepend(a)),a.addClass(e).addClass(o.wijCSS.wijmenuIconLeft).addClass(o.wijCSS.wijmenuitemIcon),t&&n._set_imagePosition(o.imagePosition)):0!==a.length&&(a.remove(),l=r.children("."+o.wijCSS.wijmenuText),d=l.text(),l.html(""),l.text(d)),n._getMenuItemType()===s.other&&r.addClass(o.wijCSS.wijmenuLink).addClass(o.wijCSS.cornerAll));
},t.prototype._set_imagePosition=function(e,t){var i=this,n=i.options,o=i._getLink(),r=o.find(">span>span."+n.wijCSS.wijmenuitemIcon),s="right"===e?n.wijCSS.wijmenuIconRight:n.wijCSS.wijmenuIconLeft;0!==r.length&&r.removeClass(n.wijCSS.wijmenuIconRight).removeClass(n.wijCSS.wijmenuIconLeft).addClass(s)},t.prototype._set_separator=function(e,t){var i=this,n=i.element,o=i.options,r=i._getLink();t&&e===!1?(n.html("").removeClass(o.wijCSS.wijmenuSeparator).removeClass(o.wijCSS.widget).removeClass(o.wijCSS.wijmenuItem).removeClass(o.wijCSS.stateDefault).removeClass(o.wijCSS.cornerAll),i._createMenuItemMarkup(s.link).appendTo(n)):e===!0||0===r.length?(o.separator=!0,o.header=!1,i._createMenuItemMarkup(s.separator)):o.separator=!1,i._resetMarkupValue()},t.prototype._set_header=function(e,t){var i=this,n=i.element,o=i.options,r=i._getLink();t&&e===!1?(o.header=!1,n.html("").removeClass(o.wijCSS.header).removeClass(o.wijCSS.cornerAll).removeClass(o.wijCSS.widget).removeClass(o.wijCSS.wijmenuItem).removeClass(o.wijCSS.stateDefault),i._createMenuItemMarkup(s.link).appendTo(n)):e===!0||r.is("h1,h2,h3,h4,h5")?(o.header=!0,o.separator=!1,r.is("h1,h2,h3,h4,h5")||(r.remove(),r=i._createMenuItemMarkup(s.header),n.append(r))):o.header=!1,i._resetMarkupValue()},t.prototype._set_displayVisible=function(e){var t=this,i=t.element;e?i.show():i.hide()},t.prototype._createMenuItemMarkup=function(e){var t=this,n=t.options,o=t.element,r;return e===s.separator?(o.html('<span class="'+n.wijCSS.wijmenuSeparatorContent+'">&nbsp;</span>'),null):r=e===s.header?i("<h3></h3>").text(n.text):i("<a>").text(n.text)},t.prototype._getMenuItemType=function(e){var t=this,n=t.options,o=t._getLink();return e&&(n=i.extend({},n,e)),n.separator===!0?s.separator:n.header===!0?s.header:0===o.length?n.text?s.link:s.separator:o.is("a")?s.link:o.is("h1,h2,h3,h4,h5")?s.header:s.other},t.prototype._getOrSetOptionsValues=function(){var e=this,t=e.element,i=e.options,n=e._getLink(),o=e._getMenuItemType();o===s.header?(e._set_header(i.header),e._set_text(i.text)):o===s.separator?e._set_separator(i.separator):(0===n.length?(n=e._createMenuItemMarkup(o),t.append(n)):e._set_text(i.text),e._resetMarkupValue(),e._set_navigateUrl(i.navigateUrl),e._set_target(i.target)),e._set_displayVisible(i.displayVisible),e._set_selected(i.selected)},t.prototype._getText=function(){return this._getLink().text()},t.prototype._setText=function(e){var t=this.element,i=this.options,n;return n=t.find(":not(ul)a ."+i.wijCSS.wijmenuText+":first"),0!==n.length?void n.text(e):(n=t.children("h1,h2,h3,h4,h5").filter(":first"),0!==n.length?void n.text(e):(n=t.children("a:first"),0!==n.length?void n.text(e):void 0))},t.prototype._createChildMenuItems=function(){var e=this,t=e.element,n=e._items,r=e.options,s,a,l,d,c,h;if(r.header!==!0&&r.separator!==!0){if(s=r.items.length,a=e._getSublist(),l=a.children("li").length,s>l)for(0===a.length&&(a=i("<ul>").appendTo(t),e._resetMarkupValue()),d=0;s-l>d;d++)a.append("<li>");i.each(e._getChildren(),function(t,r){var s=i(r),a;a=o._getMenuItemOptions(e.options,t),c=e._createItemWidget(s,a),n.push(c),e.options.items[t]=c.options})}},t.prototype._createItemWidget=function(e,t){var n=this,o=n.widgetName;return e[o](t),e.data(i.camelCase(n.widgetFullName))},t.prototype._initCssClass=function(){var e=this,t=this.element,i=e.options,n=e._getLink(),o=e._getMenuItemType();o!==s.separator&&t.attr("role","menuitem"),o===s.separator?t.addClass(i.wijCSS.wijmenuSeparator).addClass(i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll):o===s.header?t.addClass(i.wijCSS.header).addClass(i.wijCSS.cornerAll):(o===s.link?t.hasAllClasses(i.wijCSS.wijmenuItem)||(t.addClass(i.wijCSS.widget).addClass(i.wijCSS.wijmenuItem).addClass(i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll),n.addClass(i.wijCSS.wijmenuLink).addClass(i.wijCSS.cornerAll),n.wrapInner("<span>").children("span").addClass(i.wijCSS.wijmenuText)):t.addClass(i.wijCSS.widget).addClass(i.wijCSS.wijmenuItem).addClass(i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll),e._setSubmenuIcon()),e._set_iconClass(i.iconClass),e._set_imagePosition(i.imagePosition),e._initUlCssClass()},t.prototype._initUlCssClass=function(){var e=this.options;this._getSublist().addClass(e.wijCSS.wijmenuList).addClass(e.wijCSS.content).addClass(e.wijCSS.cornerAll).addClass(e.wijCSS.helperClearFix).addClass(e.wijCSS.wijmenuChild).addClass(e.wijCSS.helperReset).hide()},t.prototype._setSubmenuIcon=function(e){var t=this,n=this.options,r=t._getLink(),s=t._getMenu(),a=s.options.direction,l="rtl"===a?r.children("span."+n.wijCSS.icon+":first"):r.children("span."+n.wijCSS.icon+":last");void 0===e&&(e=o._hasVisibleSubMenus(t)),e&&!r.is(":input")?(0===l.length&&(l="rtl"===a?i("<span>").prependTo(r):i("<span>").appendTo(r)),t._isRoot()&&"horizontal"===s.options.orientation&&"flyout"===s.options.mode?l.addClass(n.wijCSS.icon).addClass(n.wijCSS.iconArrowDown):"rtl"===a?l.addClass(n.wijCSS.icon).addClass(n.wijCSS.iconArrowLeft):l.addClass(n.wijCSS.icon).addClass(n.wijCSS.iconArrowRight)):l.remove()},t.prototype._killFlyout=function(){var e=this.element.attr("role",""),t=this.options;e.removeClass(t.wijCSS.wijmenuParent).unbind(".wijmenuEvent").unbind(".wijmenuitem").children(":first").unbind(".wijmenuEvent").unbind(".wijmenuitem").attr("aria-haspopup",""),this._getSublist().unbind(".wijmenuEvent").unbind(".wijmenuitem"),i.each(this.getItems(),function(){this._killFlyout()})},t.prototype._getItemTriggerEvent=function(){var e=this,t=e.element,n=e._getMenu(),o=n.options,r="default";return""!==o.trigger&&(t.is(o.trigger)||n.element.is(o.trigger)?r=o.triggerEvent:(t.parents("."+o.wijCSS.wijmenuParent).each(function(e,t){return i(t).is(o.trigger)?(r=o.triggerEvent,!1):void 0}),"default"===r&&e._isOuterTirggerEle()&&(r=o.triggerEvent))),t.data("triggerEvent",r),r},t.prototype._isOuterTirggerEle=function(){var e=this._getMenu();return o._getOuterElement(e.options.trigger,"."+e.options.wijCSS.wijmenu).length>0},t.prototype._flyout=function(){var e=this,t=e._getMenu(),n=t.options,o=".wijmenuitem",r=i(e.element).attr("aria-haspopup",!0),s,a,l=e._getItemTriggerEvent(),d=r.children("a."+n.wijCSS.wijmenuLink),c=e._getSublist(),h;if(e.getItems().length>0)if(c.bind("mouseleave"+o,function(t){n.disabled||(a=setTimeout(function(){e._hideCurrentSubmenu(t)},n.hideDelay))}),r.addClass(e.options.wijCSS.wijmenuParent),"default"!==l&&"mouseenter"!==n.triggerEvent){switch(n.triggerEvent){case"click":d.bind("click"+o,function(t){n.disabled||i(this).hasAllClasses(n.wijCSS.stateDisabled)||e._showFlyoutSubmenu(t)});break;case"dblclick":d.bind("dblclick"+o,function(t){n.disabled||i(this).hasAllClasses(n.wijCSS.stateDisabled)||e._showFlyoutSubmenu(t)});break;case"rtclick":d.bind("contextmenu"+o,function(t){n.disabled||i(this).hasAllClasses(n.wijCSS.stateDisabled)||(e._showFlyoutSubmenu(t),t.preventDefault())})}c.data("notClose",!0)}else d.bind("mouseenter.wijmenuEvent",function(t){n.disabled||i(this).hasAllClasses(n.wijCSS.stateDisabled)||(clearTimeout(a),s=setTimeout(function(){e._displaySubmenu(t,null)},n.showDelay))}).bind("mouseleave"+o,function(t){n.disabled||i(this).hasAllClasses(n.wijCSS.stateDisabled)||(clearTimeout(s),c.is("ul")||(c=c.children("ul:first")),a=setTimeout(function(){e._hideSubmenu(!1,t)},n.hideDelay))}),e.getItems().length>0&&e._getSublist().bind("mouseenter"+o,function(e){n.disabled||clearTimeout(a)}),c.data("notClose",!1);d.bind("click.wijmenuEvent",function(i){if(h=d.hasAllClasses(n.wijCSS.stateDisabled),!n.disabled&&!h){if(d.is("a")){if(0===e._getSublist().length)t._hideAllMenus(i);else if(""===n.trigger||"default"===r.data("triggerEvent")||"mouseenter"===n.triggerEvent)t._hideAllMenus(i);else{var o=t._currentMenuList,s,a;if(void 0!==o&&(s=r,0===e._getSublist().length))for(a=o.length;a>0&&o[a-1]!==e;a--)o[a-1]._hideSubmenu(!1,i)}t.activate(i,e)}t.select(i),"#"===d.attr("href")&&i.preventDefault()}}).bind("focusin.wijmenuEvent",function(i){h=d.hasAllClasses(n.wijCSS.stateDisabled),n.disabled||h||d.is("a")&&t.activate(i,e)}),i.each(e.getItems(),function(){this._flyout()})},t.prototype._hideSubmenu=function(e,t){var n=this,r=n._getMenu(),s=r.options,a=o.animations,l,d,c,h=n._getSublist(),u=n._getLink(),p=i.browser.msie?n.element.children("iframe.bgiframe"):null,f;u.data("subMenuOpened")&&r._trigger("hidding",t,n)&&(u.is("."+s.wijCSS.wijmenuLink)&&(u.data("subMenuOpened",!1),u.removeClass(s.wijCSS.stateActive)),i.fn.wijhide&&e!==!0?(l={context:h,show:!1},d=i.extend({},s.animation,s.hideAnimation),h.wijhide(d,a,l,null,function(){r._setZindex(h,null),h.attr("aria-hidden",!0),i.browser.msie&&p.remove(),r._trigger("hidden",t,n)})):(h.hide({complete:function(){i.browser.msie&&p.remove()}}).attr("aria-hidden",!0),r._setZindex(h,null),r._trigger("hidden",t,n)),c=r._currentMenuList,c&&(c=i.makeArray(i.map(c,function(e){return e&&e===n?null:e})),r._currentMenuList=i.makeArray(c)))},t.prototype._displaySubmenu=function(e,t){var n=this,r=n._getMenu(),s=r.options,a,l,d,c=o.animations,h,u=n._getLink(),p=n._getSublist(),f,g;i.browser.msie&&(f=n.element.children("iframe.bgiframe"),0===f.length&&(f=i('<iframe class="bgiframe" frameborder="0" tabindex="-1" src="javascript: false;" style="display:none;position:absolute;z-index:-1;top:0px;left:0px;opacity:0;" />'),n.element.append(f))),h=!o._hasVisibleSubMenus(n),p.is(":visible")||h||r._trigger("showing",e,n)&&(u.is("a."+s.wijCSS.wijmenuLink)&&u.data("subMenuOpened",!0),p.show(),n._setMenuItemPosition(),i.browser.msie&&n._setIframeBounds(p,f),r.nowIndex++,r._setZindex(p,r.nowIndex),p.hide(),a={context:p,show:!0},l="rtl"===s.direction?"right":"left","horizontal"===s.orientation&&n._isRoot()&&(l="up"),i.browser.msie&&f.css("display",""),d=i.extend({},{option:{direction:l}},s.animation,s.showAnimation),o._animateFlyoutMenu(d,a,function(){p.is(":hidden")&&n._hideSubmenu(!0,e),r._trigger("shown",e,n),t&&t()}),r._isClickToOpen="click"===s.triggerEvent,void 0===r._currentMenuList&&(r._currentMenuList=[]),r._currentMenuList.push(n))},t.prototype._setMenuItemPosition=function(){var e=this,t=e._getSublist(),n=e._getMenuItemPosition(),o={of:this._getLink()};t.css({left:"0",top:"0",position:"absolute"}),t.position(i.extend(o,n))},t.prototype._getMenuItemPosition=function(){var e=this,t=this._getMenu(),n=t.options,o=n.direction,r="rtl"===o?{my:"right top",at:"left top"}:{my:"left top",at:"right top"};return"horizontal"===n.orientation&&e._isRoot()&&(r="rtl"===o?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"}),r=i.extend(r,n.position)},t.prototype._getChildren=function(){return this._getSublist().children("li")},t.prototype._setDrilldownUlStyle=function(){var e=this,t=e.options,n=e._getSublist(),o=e._getMenu(),r=o.domObject.menucontainer.width();"rtl"===o.options.direction?n.css({width:r,left:-r}):n.css({width:r,left:r}),n.addClass(t.wijCSS.content),i.each(e.getItems(),function(e,t){t.getItems().length&&this._setDrilldownUlStyle()})},t.prototype._getMenu=function(){var e=this,t=e._menu,i,n;if(!t){for(i=e.element.parent();!i.is("body")&&i.length>0;){if(n=i.data("wijmomenu"))return t=i.data(n),e._menu=t,t;i=i.parent()}throw"An menuitem must be a child of menu"}return t},t.prototype.getParent=function(){var e=this,t=e.element,i,n,r;if(n=e._parent,void 0!==n)return n;if(i=e._getMenu(),r=t.parent().closest("li",i.element[0]),r.length>0&&(n=o._getItemWidget(r),void 0!==n))return e._parent=n,n;if(i._getSublist().get(0)===t.parent().get(0))return e._parent=null,null;throw"An menuitem must be a child of menu or another menuitem"},t.prototype._getParentOrMenu=function(){return this.getParent()||this._getMenu()},t.prototype._getField=function(e){return this.element.data(e)},t.prototype._setField=function(e,t){return this.element.data(e,t)},t.prototype._innerDestroy=function(e){var t=this,i=t.options,n=t.element,o,r=t.getItems(),s=r.length-1;for(n.removeClass(i.wijCSS.widget).removeClass(i.wijCSS.wijmenuItem).removeClass(i.wijCSS.stateDefault).removeClass(i.wijCSS.cornerAll).removeClass(i.wijCSS.wijmenuParent).removeClass(i.wijCSS.header).removeClass(i.wijCSS.wijmenuSeparator),o=n.children("."+i.wijCSS.wijmenuLink),o.removeClass(i.wijCSS.wijmenuLink).removeClass(i.wijCSS.cornerAll).removeClass(i.wijCSS.stateFocus).removeClass(i.wijCSS.stateHover).removeClass(i.wijCSS.stateActive).html(o.children("."+i.wijCSS.wijmenuText).html()).unbind(".wijmenuitem").unbind(".wijmenuEvent"),n.children("ul").removeClass(i.wijCSS.wijmenuList).removeClass(i.wijCSS.content).removeClass(i.wijCSS.cornerAll).removeClass(i.wijCSS.helperClearFix).removeClass(i.wijCSS.wijmenuChild).removeClass(i.wijCSS.helperReset).attr("role","").attr("aria-activedescendant","").show().css({left:"",top:"",position:""}).attr("hidden",""),n.removeAttr("role"),o.removeAttr("aria-haspopup"),e||t._removeFromParentCollection(),n.removeData("menu").removeData("parent"),0!==n.children("iframe.bgiframe").length&&n.children("iframe.bgiframe").remove();s>=0;s--)r[s].destroy(!0);t._items.length=0,t._resetMarkupValue()},t.prototype.destroy=function(t){var i=this;i._innerDestroy(t),e.prototype.destroy.call(this)},t.prototype._getFirstSelectableSubItem=function(){return o._getFirstSelectableSubItem(this)},t.prototype._getLastSelectableSubItem=function(){return o._getLastSelectableSubItem(this)},t.prototype.next=function(){var e=this,t=e._getParentOrMenu().getItems(),n,o,r=i.inArray(e,t);if(-1===r)throw"cannot find item from the parent collection";for(n=r+1;n<t.length;n++)if(o=t[n].options,o.displayVisible!==!1&&!o.header&&!o.separator)return t[n].element;return null},t.prototype.previous=function(){var e=this,t=e._getParentOrMenu().getItems(),n,o,r=i.inArray(e,t);if(-1===r)throw"cannot find item from the parent collection";for(n=r-1;n>=0;n--)if(o=t[n].options,o.displayVisible!==!1&&!o.header&&!o.separator)return t[n].element;return null},t.prototype._removeFromParentCollection=function(){var e=this,t,n=!1,r;t=e.getParent(),null===t&&(t=e._getMenu(),n=!0),r=i.inArray(e,t.getItems()),-1!==r&&(o._changeCollection(r,t.getItems(),t.options.items,null),0===t.getItems().length&&(n||(t._setSubmenuIcon(!1),t._resetMarkupValue()),t.element.children("ul").remove()))},t.prototype._resetMarkupValue=function(){this._sublist=null,this._link=null},t.prototype._hideCurrentSubmenu=function(e){var t=this,n=t._getSublist();0!==n.length&&(n.data("notClose")||t._hideSubmenu(!1,e),i.each(t.getItems(),function(){this._hideCurrentSubmenu(e)}))},t.prototype._showFlyoutSubmenu=function(e,t){var i=this,n=this._getMenu(),o=n._currentMenuList,r;if(void 0!==o)for(r=o.length;r>0&&o[r-1]!==i.getParent();r--)o[r-1]._hideSubmenu(!1,e);i._displaySubmenu(e,t)},t.prototype.getItems=function(){return this._items},t.prototype._getSublist=function(){var e=this;return e._sublist||(e._sublist=this.element.children("ul:first")),e._sublist},t.prototype._getLink=function(){var e=this;return e._link||(e._link=this.element.children(":first")),e._link},t.prototype._isRoot=function(){return null===this.getParent()},t.prototype.add=function(e,t){o._add(this,e,t)},t.prototype.remove=function(e){o._remove(this,e)},t.prototype._setIframeBounds=function(e,t){var n=this,o,r=0,s=0,a=0,l=0,d,c,h,u,p,f=i.browser;f.msie&&(f.msie&&parseFloat(i.browser.version)<9||(o=e.css("box-shadow").split(" "),p=o.length,p>1&&(d=f.msie&&4>p?0:n._parsePxToNumber(f.msie?o[3]:o[p-1]),c=f.msie&&3>p?0:.3*n._parsePxToNumber(f.msie?o[2]:o[p-2]),h=n._parsePxToNumber(f.msie?o[1]:o[p-3]),u=n._parsePxToNumber(f.msie?o[0]:o[p-4]),r=c+d-u,r=r>=0?r:0,s=c+d+u,s=s>=0?s:0,a=c+d-h,a=a>=0?a:0,l=c+d+h,l=l>=0?l:0)),t.css({width:e.outerWidth(!0)+r+s+"px",height:e.outerHeight(!0)+a+l+"px",left:n._parsePxToNumber(e.css("left"))-r+"px",top:n._parsePxToNumber(e.css("top"))-a+"px"}))},t.prototype._parsePxToNumber=function(e){var t=e.indexOf("px");return t&&-1!==t?parseFloat(e.substr(0,t)):0},t}(e.wijmoWidget);t.wijmenuitem=a,a.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijmenuitem')",wijCSS:{wijmenuitemIcon:"wijmenuitem-icon",wijmenuParent:"wijmo-wijmenu-parent",wijmenuLink:"wijmo-wijmenu-link",wijmenuText:"wijmo-wijmenu-text",wijmenuList:"wijmo-wijmenu-list",wijmenuItem:"wijmo-wijmenu-item",wijmenuSeparator:"wijmo-wijmenu-separator",wijmenuIconLeft:"wijmo-wijmenu-icon-left",wijmenuIconRight:"wijmo-wijmenu-icon-right",wijmenuChild:"wijmo-wijmenu-child",wijmenuSeparatorContent:"wijmo-wijmenu-separator-content"},wijMobileCSS:{header:"ui-header ui-bar-c",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},header:!1,separator:!1,value:"",text:"",navigateUrl:"",target:"",iconClass:"",imagePosition:"",displayVisible:!0,selected:!1,items:null}),i.wijmo.registerWidget(n,o.prototype),i.widget("wijmo.wijmenuitem",i.wijmo.widget,a.prototype)}(e.menu||(e.menu={}));var t=e.menu}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n=0,o=0,r=i.effects?i.effects:i,s=r.save,a=r.restore,l=r.createWrapper,d=r.removeWrapper,c=function(){return++n},h=function(){return++o},u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(t,i){switch(e.prototype._setOption.call(this,t,i),t){case"selected":if(this.options.collapsible&&i===this.options.selected)return;this.select(i);break;case"alignment":this._innerDestroy(!0),this._tabify(!0);break;default:this._tabify(!1)}},t.prototype._create=function(){var t=this,i=this.options;this.element.is(":hidden")&&this.element.wijAddVisibilityObserver&&this.element.wijAddVisibilityObserver(function(){t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver();var e=t.element.data("wijtabs"),i=t.element.data("wijmoWijtabs");t._innerDestroy(!0),t.element.data("wijtabs",e),t.element.data("wijmoWijtabs",i),t._tabify(!0)},"wijtabs"),this._tabify(!0),(i.disabledstate||i.disabled)&&this.disable(),e.prototype._create.call(this)},t.prototype.destroy=function(){this._innerDestroy(),e.prototype.destroy.call(this)},t.prototype._tabify=function(e){this.list=this.element.children("ol,ul").eq(0),this.lis=i("li:has(a)",this.list),this.anchors=this.lis.map(function(){return i("a",this)[0]}),this.panels=i([]);var t=this,n=t.options,o=/^#.+/,r,s,a,l,d,c,h,u,p;if(i.each(t.anchors,function(e,r){var s=i(r).attr("href")||"",a=s.split("#")[0],l,d,c;a&&(a===location.toString().split("#")[0]||(l=i("base")[0])&&a===l.href)&&(s=r.hash,r.href=s),o.test(s)?t.panels=t.panels.add(t._sanitizeSelector(s),t.element):"#"!==s?(i.data(r,"href.tabs",s),i.data(r,"load.tabs",s.replace(/#.*$/,"")),d=t._tabId(r),r.href="#"+d,c=i("#"+d),c.length||(c=i(n.panelTemplate||t._defaults.panelTemplate).attr("id",d).addClass(n.wijCSS.tabsPanel).addClass(n.wijCSS.content).addClass(n.wijCSS.cornerBottom).insertAfter(t.panels[e-1]||t.list),c.data("destroy.tabs",!0)),t.panels=t.panels.add(c)):n.disabledIndexes.push(e),i(r).prop("tabindex","-1")}),r=this._getAlignment(!0),s=this._getAlignment(!1),e){switch(this.list.attr("role","tablist"),this.lis.attr("role","tab"),this.panels.attr("role","tabpanel"),this.element.addClass(n.wijCSS.tabs).addClass(n.wijCSS.wijtabs).addClass(n.wijCSS.widget).addClass(n.wijCSS.content).addClass(n.wijCSS.cornerAll).addClass(n.wijCSS.helperClearFix).addClass(n.wijCSS.tabsPanel).addClass(n.wijCSS.tabsPanel).addClass(n.wijCSS["tabs"+r]),this.list.addClass(n.wijCSS.tabsNav).addClass(n.wijCSS.helperReset).addClass(n.wijCSS.helperClearFix).addClass(n.wijCSS.header).addClass(n.wijCSS.cornerAll),this.lis.addClass(n.wijCSS.stateDefault).addClass(n.wijCSS["corner"+r]),this.panels.addClass(n.wijCSS.tabsPanel).addClass(n.wijCSS.content).addClass(n.wijCSS["corner"+s]),r){case"Bottom":this.list.appendTo(this.element);break;case"Left":a=i("<div/>").addClass(n.wijCSS.wijtabsContent).appendTo(this.element),this.panels.appendTo(a);break;case"Right":a=i("<div/>").addClass(n.wijCSS.wijtabsContent).insertBefore(this.list),this.panels.appendTo(a);break;case"Top":this.list.prependTo(this.element)}n.sortable&&this.list.sortable&&this.list.sortable({axis:"Top"===r||"Bottom"===r?"x":"y"}),void 0===n.selected?(location.hash&&i.each(this.anchors,function(e,t){return t.hash===location.hash?(n.selected=e,!1):void 0}),"number"!=typeof n.selected&&n.cookie&&(n.selected=parseInt(t._cookie(void 0,void 0),10)),"number"!=typeof n.selected&&this.lis.filter("."+n.wijCSS.tabsActive).length&&(n.selected=this.lis.index(this.lis.filter("."+n.wijCSS.tabsActive))),n.selected=n.selected||(this.lis.length?0:-1)):null===n.selected&&(n.selected=-1),n.selected=n.selected>=0&&this.anchors[n.selected]||n.selected<0?n.selected:0,n.disabledIndexes=i.unique(n.disabledIndexes.concat(i.map(this.lis.filter("."+n.wijCSS.stateDisabled),function(e,i){return t.lis.index(e)}))).sort(),-1!==i.inArray(n.selected,n.disabledIndexes)&&n.disabledIndexes.splice(i.inArray(n.selected,n.disabledIndexes),1),this.panels.addClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!0),this.lis.removeClass(n.wijCSS.tabsActive).removeClass(n.wijCSS.stateActive).attr("aria-selected",!1),n.selected>=0&&this.anchors.length&&(this.panels.eq(n.selected).removeClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!1),this.lis.eq(n.selected).addClass(n.wijCSS.tabsActive).addClass(n.wijCSS.stateActive).attr("aria-selected",!0),t.element.queue("tabs",function(){t.element.wijTriggerVisibility&&i(t.panels[n.selected]).wijTriggerVisibility(),t._trigger("show",null,t._ui(t.anchors[n.selected],t.panels[n.selected]))}),this.load(n.selected)),i(window).bind("unload",function(){t.lis&&t.lis.add(t.anchors).unbind(".tabs"),t.lis=t.anchors=t.panels=null})}else n.selected=this.lis.index(this.lis.filter("."+n.wijCSS.tabsActive));for(this.element[n.collapsible?"addClass":"removeClass"](n.wijCSS.tabsCollapsible),n.cookie&&this._cookie(n.selected,n.cookie),l=0;l<this.lis.length;l++)d=this.lis[l],i(d)[-1===i.inArray(l,n.disabledIndexes)||i(d).hasAllClasses(n.wijCSS.tabsActive)?"removeClass":"addClass"](n.wijCSS.stateDisabled),i(d).hasAllClasses(n.wijCSS.stateDisabled)&&i(d).attr("aria-disabled",!0);n.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),!n.disabledState&&!n.disabled&&"mouseover"!==n.event&&(c=function(e,t){t.is(":not(."+n.wijCSS.stateDisabled+")")&&t.addClass(e)},h=function(e,t){t.removeClass(e)},this.lis.bind("mouseover.tabs",function(){c(n.wijCSS.stateHover,i(this))}),this.lis.bind("mouseout.tabs",function(){h(n.wijCSS.stateHover,i(this))}),this.anchors.bind("focus.tabs",function(){t.lis.filter("."+n.wijCSS.stateFocus).removeClass(n.wijCSS.stateFocus),c(n.wijCSS.stateFocus,i(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h(n.wijCSS.stateFocus,i(this).closest("li"))})),(void 0===n.showOption||null===n.showOption)&&(n.showOption={}),this._normalizeBlindOption(n.showOption),(void 0===n.hideOption||null===n.hideOption)&&(n.hideOption={}),this._normalizeBlindOption(n.hideOption),u=(n.showOption.blind||n.showOption.fade)&&n.showOption.duration>0?function(e,o){if(i(e).closest("li").addClass(n.wijCSS.tabsActive).addClass(n.wijCSS.stateActive).attr("aria-selected",!0),t._showContent(),o.removeClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!1),"Top"===r||"Bottom"===r){var s={duration:n.showOption.duration,height:"toggle",opacity:"toggle"};n.showOption.blind||delete s.height,n.showOption.fade||delete s.opacity,o.hide().removeClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!1).animate(s,n.showOption.duration||"normal",function(){t._resetStyle(o),o.wijTriggerVisibility&&o.wijTriggerVisibility(),t._trigger("show",null,t._ui(e,o[0]))})}else t._showContent(),t._blindPanel(o,"show")}:function(e,o){i(e).closest("li").addClass(n.wijCSS.tabsActive).addClass(n.wijCSS.stateActive).attr("aria-selected",!0),t._showContent(),o.removeClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!1),o.wijTriggerVisibility&&o.wijTriggerVisibility(),t._trigger("show",null,t._ui(e,o[0]))},p=(n.hideOption.blind||n.hideOption.fade)&&n.hideOption.duration>0?function(e,i){if("Top"===r||"Bottom"===r){var o={duration:n.hideOption.duration,height:"toggle",opacity:"toggle"};n.hideOption.blind||delete o.height,n.hideOption.fade||delete o.opacity,i.animate(o,n.hideOption.duration||"normal",function(){t.lis.removeClass(n.wijCSS.tabsActive).removeClass(n.wijCSS.stateActive).attr("aria-selected",!1),i.addClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!0),t._resetStyle(i),t.element.dequeue("tabs")})}else t._saveLayout(),t._blindPanel(i,"hide")}:function(e,i,o){t.lis.removeClass(n.wijCSS.tabsActive).removeClass(n.wijCSS.stateActive).attr("aria-selected",!1),t._hideContent(),i.addClass(n.wijCSS.wijtabsHide).attr("aria-hidden",!0),t.element.dequeue("tabs")},!n.disabledState&&!n.disabled&&this.anchors.bind(n.event+".tabs",function(){var e=this,o=i(this).closest("li"),r=t.panels.filter(":not(."+n.wijCSS.wijtabsHide+")"),s=i(t._sanitizeSelector(this.hash),t.element);if(o.hasAllClasses(n.wijCSS.tabsActive)&&!n.collapsible||o.hasAllClasses(n.wijCSS.stateDisabled)||o.hasAllClasses(n.wijCSS.tabsLoading)||t._trigger("select",null,t._ui(this,s[0]))===!1)return this.blur(),!1;if(n.selected=t.anchors.index(this),t.abort(),n.collapsible){if(o.hasAllClasses(n.wijCSS.tabsActive))return n.selected=-1,n.cookie&&t._cookie(n.selected,n.cookie),t.element.queue("tabs",function(){p(e,r)}).dequeue("tabs"),this.blur(),!1;if(!r.length)return n.cookie&&t._cookie(n.selected,n.cookie),t.element.queue("tabs",function(){u(e,s)}),t.load(t.anchors.index(this)),this.blur(),!1}if(n.cookie&&t._cookie(n.selected,n.cookie),!s.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";r.length&&t.element.queue("tabs",function(){p(e,r)}),t.element.queue("tabs",function(){u(e,s)}),t.load(t.anchors.index(this)),i.browser.msie&&this.blur()}),this._initScroller(),this.anchors.bind("click.tabs",function(){return!1})},t.prototype._blindPanel=function(e,t){var n=this,o=n.options,r=e.parent("."+o.wijCSS.wijtabsContent),a=["position","top","left","width"],c="show"===t?o.showOption:o.hideOption,h,u,p;r.length&&(n.list.width(n.list.width()),s&&s(e,a),e.show(),"show"===t?(e.removeClass(o.wijCSS.wijtabsHide).attr("aria-hidden",!1),e.width(n.element.data("panel.width"))):e.width(e.width()),h=l?l(e).css({overflow:"hidden"}):i("<div></div>"),"show"===t&&h.css(i.extend({width:0},c.fade?{opacity:0}:{})),u=i.extend({width:"show"===t?n.element.data("panel.outerWidth"):0},c.fade?{opacity:"show"===t?1:0}:{}),p=n.list.outerWidth(!0),h.animate(u,{duration:c.duration,step:function(){var e=h.outerWidth(!0);n.element.width(p+e),r.width(Math.max(0,n.element.innerWidth()-p-6))},complete:function(){"hide"===t?(n.lis.removeClass(o.wijCSS.tabsActive).removeClass(o.wijCSS.stateActive).attr("aria-selected",!1),e.addClass(o.wijCSS.wijtabsHide).attr("aria-hidden",!0)):e.css("width",""),d&&d(e),"show"===t&&n._restoreLayout(),n._resetStyle(e),e.dequeue(),n.element.dequeue("tabs")}}))},t.prototype._hideContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._saveLayout(),t.addClass(e.wijtabsHide).attr("aria-hidden",!0),this.element.width(this.list.outerWidth(!0)))},t.prototype._showContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._restoreLayout(),t.removeClass(e.wijtabsHide).attr("aria-hidden",!1))},t.prototype._saveLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"],i=this.panels.filter(":not(."+e.wijtabsHide+")");s&&(s(this.element,t),s(this.list,t),s(this.element.find("."+e.wijtabsContent),t)),this.list.width(this.list.width()),this.element.data("panel.width",i.width()),this.element.data("panel.outerWidth",i.outerWidth(!0))},t.prototype._restoreLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"];a&&(a(this.element,t),a(this.list,t),a(this.element.find("."+e.wijtabsContent),t))},t.prototype._resetStyle=function(e){e.css({display:""}),i.support.opacity||e[0].style.removeAttribute("filter")},t.prototype._normalizeBlindOption=function(e){if(void 0===e.blind&&(e.blind=!1),void 0===e.fade&&(e.fade=!1),void 0===e.duration&&(e.duration=200),"string"==typeof e.duration)try{e.duration=parseInt(e.duration,10)}catch(t){e.duration=200}},t.prototype._initScroller=function(){var e=this,t=-1!==i.inArray(this._getAlignment(!0),["Top","Bottom"]),n=0;t&&(i.each(this.lis,function(t,o){var r=i(o),s,a=0,l=0;i.browser.msie&&!!e.options.scrollable&&(i.each(r.children(),function(e,t){var n=i(t);n.is("a")&&n.width(n.width()),a+=n.outerWidth(!0)}),l=a-r.width(),r.width(a)),n+=e._getLiWidth(i(o))+l}),this.options.scrollable&&this.element.innerWidth()<n?(void 0===this.scrollWrap&&(this.list.wrap("<div class='scrollWrap'></div>"),this.scrollWrap=this.list.parent(),s&&s(this.list,["width","height","overflow"])),this.list.width(Math.ceil(n)+2),this.scrollWrap.height(this.list.outerHeight(!0)),this.scrollWrap.wijsuperpanel({allowResize:!1,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})):this._removeScroller())},t.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},t.prototype._tabId=function(e){var t=i(e),n,o;return t.data&&t.data("tabid")?t.data("tabid"):e.href&&e.href.length&&(o=this._getURLParameters(e.href),o.tabId)?(n=o.tabId,t.data("tabid",n),n):(n=e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+c(),t.data("tabid",n),n)},t.prototype._getURLParameters=function(e){var t={},n,o;return e.indexOf("?")>-1&&(n=e.split("?")[1],o=n.split("&"),i.each(o,function(e,i){var n=i.split("=");n.length>1&&(t[n[0]]=n[1])})),t},t.prototype._getAlignment=function(e){var t=this.options.alignment||"top";if(e)return t.charAt(0).toUpperCase()+t.substr(1);switch(t){case"top":t="Bottom";break;case"bottom":t="Top";break;case"left":t="Right";break;case"right":t="Left"}return t},t.prototype._sanitizeSelector=function(e){return e.replace(/:/g,"\\:")},t.prototype._innerDestroy=function(e){var t=this.options,n=i("."+t.wijCSS.wijtabsContent);return this.abort(),this._removeScroller(),this.element.unbind(".tabs").removeClass(t.wijCSS.wijtabs).removeClass(t.wijCSS.tabsTop).removeClass(t.wijCSS.tabsBottom).removeClass(t.wijCSS.tabsLeft).removeClass(t.wijCSS.tabsRight).removeClass(t.wijCSS.tabs).removeClass(t.wijCSS.widget).removeClass(t.wijCSS.content).removeClass(t.wijCSS.cornerAll).removeClass(t.wijCSS.tabsCollapsible).removeClass(t.wijCSS.helperClearFix).removeData("tabs").removeAttr("role"),this.list.removeClass(t.wijCSS.tabsNav).removeClass(t.wijCSS.helperReset).removeClass(t.wijCSS.helperClearFix).removeClass(t.wijCSS.header).removeClass(t.wijCSS.cornerAll).removeAttr("role"),i.each(this.anchors,function(e,t){var n=i(t),o=n.data("href.tabs");o&&(t.href=o),n.unbind(".tabs"),i.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(n,o){var r=i(o);r.data("destroy.tabs")&&!e?r.remove():r.removeClass(t.wijCSS.stateDefault).removeClass(t.wijCSS.cornerTop).removeClass(t.wijCSS.cornerBottom).removeClass(t.wijCSS.cornerLeft).removeClass(t.wijCSS.cornerRight).removeClass(t.wijCSS.tabsActive).removeClass(t.wijCSS.stateActive).removeClass(t.wijCSS.stateHover).removeClass(t.wijCSS.stateFocus).removeClass(t.wijCSS.stateDisabled).removeClass(t.wijCSS.tabsPanel).removeClass(t.wijCSS.content).removeClass(t.wijCSS.wijtabsHide).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")}),n.length&&n.replaceWith(n.contents()),t.cookie&&this._cookie(null,t.cookie),this},t.prototype._cleanup=function(){var e=this.options.wijCSS;this.lis.filter("."+e.tabsLoading).removeClass(e.tabsLoading).find("span:data(label.tabs)").each(function(){var e=i(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},t.prototype._removeScroller=function(){this.scrollWrap&&(this.scrollWrap.wijsuperpanel("destroy").replaceWith(this.scrollWrap.contents()),this.scrollWrap=void 0,
a&&a(this.list,["width","height","overflow"]))},t.prototype._cookie=function(e,t){var n=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+h());return i.cookie.apply(null,[n].concat(i.makeArray(arguments)))},t.prototype._getLiWidth=function(e){return this._parsePxToNumber(e.css("margin-left"))+this._parsePxToNumber(e.css("border-left-width"))+this._parsePxToNumber(e.css("padding-left"))+this._parsePxToNumber(e.css("width"))+this._parsePxToNumber(e.css("margin-right"))+this._parsePxToNumber(e.css("border-right-width"))+this._parsePxToNumber(e.css("padding-right"))},t.prototype._parsePxToNumber=function(e){var t=e.indexOf("px");return t&&-1!==t?parseFloat(e.substr(0,t)):0},t.prototype.abort=function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},t.prototype.select=function(e){return"string"==typeof e?e=this.anchors.index(this.anchors.filter("[href$="+e+"]")):null===e&&(e=-1),-1===e&&this.options.collapsible&&(e=this.options.selected),this.anchors.eq(e).trigger(this.options.event+".tabs"),this},t.prototype.load=function(e){var t=this,n=t.options,o=t.anchors.eq(e)[0],r=i.data(o,"load.tabs"),s=i("span",o);return t.abort(),!1===t._trigger("beforeShow",null,t._ui(t.anchors[e],t.panels[e]))?void t.element.dequeue("tabs"):!r||0!==t.element.queue("tabs").length&&i.data(o,"cache.tabs")?void t.element.dequeue("tabs"):(t.lis.eq(e).addClass(n.wijCSS.tabsLoading),(n.spinner||t._defaults.spinner)&&s.data("label.tabs",s.html()).html(n.spinner||t._defaults.spinner),t.xhr=i.ajax(i.extend({},n.ajaxOptions,{url:r,success:function(r,s){i(t._sanitizeSelector(o.hash),t.element).html(r),t._cleanup(),n.cache&&i.data(o,"cache.tabs",!0),t._trigger("load",null,t._ui(t.anchors[e],t.panels[e]));try{n.ajaxOptions.success(r,s)}catch(a){}},error:function(i,r,s){t._cleanup(),t._trigger("load",null,t._ui(t.anchors[e],t.panels[e]));try{n.ajaxOptions.error(i,r,e,o)}catch(a){}}})),t.element.dequeue("tabs"),t)},t.prototype.add=function(e,t,n){void 0===n&&(n=this.anchors.length);var o=this,r=o.options,s=i((r.tabTemplate||o._defaults.tabTemplate).replace(/#\{href\}/g,e).replace(/#\{label\}/g,t)),a=e.indexOf("#")?o._tabId(i("a",s)[0]):e.replace("#",""),l=o._getAlignment(!0),d=o._getAlignment(!1),c=i("#"+a),h;return s.addClass(r.wijCSS.stateDefault).addClass(r.wijCSS["corner"+l]).data("destroy.tabs",!0).attr("role","tab").attr("aria-selected",!1),c.length||(c=i(r.panelTemplate||o._defaults.panelTemplate).attr("id",a).data("destroy.tabs",!0).attr("role","tabpanel")),c.addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.content).addClass(r.wijCSS["corner"+d]+" "+r.wijCSS.wijtabsHide).attr("aria-hidden",!0),n>=o.lis.length?(s.appendTo(o.list),o.panels.length>0?c.insertAfter(o.panels[o.panels.length-1]):(h=o.element.find("."+r.wijCSS.wijtabsContent),0===h.length&&(h=o.element),c.appendTo(h))):(s.insertBefore(o.lis[n]),c.insertBefore(o.panels[n])),r.disabledIndexes=i.map(r.disabledIndexes,function(e,t){return e>=n?++e:e}),o._removeScroller(),o._tabify(!1),1===o.anchors.length&&(r.selected=0,s.addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),c.removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1),o.element.queue("tabs",function(){o.element.wijTriggerVisibility&&i(o.panels[0]).wijTriggerVisibility(),o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),o.load(0)),o._trigger("add",null,o._ui(o.anchors[n],o.panels[n])),o},t.prototype.remove=function(e){var t=this.options,n=this.lis.eq(e).remove(),o=this.panels.eq(e).remove();return n.hasAllClasses(t.wijCSS.tabsActive)&&this.anchors.length>1&&this.select(e+(e+1<this.anchors.length?1:-1)),t.disabledIndexes=i.map(i.grep(t.disabledIndexes,function(t,i){return t!==e},!1),function(t,i){return t>=e?--t:t}),this._removeScroller(),this._tabify(!1),this._trigger("remove",null,this._ui(n.find("a")[0],o[0])),this},t.prototype.enableTab=function(e){var t=this.options;if(-1!==i.inArray(e,t.disabledIndexes))return this.lis.eq(e).removeClass(t.wijCSS.stateDisabled).removeAttr("aria-disabled"),t.disabledIndexes=i.grep(t.disabledIndexes,function(t,i){return t!==e},!1),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e])),this},t.prototype.disableTab=function(e){var t=this.options;return e!==t.selected&&(this.lis.eq(e).addClass(t.wijCSS.stateDisabled).attr("aria-disabled",!0),t.disabledIndexes.push(e),t.disabledIndexes.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},t.prototype.url=function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},t.prototype.length=function(){return this.anchors.length},t}(e.wijmoWidget);t.wijtabs=u,u.prototype._defaults={panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'};var p=function(){function e(){this.wijCSS={wijtabs:"wijmo-wijtabs",wijtabsContent:"wijmo-wijtabs-content",wijtabsHide:"wijmo-wijtabs-hide"},this.wijMobileCSS={header:"ui-header ui-bar-c",content:"ui-content ui-body ui-body-c",stateDefault:"ui-btn-up-a",stateActive:"ui-btn-down-b"},this.alignment="top",this.sortable=!1,this.scrollable=!1,this.ajaxOptions=null,this.cache=!1,this.cookie=null,this.collapsible=!1,this.hideOption=null,this.showOption=null,this.disabledIndexes=[],this.event="click",this.idPrefix="ui-tabs-",this.panelTemplate="",this.spinner="",this.tabTemplate="",this.add=null,this.remove=null,this.select=null,this.beforeShow=null,this.show=null,this.load=null,this.disable=null,this.enable=null}return e}();u.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new p),i.wijmo.registerWidget("wijtabs",u.prototype)}(e.tabs||(e.tabs={}));var t=e.tabs}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijvideo",o="wijmo-wijvideo",r="wijmo-wijvideo-wrapper",s="wijmo-wijvideo-controls",a="wijmo-wijvideo-play",l="wijmo-wijvideo-index",d="wijmo-wijvideo-index-slider",c="wijmo-wijvideo-timer",h="wijmo-wijvideo-volume",u="wijmo-wijvideo-volume-container",p="wijmo-wijvideo-volumeslider",f="wijmo-wijvideo-fullscreen",g="wijmo-wijvideo-container-fullscreen",m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t,n,g,m,w,v=e.options,b=e.options.wijCSS;i(this.element).is("video")?this.$video=i(this.element):this.$video=i(this.element).find("video"),!this.$video||0===this.$video.length||i.browser.msie&&parseInt(i.browser.version,10)<9||(g=this.$video[0].canPlayType,g&&(this.$video.wrap(i("<div></div>").addClass(o).addClass(b.wijvideo).addClass(b.content).addClass(b.widget)).after(i("<div></div>").addClass(r).addClass(b.wijvideoWrapper).append(i("<ul></ul>").addClass(s).addClass(b.wijvideoControls).addClass(b.header).addClass(b.helperClearFix).addClass(b.helperReset).append(i("<li></li>").addClass(a).addClass(b.wijvideoPlay).addClass(b.stateDefault).addClass(b.cornerAll).append(i("<span></span>").addClass(b.icon).addClass(b.iconPlay))).append(i("<li></li>").addClass(l).addClass(b.wijvideoIndex).append(i("<div></div>").addClass(d).addClass(b.wijvideoIndexSlider))).append(i("<li>00:00</li>").addClass(c).addClass(b.wijvideoTimer).addClass(b.stateDefault)).append(i("<li></li>").addClass(h).addClass(b.wijvideoVolume).addClass(b.stateDefault).addClass(b.cornerAll).append(i("<div></div>").addClass(u).addClass(b.wijvideoVolumeContainer).append(i("<div></div>").addClass(p).addClass(b.wijvideoVolumeSlider).addClass(b.stateDefault).addClass(b.cornerTop))).append(i("<span></span>").addClass(b.icon).addClass(b.iconVolumeOn))).append(i("<li></li>").addClass(f).addClass(b.wijvideoFullScreen).addClass(b.stateDefault).addClass(b.cornerAll).append(i("<span></span>").addClass(b.icon).addClass(b.iconArrow4Diag))))),this.$vidParent=this.$video.parent("."+o),this.$vidParent.width(this.$video.outerWidth()).height(this.$video.outerHeight()),this.$seekSlider=this.$vidParent.find("."+d),e._volumnOn=!0,e.$volumeBtn=this.$vidParent.find("."+h),w=e.$video.parent().find("."+s),m=window.setInterval(function(){e._getVideoAttribute("readyState")&&(window.clearInterval(m),e.$vidParent.width(e.$video.outerWidth()).height(e.$video.outerHeight()),w.show(),t=e.$vidParent.find("."+c).position().left,e.$seekSlider.width(t-e.$seekSlider.position().left-15),e.$seekSlider.slider({value:0,step:.01,max:e._getVideoAttribute("duration"),range:"min",stop:function(t,i){e.seek=!1,e._setVideoAttribute("currentTime",i.value)},slide:function(){e.seek=!0}}).slider("widget").addClass(v.wijCSS.stateDefault),e._updateTime(),e.$volumeSlider=e.$vidParent.find("."+p),e.$volumeSlider.slider({min:0,max:1,value:e._getVideoAttribute("volume"),step:.1,orientation:"vertical",range:"min",slide:function(t,i){e._setVideoAttribute("volume",i.value),0===i.value?(e._volumnOn=!1,e.$volumeBtn.find("span").removeClass(b.iconVolumeOn).addClass(b.iconVolumeOff)):(e._volumnOn=!0,e.$volumeBtn.find("span").removeClass(b.iconVolumeOff).addClass(b.iconVolumeOn))}}).slider("widget").addClass(v.wijCSS.stateDefault),w.css("display","none"),e._initialToolTip(),v.showControlsOnHover||(w.show(),e.$vidParent.height(e.$video.outerHeight()+w.height())))},200),this.$video.bind("click."+e.widgetName,function(){e._togglePlay()}),v.showControlsOnHover&&e.$vidParent.hover(function(){w.stop(!0,!0).fadeIn()},function(){w.delay(300).fadeOut()}),n=this.$vidParent.find("."+a+" > span"),n.click(function(){e._togglePlay()}).parent().hover(function(){i(this).addClass(b.stateHover)},function(){i(this).removeClass(b.stateHover)}),this.$vidParent.find("."+h).hover(function(){i("."+u).stop(!0,!0).slideToggle()}),this.$fullScreenBtn=this.$vidParent.find("."+f+" > span"),this.$fullScreenBtn.click(function(){e._toggleFullScreen()}).parent().hover(function(){i(this).addClass(b.stateHover)},function(){i(this).removeClass(b.stateHover)}),e.options.fullScreenButtonVisible||this.$vidParent.find("."+f).hide(),this.$volumeBtn.hover(function(){i(this).addClass(b.stateHover)},function(){i(this).removeClass(b.stateHover)}).click(function(){e._getVideoAttribute("readyState")&&(e._volumnOn=!e._volumnOn,e._volumnOn?(e.$volumeSlider.slider("value",e.currentVolumn?e.currentVolumn:1),e._setVideoAttribute("volume",e.currentVolumn?e.currentVolumn:1),e.$volumeBtn.find("span").removeClass(b.iconVolumeOff).addClass(b.iconVolumeOn)):(e.currentVolumn=e.$volumeSlider.slider("value"),e.$volumeSlider.slider("value",0),e._setVideoAttribute("volume",0),e.$volumeBtn.find("span").removeClass(b.iconVolumeOn).addClass(b.iconVolumeOff)))}),this.$video.bind("play."+e.widgetName,function(){n.removeClass(b.icon+" "+b.iconPlay).addClass(b.icon+" "+b.iconPause)}),this.$video.bind("pause."+e.widgetName,function(){n.removeClass(b.icon+" "+b.iconPause).addClass(b.icon+" "+b.iconPlay)}),this.$video.bind("ended."+e.widgetName,function(){e.pause()}),this.$video.bind("timeupdate."+e.widgetName,function(){e._updateTime()}),e._videoIsControls=!1,e._getVideoAttribute("controls")&&(e._videoIsControls=!0),this.$video.removeAttr("controls"),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e._refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijvideo"),e.options.disabled&&e._handleDisabledOption(!0,e.element)))},t.prototype._setOption=function(t,i){var n=this,o=n.options,r=n.$video.parent().find("."+s),a=n.$video.parent().find("."+a);e.prototype._setOption.call(this,t,i),"fullScreenButtonVisible"===t?(o.fullScreenButtonVisible=i,i?a.show():a.hide()):"disabled"===t?n._handleDisabledOption(i,n.element):"showControlsOnHover"===t&&(i?(this.$vidParent.height(this.$video.outerHeight()),r.hide(),n.$vidParent.hover(function(){r.stop(!0,!0).fadeIn()},function(){r.delay(300).fadeOut()})):(n.$vidParent.unbind("mouseenter mouseleave"),window.setTimeout(function(){r.show(),n.$vidParent.height(n.$video.outerHeight()+r.height())},200)))},t.prototype._handleDisabledOption=function(e,t){var n=this,o=n.$video.parent().find("."+s);e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body"),i.browser.msie&&(n.$vidParent.unbind("mouseenter mouseleave"),this.$video.unbind("click."+n.widgetName))):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null,i.browser.msie&&(n.$vidParent.hover(function(){o.stop(!0,!0).fadeIn()},function(){o.delay(300).fadeOut()}),this.$video.bind("click."+n.widgetName,function(){n._togglePlay()})))},t.prototype._createDisabledDiv=function(e){var t=this.$vidParent,n=t.offset(),o=t.outerWidth(),r=t.outerHeight();return i("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:o,height:r,left:n.left,top:n.top})},t.prototype._getVideoAttribute=function(e){return""!==e?this.$video.prop(e):void 0},t.prototype._setVideoAttribute=function(e,t){return""!==e?this.$video.prop(e,t):void 0},t.prototype._initialToolTip=function(){var e=this,t=e.options.wijCSS;this.$seekSlider.wijtooltip({mouseTrailing:!0,showCallout:!1,position:{offset:"-60 -60"}}),this.$seekSlider.bind("mousemove",function(t,i){e._changeToolTipContent(t)}),this.$volumeBtn.wijtooltip({content:e._localizeString("volumeToolTip","Volume"),showCallout:!1}),this.$fullScreenBtn.wijtooltip({content:e._localizeString("fullScreenToolTip","Full Screen"),showCallout:!1}),this.$seekSlider.wijtooltip("widget").addClass(o).addClass(t.wijvideo),this.$volumeBtn.wijtooltip("widget").addClass(o).addClass(t.wijvideo),this.$volumeBtn.wijtooltip("widget").addClass(o).addClass(t.wijvideo)},t.prototype._updateTime=function(){var e=this,t=e._getVideoAttribute("duration"),i=e._getVideoAttribute("currentTime"),n,o,r="",s="";n=this._truncate((t-i)/60),o=this._truncate(t-i-60*n),10>n&&(r="0"),10>o&&(s="0"),this.$vidParent.find("."+c).html(r+n+":"+s+o),!this.seek&&this.$seekSlider.data("ui-slider")&&this.$seekSlider.slider("value",i)},t.prototype._truncate=function(e){return Math[e>0?"floor":"ceil"](e)},t.prototype._togglePlay=function(){var e=this;e._getVideoAttribute("readyState")&&(e._getVideoAttribute("paused")?this.play():this.pause())},t.prototype._toggleFullScreen=function(){var e=this,t=e.options.wijCSS,n=e._getVideoAttribute("paused"),o=0,r=i(window).width(),s=i(window).height();this.fullScreen=!this.fullScreen,this.fullScreen?(e._oriVidParentStyle=this.$vidParent.attr("style"),e._oriWidth=this.$video.outerWidth(),e._oriHeight=this.$video.outerHeight(),e._oriDocOverFlow=i(document.documentElement).css("overflow"),i(document.documentElement).css({overflow:"hidden"}),e._replacedDiv||(e._replacedDiv=i("<div />")),this.$vidParent.after(e._replacedDiv),this.$vidParent.addClass(g).addClass(t.wijvideoContainerFullScreen).css({width:r,height:s}).appendTo(i("body")),this.$video.attr("width",r).attr("height",s),i(window).bind("resize.wijvideo",function(){e._fullscreenOnWindowResize()}),o=r-e._oriWidth):(i(document.documentElement).css({overflow:e._oriDocOverFlow}),o=e._oriWidth-this.$video.width(),e._replacedDiv.after(this.$vidParent).remove(),this.$vidParent.removeClass(g).removeClass(t.wijvideoContainerFullScreen).attr("style","").attr("style",e._oriVidParentStyle),this.$video.attr("width",e._oriWidth).attr("height",e._oriHeight),i(window).unbind("resize.wijvideo")),e._positionControls(o),e._hideToolTips(),n?e.pause():e.play()},t.prototype._fullscreenOnWindowResize=function(){var e=this,t=i(window).width(),n=i(window).height(),o=t-this.$vidParent.width();this.$vidParent.css({width:t,height:n}),this.$video.attr("width",t).attr("height",n),e._positionControls(o)},t.prototype._positionControls=function(e){var t=this.$vidParent.find("."+d);t.width(t.width()+e)},t.prototype._showToolTip=function(e){var t=this,i=e.pageX,n=e.pageY,o=this.$seekSlider.offset().left,r=this.$seekSlider.width(),s=i-o,a=t._getVideoAttribute("duration"),l;l=a*(s/r),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(l)),this.$seekSlider.wijtooltip("showAt",{x:i,y:n-10})},t.prototype._changeToolTipContent=function(e){var t=this,i=e.pageX,n=this.$seekSlider.offset().left,o=this.$seekSlider.width(),r=i-n,s=t._getVideoAttribute("duration"),a;a=s*(r/o),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(a))},t.prototype._hideToolTips=function(){this.$seekSlider.data("wijmoWijtooltip")&&this.$seekSlider.wijtooltip("hide"),this.$volumeBtn.data("wijmoWijtooltip")&&this.$volumeBtn.wijtooltip("hide"),this.$fullScreenBtn.data("wijmoWijtooltip")&&this.$fullScreenBtn.wijtooltip("hide")},t.prototype._localizeString=function(e,t){var i=this.options;return i.localization&&i.localization[e]?i.localization[e]:t},t.prototype._getToolTipContent=function(e){var t,i,n="",o="";return t=parseInt((e/60).toString(),10),i=parseInt((e-60*t).toString(),10),10>t&&(n="0"),10>i&&(o="0"),n+t+":"+o+i},t.prototype._refresh=function(){var e,t=this.$video.parent().find("."+s);t.show(),e=this.$vidParent.find("."+c).position().left,this.$seekSlider.width(e-this.$seekSlider.position().left-15),t.css("display","none"),this.options.showControlsOnHover||(t.show(),this.$vidParent.height(this.$video.outerHeight()+t.height()))},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.$vidParent.after(this.$video).remove(),this.$video.unbind("."+t.widgetName),t._videoIsControls&&t._setVideoAttribute("controls",!0)},t.prototype.play=function(){this.$video[0].play()},t.prototype.pause=function(){this.$video[0].pause()},t.prototype.getWidth=function(){return this.$video.outerWidth()},t.prototype.setWidth=function(e){e=e||600;var t=this.getWidth();this.$video.attr("width",e),this.$vidParent.width(this.$video.outerWidth()),this._positionControls(this.getWidth()-t)},t.prototype.getHeight=function(){return this.$video.outerHeight()},t.prototype.setHeight=function(e){e=e||400,this.$video.attr("height",e),this.options.showControlsOnHover?this.$vidParent.height(this.$video.outerHeight()):this.$vidParent.height(this.$video.outerHeight()+this.$video.parent().find("."+s).height())},t}(e.wijmoWidget);t.wijvideo=m;var w=function(){function e(){this.initSelector=":jqmData(role='wijvideo')",this.wijCSS={iconVolumeOn:"ui-icon-volume-on",iconVolumeOff:"ui-icon-volume-off",wijvideo:"",wijvideoWrapper:"",wijvideoControls:"",wijvideoPlay:"",wijvideoIndex:"",wijvideoIndexSlider:"",wijvideoTimer:"",wijvideoVolume:"",wijvideoVolumeContainer:"",wijvideoVolumeSlider:"",wijvideoFullScreen:"",wijvideoContainerFullScreen:""},this.fullScreenButtonVisible=!0,this.showControlsOnHover=!0,this.localization=null}return e}();m.prototype.options=i.extend(!0,{},e.wijmoWidget.prototype.options,new w),i.wijmo.registerWidget("wijvideo",m.prototype)}(e.video||(e.video={}));var t=e.video}(wijmo||(wijmo={}));var __extends=this.__extends||function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i},wijmo;!function(e){!function(t){"use strict";var i=jQuery,n="wijlistview",o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._baseWidget=function(){return i.mobile.listview},t.prototype._getListViewFromData=function(){return this.element.data("wijmoWijlistview")},t.prototype._create=function(){var t=this._getListViewFromData();"1.2."==i.mobile.version.slice(0,4)?this.element.data("listview",t):this.element.data("mobile-listview",t),this.element.addClass("wijmo-wijlistview"),e.prototype._create.call(this);var n=this.element.closest("div[data-role='content']");n&&n.length>0||this.element.wrap("<div data-role='content' class='ui-content' />")},t}(e.wijmoWidget);if(t.wijlistview=o,i.mobile&&(o.prototype.widgetName="wijlistview",o.prototype.widgetEventPrefix="listview",o.prototype.options=i.extend({},i.mobile.listview.prototype.options,e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijlistview')"}),i.wijmo.registerWidget(n,i.mobile.listview,o.prototype),"1.2."==i.mobile.version.slice(0,4))){o.prototype.options.filter=!1,o.prototype.options.filterPlaceholder="Filter items...",o.prototype.options.filterTheme="c",o.prototype.options.filterReveal=!1;var r=function(e,t,i){return-1===e.toString().toLowerCase().indexOf(t)};o.prototype.options.filterCallback=r,i(document).delegate("ul.wijmo-wijlistview,ol.wijmo-wijlistview","listviewcreate",function(){var e=i(this),t=e.data("listview");if(t.options.filter){t.options.filterReveal&&e.children().addClass("ui-screen-hidden");var n=i("<form>",{"class":"ui-listview-filter ui-bar-"+t.options.filterTheme,role:"search"}),o=i("<input>",{placeholder:t.options.filterPlaceholder}).attr("data-"+i.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var n=i(this),o=this.value.toLowerCase(),s=null,a=n.jqmData("lastval")+"",l=!1,d="",c,h=t.options.filterCallback!==r;if(t._trigger("beforefilter","beforefilter",{input:this}),n.jqmData("lastval",o),h||o.length<a.length||0!==o.indexOf(a)?s=e.children():(s=e.children(":not(.ui-screen-hidden)"),!s.length&&t.options.filterReveal&&(s=e.children(".ui-screen-hidden"))),o){for(var u=s.length-1;u>=0;u--)c=i(s[u]),d=c.jqmData("filtertext")||c.text(),c.is("li:jqmData(role=list-divider)")?(c.toggleClass("ui-filter-hidequeue",!l),l=!1):t.options.filterCallback(d,o,c)?c.toggleClass("ui-filter-hidequeue",!0):l=!0;s.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),s.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else s.toggleClass("ui-screen-hidden",!!t.options.filterReveal);t._refreshCorners()}).appendTo(n).textinput();t.options.inset&&n.addClass("ui-listview-filter-inset"),n.bind("submit",function(){return!1}).insertBefore(e)}})}}(e.listview||(e.listview={}));var t=e.listview}(wijmo||(wijmo={}));